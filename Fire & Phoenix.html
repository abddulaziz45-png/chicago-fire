
<!doctype html>
<html lang="it" data-lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Fire & Phoenix ¬∑ Chicago 1871</title>
<style>
  :root{
    --bg:#0f1115;--panel:#151924;--ink:#e9ecf1;--muted:#9aa3b2;
    --accent:#ffb703;--accent2:#fb5607;--ok:#52b788;--warn:#ff6b6b
  }
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  html,body{margin:0;background:linear-gradient(180deg,#000000 0%,#0a0000 20%,#1a0000 40%,#4a1a1a 60%,#7a1b0c 80%,#1a0000 100%);color:var(--ink);font:16px/1.6 system-ui,-apple-system,Segoe UI,Inter,Arial;min-height:100vh}
  a{color:var(--accent)}
  .container{position:relative;z-index:1;max-width:1100px;margin:0 auto;padding:24px}

  /* üî• Fiery background + shimmer */
  body::before{
    content:"";position:fixed;inset:0;z-index:-4;
    background:
      radial-gradient(1200px 600px at 70% 110%, rgba(251,86,7,.25), transparent 60%),
      radial-gradient(900px 400px at 20% 120%, rgba(255,183,3,.20), transparent 60%),
      radial-gradient(800px 300px at 50% -10%, rgba(255,80,20,.18), transparent 60%),
      linear-gradient(#0b0d12, #11151d);
    filter:saturate(1.2) contrast(1.05);
    animation:flicker 6s ease-in-out infinite alternate;
  }
  body::after{
    content:"";position:fixed;inset:-20px;z-index:-3;
    background:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400">\
<filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" seed="3"/></filter>\
<rect width="100%" height="100%" filter="url(%23n)" opacity="0.08"/></svg>') repeat;
    mix-blend-mode:screen;opacity:.6;animation:heat 12s linear infinite;
  }
  @keyframes flicker{from{transform:translateY(0)}to{transform:translateY(-8px)}}
  @keyframes heat{from{transform:translate3d(0,0,0)}to{transform:translate3d(-400px,-200px,0)}}

  /* Timeline point animations */
  @keyframes timelineDotPulse{
    from{transform:scale(1);opacity:1}
    50%{transform:scale(1.2);opacity:0.8}
    to{transform:scale(1);opacity:1}
  }
  @keyframes timelinePointPulse{
    0%, 100%{
      transform:translate(-50%, -50%) scale(1);
      box-shadow:0 0 0 3px rgba(251,86,7,0.3), 0 4px 12px rgba(251,86,7,0.5);
    }
    50%{
      transform:translate(-50%, -50%) scale(1.15);
      box-shadow:0 0 0 4px rgba(251,86,7,0.5), 0 6px 20px rgba(251,86,7,0.7);
    }
  }
  @keyframes timelinePointSmallPulse{
    0%, 100%{
      transform:translate(-50%, -50%) scale(1);
      box-shadow:0 0 0 2px rgba(251,86,7,0.3), 0 2px 8px rgba(251,86,7,0.4);
    }
    50%{
      transform:translate(-50%, -50%) scale(1.2);
      box-shadow:0 0 0 3px rgba(251,86,7,0.5), 0 4px 12px rgba(251,86,7,0.6);
    }
  }
  @keyframes timelinePointSmallPulseYellow{
    0%, 100%{
      transform:translate(-50%, -50%) scale(1);
      box-shadow:0 0 0 2px rgba(255,183,3,0.3), 0 2px 8px rgba(255,183,3,0.4);
    }
    50%{
      transform:translate(-50%, -50%) scale(1.2);
      box-shadow:0 0 0 3px rgba(255,183,3,0.5), 0 4px 12px rgba(255,183,3,0.6);
    }
  }
  @keyframes timelinePointPulseYellow{
    0%, 100%{
      transform:translate(-50%, -50%) scale(1);
      box-shadow:0 0 0 3px rgba(255,183,3,0.3), 0 4px 12px rgba(255,183,3,0.5);
    }
    50%{
      transform:translate(-50%, -50%) scale(1.15);
      box-shadow:0 0 0 4px rgba(255,183,3,0.5), 0 6px 20px rgba(255,183,3,0.7);
    }
  }
  @keyframes timelinePointPulseBlue{
    0%, 100%{
      transform:translate(-50%, -50%) scale(1);
      box-shadow:0 0 0 3px rgba(33,158,188,0.3), 0 4px 12px rgba(33,158,188,0.5);
    }
    50%{
      transform:translate(-50%, -50%) scale(1.15);
      box-shadow:0 0 0 4px rgba(33,158,188,0.5), 0 6px 20px rgba(33,158,188,0.7);
    }
  }
  @keyframes timelineLineGlow{
    0%, 100%{
      opacity:0.7;
      box-shadow:0 0 15px rgba(251,86,7,0.4), inset 0 0 10px rgba(255,183,3,0.2);
    }
    50%{
      opacity:0.9;
      box-shadow:0 0 25px rgba(251,86,7,0.6), inset 0 0 15px rgba(255,183,3,0.4);
    }
  }
  @keyframes timelineCardFadeIn{
    from{
      opacity:0;
      transform:translateX(-20px);
    }
    to{
      opacity:1;
      transform:translateX(0);
    }
  }

  
  /* Smoke & sparks overlay canvases */
  .fx-layer{position:fixed;inset:0;pointer-events:none;z-index:1}
  #flamesCanvas{position:absolute;inset:0;opacity:.85}
  #sparksCanvas{position:absolute;inset:0;opacity:.9;z-index:1}
  #ashCanvas{position:absolute;inset:0;opacity:.6}

  /* üé¨ Background Animation Canvas - Integrated Style */
  .animation-banner{position:relative;width:100%;height:42.55vw;overflow:hidden;margin:32px 0;max-height:400px;min-height:180px;border-radius:0;box-shadow:none;border:none;background:#000;backdrop-filter:none;z-index:20}
  .bg-animation-layer{position:absolute;inset:0;z-index:20;border-radius:0;overflow:hidden;background:#000}
  #backgroundAnimationCanvas{position:absolute;inset:0;opacity:1;filter:none;will-change:transform;border-radius:0;z-index:20;background:#000}
  .bg-animation-overlay{position:absolute;inset:0;background:transparent;pointer-events:none;z-index:21;border-radius:0}
  
  /* Play button for video */
  .video-play-btn{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;border-radius:50%;background:rgba(251,86,7,0.9);border:none;cursor:pointer;z-index:22;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 20px rgba(0,0,0,0.5);transition:all 0.3s ease}
  .video-play-btn:hover{background:rgba(251,86,7,1);transform:translate(-50%,-50%) scale(1.1);box-shadow:0 6px 30px rgba(251,86,7,0.6)}
  .video-play-btn::before{content:"";width:0;height:0;border-left:30px solid #fff;border-top:20px solid transparent;border-bottom:20px solid transparent;margin-left:4px}
  .video-play-btn.playing{display:none}
  
  @media (max-width:768px){
    .animation-banner{margin:20px 0;max-height:250px;min-height:150px}
    #moscow-fire .card > div[style*="grid-template-columns"]{grid-template-columns:1fr!important}
    #moscowFireAnimationContainer{position:relative!important;max-height:300px!important;margin-bottom:24px}
  }
  
  /* Hero section without animation */
  .hero{position:relative;overflow:visible;padding:24px;max-width:800px;margin:0 auto}

  header{position:sticky;top:0;background:rgba(15,17,21,0.98);border-bottom:1px solid rgba(255,255,255,0.08);backdrop-filter:blur(8px);z-index:5}
  header .bar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;padding:8px 16px;position:relative;min-height:60px}
header h1{font-family:"Segoe UI",system-ui,sans-serif;font-size:clamp(18px,2.5vw,28px);font-weight:800;margin:0;letter-spacing:-0.03em;text-transform:uppercase;line-height:1.2;flex-shrink:0}
.search-input{display:none}
[data-lang="ru"] .search-input[data-i18n-placeholder="ru"]{display:block}
[data-lang="en"] .search-input[data-i18n-placeholder="en"]{display:block}
[data-lang="it"] .search-input[data-i18n-placeholder="it"]{display:block}
[data-lang="tr"] .search-input[data-i18n-placeholder="tr"]{display:block}
.pill{display:inline-block;padding:5px 10px;border:none;border-radius:4px;background:rgba(255,255,255,0.05);position:relative;z-index:1;font-family:"Segoe UI",system-ui,sans-serif;font-weight:400;font-size:11px;letter-spacing:-0.01em;transition:background 0.2s ease;text-decoration:none;color:rgba(255,255,255,0.6);text-align:center;cursor:pointer;white-space:nowrap;flex-shrink:0}
.pill:hover{background:rgba(255,255,255,0.1);text-decoration:none;color:rgba(255,255,255,0.9)}
.pill:active{background:rgba(251,86,7,0.2);color:#ffb703;transform:scale(0.98)}
nav{display:flex;gap:6px;position:relative;z-index:1;flex-wrap:wrap;flex:1;min-width:0;max-width:100%;overflow-x:auto;overflow-y:hidden;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,0.2) transparent;padding:2px 0}
nav::-webkit-scrollbar{height:4px}
nav::-webkit-scrollbar-track{background:transparent}
nav::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.2);border-radius:2px}
nav::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.3)}
.search-container{display:flex;gap:4px;position:relative;z-index:1;flex-shrink:0;margin-left:8px}
.search-input{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.1);border-radius:4px;padding:4px 8px;font-size:10px;color:rgba(255,255,255,0.7);width:90px;transition:all 0.2s ease;font-family:"Segoe UI",system-ui,sans-serif;height:28px;box-sizing:border-box}
.search-input:focus{outline:none;border-color:rgba(251,86,7,0.5);background:rgba(255,255,255,0.05);width:120px;color:rgba(255,255,255,0.9)}
.search-input::placeholder{color:rgba(255,255,255,0.4)}
.lang{display:flex;gap:3px;position:relative;z-index:2;opacity:0.7;transition:opacity 0.3s ease;flex-shrink:0;margin-left:8px}
header:hover .lang{opacity:1}
.lang button{background:transparent;border:none;border-radius:4px;color:var(--muted);padding:4px 6px;cursor:pointer;font-size:11px;font-weight:400;opacity:0.7;transition:opacity 0.2s ease;min-width:32px}
.lang button:hover{opacity:1;background:rgba(255,255,255,0.05)}
.lang .active{opacity:1;color:var(--ink);background:rgba(255,255,255,0.08);font-weight:500}
.sound-btn{background:transparent;border:none;border-radius:4px;color:var(--muted);padding:4px 8px;cursor:pointer;font-size:14px;font-weight:400;opacity:0.6;transition:opacity 0.2s ease;display:inline-flex;align-items:center;justify-content:center;min-width:28px;height:24px;line-height:1}
.sound-btn:hover{opacity:1;background:rgba(255,255,255,0.05)}
.sound-btn.muted{opacity:0.6}
.sound-btn:not(.muted){opacity:0.6}
.sound-toggle{position:absolute;right:8px;top:8px;z-index:2;width:28px;height:28px;background:transparent;border:none;cursor:pointer;opacity:0;transition:opacity 0.4s ease,transform 0.2s ease;padding:0;display:flex;align-items:center;justify-content:center;font-size:16px;color:rgba(255,255,255,0.8);pointer-events:none;border-radius:4px}
.sound-toggle:hover{opacity:1 !important;transform:scale(1.15);background:rgba(255,255,255,0.05)}
.sound-toggle.muted{opacity:0.4}
.sound-toggle.muted::before{content:"üîá";font-size:16px}
.sound-toggle:not(.muted)::before{content:"üîä";font-size:16px}
header:hover .sound-toggle{opacity:0.6;pointer-events:auto}
header .sound-toggle:hover{opacity:1 !important}

  .hero{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;text-align:center;gap:28px;padding:40px 24px;max-width:1200px;margin:32px auto;background:linear-gradient(135deg, rgba(15,17,21,0.85), rgba(26,31,46,0.9));backdrop-filter:blur(12px);border-radius:20px;border:1px solid rgba(122,27,12,0.3);box-shadow:0 8px 32px rgba(0,0,0,0.4), 0 0 40px rgba(251,86,7,0.15)}
  .title{font-size:clamp(26px,4.5vw,44px);line-height:1.15;margin:4px 0 10px;text-shadow:-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000, 0 0 4px rgba(0,0,0,0.8)}

  .card{position:relative;z-index:1;background:linear-gradient(135deg,rgba(21,25,36,0.9),rgba(122,27,12,0.8));border:1px solid #7a1b0c;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.4),0 0 20px rgba(122,27,12,0.1);transition:transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease}
  .card.animated{opacity:0;transform:translateY(20px)}
  .card.visible{opacity:1;transform:translateY(0)}
  .card:hover:not(.tcard){transform:translateY(-4px)!important;box-shadow:0 12px 32px rgba(251,86,7,0.4)}
  .card.pad{padding:18px}
  /* ‚ú® pulsing on sections/cards */
  .card, section.container{animation:sectionPulse 12s ease-in-out infinite}
  @keyframes sectionPulse{
    0%,100%{box-shadow:0 8px 24px rgba(251,86,7,.10);border-color:#222a39;background:var(--panel)}
    50%{box-shadow:0 12px 32px rgba(251,86,7,.28);border-color:#3a2a20;background:linear-gradient(180deg,#171c26,#151924)}
  }

  /* üé¨ Video Gallery Continuous Animation */
  #photo-library .card{
    animation:videoCardPulse 8s ease-in-out infinite;
    position:relative;
    overflow:hidden;
  }
  #photo-library .card::before{
    content:"";
    position:absolute;
    top:0;
    left:-100%;
    width:100%;
    height:100%;
    background:linear-gradient(90deg, transparent, rgba(255,183,3,0.1), transparent);
    animation:videoShimmer 3s ease-in-out infinite;
    z-index:1;
    pointer-events:none;
  }
  #photo-library .ph{
    animation:videoContainerGlow 6s ease-in-out infinite;
  }
  #photo-library video{
    animation:videoPlaybackSmooth 2s ease-in-out infinite alternate;
  }
  
  @keyframes videoCardPulse{
    0%,100%{
      box-shadow:0 8px 24px rgba(251,86,7,.15);
      border-color:#2a3447;
      transform:scale(1);
    }
    50%{
      box-shadow:0 12px 32px rgba(251,86,7,.35);
      border-color:#fb5607;
      transform:scale(1.02);
    }
  }
  
  @keyframes videoShimmer{
    0%{left:-100%;opacity:0}
    50%{opacity:1}
    100%{left:100%;opacity:0}
  }
  
  @keyframes videoContainerGlow{
    0%,100%{
      box-shadow:inset 0 0 20px rgba(255,183,3,0.1);
      border-color:#222a39;
    }
    50%{
      box-shadow:inset 0 0 30px rgba(255,183,3,0.3);
      border-color:#ffb703;
    }
  }
  
  @keyframes videoPlaybackSmooth{
    0%{
      filter:brightness(1) contrast(1) saturate(1);
      transform:scale(1);
    }
    100%{
      filter:brightness(1.05) contrast(1.1) saturate(1.1);
      transform:scale(1.01);
    }
  }

  .muted{color:var(--muted)}
  .grid{display:grid;gap:16px}
  .grid.cols-4{grid-template-columns:repeat(4,1fr);gap:12px}
  .grid.cols-3{grid-template-columns:repeat(3,1fr)}
  .grid.cols-2{grid-template-columns:repeat(2,1fr)}
  @media (max-width:900px){.hero{grid-template-columns:1fr}.grid.cols-4,.grid.cols-3,.grid.cols-2{grid-template-columns:1fr}}

  .kpi{display:flex;flex-direction:column;align-items:center;gap:6px;padding:16px;border-radius:14px;background:linear-gradient(135deg,rgba(18,24,38,0.8),rgba(122,27,12,0.6));border:1px dashed #7a1b0c;box-shadow:0 4px 16px rgba(122,27,12,0.1);transition:all 0.3s ease;cursor:pointer}
  .kpi:hover{background:linear-gradient(135deg,rgba(251,86,7,0.2),rgba(255,183,3,0.15));border:1px solid #fb5607;box-shadow:0 8px 24px rgba(251,86,7,0.4);transform:translateY(-4px)}
  .grid.cols-4 .kpi{padding:12px}
  .grid.cols-4 .kpi strong{font-size:1.4em}
  .grid.cols-4 .kpi .muted{font-size:0.85em}
  .ph{position:relative;width:100%;aspect-ratio:16/9;border-radius:14px;overflow:hidden;border:1px solid #222a39;background:#0e1420}
  .ph img, .ph video{cursor:pointer;transition:transform 0.3s ease}
  .ph:hover img, .ph:hover video{transform:scale(1.05)}
  .slider{position:relative}.slider .img{position:relative}.slider .handle{position:absolute;top:0;left:52%;width:4px;height:100%;background:var(--accent2);box-shadow:0 0 0 3px rgba(0,0,0,.5), 0 0 10px rgba(251,86,7,0.6), inset 0 0 8px rgba(255,183,3,0.4);cursor:ew-resize;z-index:10;border-radius:2px;touch-action:none;user-select:none}
  .slider .label{position:absolute;top:10px;padding:6px 10px;border-radius:10px;background:rgba(0,0,0,.55);font-size:12px;z-index:20}.slider .label.left{left:10px}.slider .label.right{right:10px}
  .slider .after{position:absolute;overflow:hidden}
  .slider .after img{width:100%!important;height:100%!important;max-width:100%!important;max-height:100%!important;object-fit:contain!important;object-position:center!important;transform:none!important;scale:1!important;background:#1a1a1a!important}
  .slider .img img{width:100%!important;height:100%!important;max-width:100%!important;max-height:100%!important;object-fit:contain!important;object-position:center!important;transform:none!important;scale:1!important}

  .timeline{padding:24px 0}
  .timeline .rail{display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:20px;padding-bottom:8px}
  .timeline .tcard{scroll-snap-align:start;transition:transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;cursor:pointer;opacity:0;transform:translateY(20px)}
  .timeline .tcard.visible{opacity:1;transform:translateY(0)}
  .timeline .tcard:hover{transform:translateY(-4px)!important;box-shadow:0 8px 24px rgba(251,86,7,0.4)}
  .timeline .when{font-weight:700;margin-bottom:6px}.timeline .ph{aspect-ratio:4/3;cursor:pointer;transition:transform 0.3s ease}
  .timeline .ph:hover{transform:scale(1.05)}
  @media (max-width:768px){.timeline .rail{grid-template-columns:1fr}}
  
  /* Lightbox styles */
  .lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.95);z-index:9999;align-items:center;justify-content:center;padding:20px;opacity:0;transition:opacity 0.3s ease}
  .lightbox.active{display:flex;opacity:1}
  .lightbox img{max-width:100%;max-height:100%;object-fit:contain;border-radius:12px;box-shadow:0 8px 32px rgba(251,86,7,0.5);animation:lightboxFadeIn 0.4s ease}
  .lightbox-close{position:absolute;top:20px;right:20px;background:rgba(251,86,7,0.9);color:#fff;border:none;width:40px;height:40px;border-radius:50%;font-size:24px;cursor:pointer;transition:background 0.3s ease}
  .lightbox-close:hover{background:#fb5607}
  @keyframes lightboxFadeIn{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:scale(1)}}

  .audio-row{display:grid;grid-template-columns:1fr;gap:12px}
  audio{width:100%;height:48px;border-radius:8px;outline:none;transition:all 0.3s ease;filter:opacity(0.8)}
  audio:hover{filter:opacity(1)}
  audio::-webkit-media-controls-panel{background-color:rgba(251,86,7,0.15);border-radius:8px}
  audio::-webkit-media-controls-play-button{background-color:rgba(251,86,7,0.8);border-radius:50%;transition:all 0.2s ease}
  audio::-webkit-media-controls-play-button:hover{background-color:#fb5607;transform:scale(1.1)}
  footer{padding:16px 24px 32px;color:rgba(255,255,255,0.5);text-align:center;font-size:13px;line-height:1.5}

  /* i18n visibility */
  [data-i18n]{display:none}
  html[data-lang="ru"] [data-i18n="ru"],
  html[data-lang="en"] [data-i18n="en"],
  html[data-lang="it"] [data-i18n="it"],
  html[data-lang="tr"] [data-i18n="tr"]{display:revert}
  html[data-lang="ru"] [data-i18n="ru"] strong,
  html[data-lang="en"] [data-i18n="en"] strong,
  html[data-lang="it"] [data-i18n="it"] strong,
  html[data-lang="tr"] [data-i18n="tr"] strong,
  html[data-lang="ru"] strong[data-i18n="ru"],
  html[data-lang="en"] strong[data-i18n="en"],
  html[data-lang="it"] strong[data-i18n="it"],
  html[data-lang="tr"] strong[data-i18n="tr"],
  html[data-lang="ru"] label[data-i18n="ru"],
  html[data-lang="en"] label[data-i18n="en"],
  html[data-lang="it"] label[data-i18n="it"],
  html[data-lang="tr"] label[data-i18n="tr"]{display:block}

  /* Game styles */
  #gameWrap{background:linear-gradient(135deg, #0e1420, #1a1f2e);border-radius:16px;border:2px solid #fb5607;overflow:hidden;box-shadow:0 0 30px rgba(251,86,7,0.4), inset 0 0 20px rgba(251,86,7,0.1)}
  #gameHUD{display:flex;gap:12px;flex-wrap:wrap;align-items:center;padding:12px 16px;border-bottom:2px solid rgba(251,86,7,0.6);background:linear-gradient(90deg, rgba(15,19,29,0.95), rgba(26,31,46,0.95));box-shadow:0 4px 12px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.05);backdrop-filter:blur(8px)}
  #gameCanvas{display:block;width:100%;height:auto;background:linear-gradient(135deg, #0a0d14 0%, #1a1f2e 50%, #0f1419 100%);touch-action:none;cursor:crosshair;border:1px solid rgba(251,86,7,0.2);box-shadow:inset 0 0 40px rgba(0,0,0,0.5)}
  .badge{border:1px solid rgba(251,86,7,0.3);border-radius:12px;padding:6px 12px;background:linear-gradient(135deg, rgba(16,23,36,0.9), rgba(26,31,46,0.8));box-shadow:0 2px 8px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1);backdrop-filter:blur(4px);transition:all 0.3s ease}
  .badge:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(251,86,7,0.4), inset 0 1px 0 rgba(255,255,255,0.15);border-color:rgba(251,86,7,0.5)}

  /* Quiz styles */
  #quiz{scroll-margin-top:70px}
  .qwrap{display:grid;gap:12px}
  .qcard{background:#121826;border:1px solid #263045;border-radius:12px;padding:14px}
  .choices{display:grid;gap:8px}
  .choices button{background:#0f131d;border:2px solid #2a3447;border-radius:10px;color:var(--ink);padding:8px 10px;cursor:pointer;text-align:left;transition:all 0.3s ease;position:relative}
  .choices button:hover{background:#1a1f2e;border-color:#fb5607;transform:translateY(-2px);box-shadow:0 4px 12px rgba(251,86,7,0.3)}
  .choices button.selected{background:linear-gradient(135deg, #fb5607, #ffb703);border-color:#ffb703;color:#000;font-weight:bold;transform:scale(1.05);box-shadow:0 6px 20px rgba(251,86,7,0.5)}
  .choices button.correct{border-color:#52b788;background:linear-gradient(135deg, #52b788, #95d5b2);color:#000;font-weight:bold}
  .choices button.wrong{border-color:#ff6b6b;background:linear-gradient(135deg, #ff6b6b, #ffb3ba);color:#000;font-weight:bold}
  .quiz-ctrl{display:flex;gap:10px;align-items:center;margin-top:12px}
  .pill.primary{background:#1b263b;border-color:#2a3447}

  /* Section titles larger font with glow and decorative lines */
  h3.section-title{
    font-size:clamp(20px,2.5vw,26px)!important;
    line-height:1.3!important;
    font-weight:700!important;
    margin:0 0 32px!important;
    padding:16px 24px!important;
    color:#fff!important;
    text-align:center!important;
    position:relative!important;
    text-shadow:0 0 10px rgba(251,86,7,0.6), 0 0 20px rgba(251,86,7,0.4), 0 0 30px rgba(251,86,7,0.2), -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000!important;
  }
  h3.section-title::before,
  h3.section-title::after{
    content:''!important;
    position:absolute!important;
    top:50%!important;
    height:2px!important;
    background:linear-gradient(90deg, transparent, #fb5607, transparent)!important;
    width:15%!important;
  }
  h3.section-title::before{
    left:0!important;
  }
  h3.section-title::after{
    right:0!important;
    background:linear-gradient(90deg, transparent, #fb5607, transparent)!important;
  }
  section.container h3.section-title{padding-left:0!important;padding-right:0!important}
  #moscow-fire h3.section-title{
    font-size:clamp(16px,2vw,22px)!important;
    margin:0 0 32px!important;
  }
  
  /* Section islands background */
  section.container{
    position:relative;
    padding:40px 24px;
    margin:40px auto;
    max-width:1200px;
    background:linear-gradient(135deg, rgba(15,17,21,0.85), rgba(26,31,46,0.9));
    backdrop-filter:blur(12px);
    border-radius:20px;
    border:1px solid rgba(122,27,12,0.3);
    box-shadow:0 8px 32px rgba(0,0,0,0.4), 0 0 40px rgba(251,86,7,0.15);
  }
  
  /* First container after hero */
  section.container:first-of-type{
    margin-top:12px;
  }
  
  /* Space between sections */
  section.container + section.container{
    margin-top:10px;
  }
  
  /* Responsive padding */
  @media (max-width:768px){
    .hero{padding:32px 16px;margin:20px 16px}
    section.container{padding:32px 16px;margin:10px 16px}
    section.container:first-of-type{margin-top:12px}
    section.container + section.container{margin-top:8px}
    header .bar{flex-direction:column;align-items:stretch;gap:6px;padding:8px 12px;min-height:auto}
    header h1{font-size:clamp(16px,4vw,24px);text-align:center}
    nav{order:3;width:100%;justify-content:flex-start;gap:4px;padding:4px 0}
    .pill{font-size:10px;padding:4px 8px}
    .search-container{order:2;width:100%;justify-content:center;margin:4px 0 0 0}
    .lang{order:1;justify-content:center;width:100%;margin:0 0 4px 0;opacity:1}
    .lang button{font-size:10px;padding:3px 5px;min-width:28px}
  }
  @media (max-width:1024px) and (min-width:769px){
    nav{max-width:calc(100vw - 400px)}
    .pill{font-size:10px;padding:4px 8px}
  }
</style>
</head>
<body>
<a id="top"></a>
<div class="fx-layer" aria-hidden="true">
  <canvas id="flamesCanvas"></canvas>
  <canvas id="sparksCanvas"></canvas>
  <canvas id="ashCanvas"></canvas>
</div>

<header>
  <div class="bar">
    <h1><a href="#top" style="color:inherit;text-decoration:none" data-i18n="ru">–û–≥–æ–Ω—å –∏ –§–µ–Ω–∏–∫—Å</a></h1>
    <h1><a href="#top" style="color:inherit;text-decoration:none" data-i18n="en">Fire & Phoenix</a></h1>
    <h1><a href="#top" style="color:inherit;text-decoration:none" data-i18n="it">Fuoco e Fenice</a></h1>
    <h1><a href="#top" style="color:inherit;text-decoration:none" data-i18n="tr">Ate≈ü ve Anka</a></h1>
    <span class="pill" data-i18n="ru">–ü–æ–∂–∞—Ä –ß–∏–∫–∞–≥–æ ¬∑ 1871</span>
    <span class="pill" data-i18n="en">Great Chicago Fire ¬∑ 1871</span>
    <span class="pill" data-i18n="it">Grande Incendio di Chicago ¬∑ 1871</span>
    <span class="pill" data-i18n="tr">B√ºy√ºk Chicago Yangƒ±nƒ± ¬∑ 1871</span>
    <nav>
      <a class="pill" href="#sc2"><span data-i18n="ru">–ì–¥–µ –Ω–∞—á–∞–ª–æ—Å—å</span><span data-i18n="en">Where it began</span><span data-i18n="it">Dove √® iniziato</span><span data-i18n="tr">Nerede ba≈üladƒ±</span></a>
      <a class="pill" href="#cow-myth-video"><span data-i18n="ru">–ú–∏—Ñ –æ –∫–æ—Ä–æ–≤–µ</span><span data-i18n="en">Cow Myth</span><span data-i18n="it">Mito della Mucca</span><span data-i18n="tr">ƒ∞nek Efsanesi</span></a>
      <a class="pill" href="#timeline-animation"><span data-i18n="ru">–¢–∞–π–º–ª–∞–π–Ω</span><span data-i18n="en">Timeline</span><span data-i18n="it">Timeline</span><span data-i18n="tr">Zaman √áizelgesi</span></a>
      <a class="pill" href="#game"><span data-i18n="ru">–ò–≥—Ä–∞</span><span data-i18n="en">Game</span><span data-i18n="it">Gioco</span><span data-i18n="tr">Oyun</span></a>
      <a class="pill" href="#streets"><span data-i18n="ru">–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —É–ª–∏—Ü—ã</span><span data-i18n="en">Historic Streets</span><span data-i18n="it">Strade Storiche</span><span data-i18n="tr">Tarihi Sokaklar</span></a>
      <a class="pill" href="#sc3"><span data-i18n="ru">–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è</span><span data-i18n="en">Transformation</span><span data-i18n="it">Trasformazione</span><span data-i18n="tr">D√∂n√º≈ü√ºm</span></a>
      <a class="pill" href="#sc4"><span data-i18n="ru">–†—É–∏–Ω—ã –∫ –Ω–∞–¥–µ–∂–¥–µ</span><span data-i18n="en">Ruin to Hope</span><span data-i18n="it">Rovine alla speranza</span><span data-i18n="tr">Harabeden umuda</span></a>
      <a class="pill" href="#fire-details"><span data-i18n="ru">–ù–∞—Å–ª–µ–¥–∏–µ</span><span data-i18n="en">Legacy</span><span data-i18n="it">Eredit√†</span><span data-i18n="tr">Miras</span></a>
      <a class="pill" href="#photo-library"><span data-i18n="ru">–§–æ—Ç–æ</span><span data-i18n="en">Photos</span><span data-i18n="it">Foto</span><span data-i18n="tr">Fotoƒüraflar</span></a>
      <a class="pill" href="#quiz"><span data-i18n="ru">–ö–≤–∏–∑</span><span data-i18n="en">Quiz</span><span data-i18n="it">Quiz</span><span data-i18n="tr">Quiz</span></a>
      <a class="pill" href="#sounds"><span data-i18n="ru">–ì–æ–ª–æ—Å–∞ –æ–≥–Ω—è</span><span data-i18n="en">Voices of Fire</span><span data-i18n="it">Voci del fuoco</span><span data-i18n="tr">Yangƒ±nƒ±n Sesi</span></a>
      <a class="pill" href="#moscow-fire"><span data-i18n="ru">–ú–æ—Å–∫–≤–∞ 1812</span><span data-i18n="en">Moscow 1812</span><span data-i18n="it">Mosca 1812</span><span data-i18n="tr">Moskova 1812</span></a>
      <a class="pill" href="#submit-fire"><span data-i18n="ru">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span><span data-i18n="en">Share Story</span><span data-i18n="it">Condividi</span><span data-i18n="tr">Hikaye Payla≈ü</span></a>
      <a class="pill" href="#credits"><span data-i18n="ru">–ö—Ä–µ–¥–∏—Ç—ã</span><span data-i18n="en">Credits & sources</span><span data-i18n="it">Crediti e fonti</span><span data-i18n="tr">Krediler ve kaynaklar</span></a>
    </nav>
    <div class="search-container">
      <input type="search" class="search-input" placeholder="–ü–æ–∏—Å–∫..." data-i18n-placeholder="ru" />
      <input type="search" class="search-input" placeholder="Search..." data-i18n-placeholder="en" />
      <input type="search" class="search-input" placeholder="Cerca..." data-i18n-placeholder="it" />
      <input type="search" class="search-input" placeholder="Ara..." data-i18n-placeholder="tr" />
    </div>
    <div class="lang">
      <button data-setlang="it">IT</button>
      <button data-setlang="en">EN</button>
      <button data-setlang="tr">TR</button>
      <button data-setlang="ru">RU</button>
      <button id="soundBtn" class="sound-btn" title="Toggle sound" aria-label="Toggle sound">üîä</button>
    </div>
  </div>
</header>

<!-- üé¨ Animation Banner -->
<div class="animation-banner">
  <div class="bg-animation-layer" aria-hidden="true">
    <canvas id="backgroundAnimationCanvas"></canvas>
    <div class="bg-animation-overlay"></div>
  </div>
  <button class="video-play-btn" id="videoPlayBtn" aria-label="Play animation"></button>
</div>

<section class="hero" id="sc1">
  <div>
    <h2 class="title" style="max-width:850px;margin-left:auto;margin-right:auto;line-height:1.3" data-i18n="ru">–û—Ç —Å–∞—Ä–∞—è –∫ –ª–µ–≥–µ–Ω–¥–µ: –∫–∞–∫ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ Harper's Weekly –∏ –º–∏—Ñ –æ ¬´–∫–æ—Ä–æ–≤–µ –û'–õ–∏—Ä–∏¬ª —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å –∏ —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–ª–∏ –æ–±—Ä–∞–∑ ¬´—Å—Ç–æ–π–∫–æ–≥–æ¬ª –ß–∏–∫–∞–≥–æ (1871)</h2>
    <h2 class="title" style="max-width:850px;margin-left:auto;margin-right:auto;line-height:1.3" data-i18n="en">From Barn to Legend: How Harper's Weekly Illustrations and the "O'Leary Cow" Myth Shaped Collective Memory and Constructed Chicago's Post-Fire Resilience Identity (1871)</h2>
    <h2 class="title" style="max-width:850px;margin-left:auto;margin-right:auto;line-height:1.3" data-i18n="it">In che modo la storia della "mucca della signora O'Leary" e le immagini della stampa hanno plasmato la memoria collettiva del disastro e l'immagine di "resilienza" della citt√†?</h2>
    <h2 class="title" style="max-width:850px;margin-left:auto;margin-right:auto;line-height:1.3" data-i18n="tr">"Bayan O'Leary'nin ineƒüi" hikayesi ve basƒ±n g√∂rselleri felaketin kolektif hafƒ±zasƒ±nƒ± ve ≈üehrin "dayanƒ±klƒ±lƒ±k" imajƒ±nƒ± nasƒ±l ≈üekillendirdi?</h2>
    <p class="muted" data-i18n="ru">–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å –∫–∞—Ä—Ç–æ–π, —Å–ª–∞–π–¥–µ—Ä–æ–º ¬´–ø—Ä–µ—Å—Å–∞ ‚Üî –∫–∞—Ä—Ç–∞ –æ–≥–Ω—è¬ª, —Ç–∞–π–º–ª–∞–π–Ω–æ–º, –∏–≥—Ä–æ–π –∏ 30-–≤–æ–ø—Ä–æ—Å–Ω—ã–º –∫–≤–∏–∑–æ–º.</p>
    <p class="muted" data-i18n="en">One-page multimedia story with map, press-vs-map slider, timeline, game, and a 30-question quiz.</p>
    <p class="muted" data-i18n="it">Storia multimediale in una pagina con mappa, slider stampa-vs-mappa, timeline, gioco e quiz da 30 domande.</p>
    <p class="muted" data-i18n="tr">Harita, basƒ±n-harita kaydƒ±rƒ±cƒ±sƒ±, zaman √ßizelgesi, oyun ve 30 soruluk quiz ile tek sayfalƒ±k multimedya hikayesi.</p>
    
    <div style="margin-top:20px;padding:16px;background:rgba(251,86,7,0.1);border-left:4px solid #fb5607;border-radius:8px">
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="ru">üî• –û –í–µ–ª–∏–∫–æ–º –ø–æ–∂–∞—Ä–µ –ß–∏–∫–∞–≥–æ 1871</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="en">üî• About the Great Chicago Fire of 1871</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="it">üî• Sul Grande Incendio di Chicago del 1871</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="tr">üî• 1871 B√ºy√ºk Chicago Yangƒ±nƒ± Hakkƒ±nda</h4>
      <p class="muted" data-i18n="ru">–í –Ω–æ—á—å —Å 8 –Ω–∞ 9 –æ–∫—Ç—è–±—Ä—è 1871 –≥–æ–¥–∞ –≤ –ß–∏–∫–∞–≥–æ –≤—Å–ø—ã—Ö–Ω—É–ª –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–∂–∞—Ä–æ–≤ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –°–®–ê. –û–≥–æ–Ω—å, –Ω–∞—á–∞–≤—à–∏–π—Å—è –≤ —Å–∞—Ä–∞–µ –Ω–∞ —É–ª–∏—Ü–µ De Koven, –±—ã—Å—Ç—Ä–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª—Å—è –ø–æ –≥–æ—Ä–æ–¥—É –∏–∑-–∑–∞ —Å–∏–ª—å–Ω–æ–≥–æ —é–≥–æ-–∑–∞–ø–∞–¥–Ω–æ–≥–æ –≤–µ—Ç—Ä–∞ –∏ –∑–∞—Å—É—à–ª–∏–≤—ã—Ö —É—Å–ª–æ–≤–∏–π. –ó–∞ –¥–≤–∞ –¥–Ω—è –ø–æ–∂–∞—Ä —É–Ω–∏—á—Ç–æ–∂–∏–ª –±–æ–ª–µ–µ 17 000 –∑–¥–∞–Ω–∏–π, –æ—Å—Ç–∞–≤–∏–≤ –±–µ–∑ –∫—Ä–æ–≤–∞ –±–æ–ª–µ–µ 100 000 —á–µ–ª–æ–≤–µ–∫ –∏ –∏–∑–º–µ–Ω–∏–≤ –æ–±–ª–∏–∫ –≥–æ—Ä–æ–¥–∞ –Ω–∞–≤—Å–µ–≥–¥–∞.</p>
      <p class="muted" data-i18n="en">On the night of October 8-9, 1871, Chicago experienced one of the most devastating fires in American history. The fire, which began in a barn on De Koven Street, quickly spread throughout the city due to strong southwesterly winds and dry conditions. Over two days, the fire destroyed more than 17,000 buildings, left over 100,000 people homeless, and forever changed the city's landscape.</p>
      <p class="muted" data-i18n="it">Nella notte tra l'8 e il 9 ottobre 1871, Chicago ha vissuto uno degli incendi pi√π devastanti della storia americana. L'incendio, iniziato in una stalla in De Koven Street, si √® rapidamente diffuso in tutta la citt√† a causa di forti venti sud-occidentali e condizioni secche. In due giorni, l'incendio ha distrutto pi√π di 17.000 edifici, lasciato oltre 100.000 persone senza casa e cambiato per sempre il paesaggio della citt√†.</p>
      <p class="muted" data-i18n="tr">8-9 Ekim 1871 gecesi Chicago, Amerikan tarihinin en yƒ±kƒ±cƒ± yangƒ±nlarƒ±ndan birini ya≈üadƒ±. De Koven Sokaƒüƒ±'ndaki bir ahƒ±rda ba≈ülayan yangƒ±n, g√º√ßl√º g√ºneybatƒ± r√ºzgarlarƒ± ve kurak ko≈üullar nedeniyle hƒ±zla t√ºm ≈üehre yayƒ±ldƒ±. ƒ∞ki g√ºn i√ßinde yangƒ±n 17.000'den fazla binayƒ± yok etti, 100.000'den fazla ki≈üiyi evsiz bƒ±raktƒ± ve ≈üehrin manzarasƒ±nƒ± sonsuza dek deƒüi≈ütirdi.</p>
    </div>

    <div class="grid cols-4" style="margin-top:10px">
      <div class="kpi"><strong>~17,000</strong><span class="muted" data-i18n="ru">—Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã—Ö –∑–¥–∞–Ω–∏–π</span><span class="muted" data-i18n="en">buildings destroyed</span><span class="muted" data-i18n="it">edifici distrutti</span><span class="muted" data-i18n="tr">yƒ±kƒ±lan bina</span></div>
      <div class="kpi"><strong>‚â•100,000</strong><span class="muted" data-i18n="ru">–±–µ–∑ –∂–∏–ª—å—è</span><span class="muted" data-i18n="en">left homeless</span><span class="muted" data-i18n="it">senza tetto</span><span class="muted" data-i18n="tr">evsiz kalan</span></div>
      <div class="kpi"><strong>~300</strong><span class="muted" data-i18n="ru">–ø–æ–≥–∏–±–ª–æ</span><span class="muted" data-i18n="en">died</span><span class="muted" data-i18n="it">morti</span><span class="muted" data-i18n="tr">√∂ld√º</span></div>
      <div class="kpi"><strong>2 nights</strong><span class="muted" data-i18n="ru">8‚Äì9 –æ–∫—Ç—è–±—Ä—è 1871</span><span class="muted" data-i18n="en">Oct 8‚Äì9, 1871</span><span class="muted" data-i18n="it">8‚Äì9 ottobre 1871</span><span class="muted" data-i18n="tr">8-9 Ekim 1871</span></div>
    </div>
</section>

<section id="sc2" class="container">
  <h3 class="section-title" data-i18n="ru">–ì–¥–µ –≤—Å—ë –Ω–∞—á–∞–ª–æ—Å—å –∏ –∫–∞–∫–∏–µ —Ç–æ—á–∫–∏ –ø–∞–º—è—Ç–∏ –≤–∞–∂–Ω—ã?</h3>
  <h3 class="section-title" data-i18n="en">Where did it begin? What places matter?</h3>
  <h3 class="section-title" data-i18n="it">Dove √® iniziato? Quali luoghi contano?</h3>
  <h3 class="section-title" data-i18n="tr">Nerede ba≈üladƒ±? Hangi yerler √∂nemli?</h3>
  <div class="grid cols-2">
    <div class="card pad">
      <div class="ph" style="position:relative;padding-bottom:56.25%" id="placesAnimationContainer">
        <video id="placesAnimation" autoplay muted playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:contain;background:#000">
          <!-- Animation sources will be dynamically loaded -->
        </video>
        <div id="placesAnimationCounter" style="position:absolute;bottom:12px;right:12px;background:rgba(0,0,0,0.75);color:#ffb703;padding:6px 14px;border-radius:6px;font-size:13px;font-weight:600;z-index:10;backdrop-filter:blur(4px);border:1px solid rgba(255,183,3,0.2)">
          <span data-i18n="ru">1 / 7</span>
          <span data-i18n="en">1 / 7</span>
          <span data-i18n="it">1 / 7</span>
          <span data-i18n="tr">1 / 7</span>
        </div>
      </div>
      <div class="muted" style="margin-top:6px" data-i18n="ru">De Koven St. ‚Äî —Å—Ç–∞—Ä—Ç; State & Madison ‚Äî —Ä—É–∏–Ω—ã. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">–õ–µ–Ω–¥–º–∞—Ä–∫ –º–µ—Å—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø–æ–∂–∞—Ä–∞</a>.</div>
      <div class="muted" style="margin-top:6px" data-i18n="en">De Koven St. ‚Äî origin; State & Madison ‚Äî iconic ruins. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">Official landmark page</a>.</div>
      <div class="muted" style="margin-top:6px" data-i18n="it">De Koven St. ‚Äî origine; State & Madison ‚Äî rovine iconiche. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">Pagina ufficiale del landmark</a>.</div>
      <div class="muted" style="margin-top:6px" data-i18n="tr">De Koven St. ‚Äî ba≈ülangƒ±√ß; State & Madison ‚Äî ikonik harabeler. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">Resmi anƒ±t sayfasƒ±</a>.</div>
    </div>
     <div class="card pad" style="display:flex;align-items:center;justify-content:center;min-height:200px">
       <ul class="muted" style="margin:0;text-align:center">
         <li style="margin-bottom:8px"><strong data-i18n="ru">–ö—Ç–æ:</strong><strong data-i18n="en">Who:</strong><strong data-i18n="it">Chi:</strong><strong data-i18n="tr">Kim:</strong> <span data-i18n="ru">Harper's Weekly –∏–ª–ª—é—Å—Ç—Ä–∞—Ç–æ—Ä—ã, —á–∏–Ω–æ–≤–Ω–∏–∫–∏ –ß–∏–∫–∞–≥–æ, –æ—á–µ–≤–∏–¥—Ü—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã Burnham & Root, —Å–æ–∑–¥–∞—Ç–µ–ª–∏ –º–∏—Ñ–∞ 1870-1890-—Ö, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏.</span><span data-i18n="en">Harper's Weekly illustrators, Chicago officials, eyewitnesses, architects Burnham & Root, 1870s-1890s myth-makers, contemporary researchers.</span><span data-i18n="it">Illustratori di Harper's Weekly, funzionari di Chicago, testimoni oculari, architetti Burnham & Root, creatori di miti 1870-1890, ricercatori contemporanei.</span><span data-i18n="tr">Harper's Weekly ill√ºstrat√∂rleri, Chicago yetkilileri, tanƒ±klar, Burnham & Root mimarlarƒ±, 1870-1890 mit yaratƒ±cƒ±larƒ±, √ßaƒüda≈ü ara≈ütƒ±rmacƒ±lar.</span></li>
         <li style="margin-bottom:8px"><strong data-i18n="ru">–ß—Ç–æ:</strong><strong data-i18n="en">What:</strong><strong data-i18n="it">Cosa:</strong><strong data-i18n="tr">Ne:</strong> <span data-i18n="ru">–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π –º–∏—Ñ —á–µ—Ä–µ–∑ –º–µ–¥–∏–∞: –∫–∞–∫ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ Harper's Weekly —Å–æ–∑–¥–∞–ª–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –Ω–∞—Ä—Ä–∞—Ç–∏–≤, –æ—Ç–ª–∏—á–∞—é—â–∏–π—Å—è –æ—Ç –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Ä—Ç 1872 –≥–æ–¥–∞; –∫–∞–∫ –≤–æ–∑–Ω–∏–∫–ª–∞ –ª–µ–≥–µ–Ω–¥–∞ –æ "–∫–æ—Ä–æ–≤–µ –û'–õ–∏—Ä–∏"; –∫–∞–∫ –º–µ–¥–∏–∞ 19 –≤–µ–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ. –†–µ–∑—É–ª—å—Ç–∞—Ç: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–ª–∞–π–¥–µ—Ä "–º–∏—Ñ vs —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å", Canvas-–∞–Ω–∏–º–∞—Ü–∏–∏, –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞, –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å.</span><span data-i18n="en">Transformation of real event into collective myth through media: how Harper's Weekly illustrations created visual narrative differing from objective 1872 maps; how the "O'Leary cow" legend emerged; how 19th-century media shaped perception. Result: interactive "myth vs reality" slider, Canvas animations, quiz, multilingualism.</span><span data-i18n="it">Trasformazione di evento reale in mito collettivo attraverso i media: come le illustrazioni di Harper's Weekly crearono narrativa visiva diversa dalle mappe oggettive del 1872; come emerse la leggenda della "mucca di O'Leary"; come i media del XIX secolo plasmarono la percezione. Risultato: slider interattivo "mito vs realt√†", animazioni Canvas, quiz, multilinguismo.</span><span data-i18n="tr">Ger√ßek olayƒ±n medya aracƒ±lƒ±ƒüƒ±yla kolektif mite d√∂n√º≈ü√ºm√º: Harper's Weekly ill√ºstrasyonlarƒ±nƒ±n 1872 objektif haritalarƒ±ndan farklƒ± g√∂rsel anlatƒ± olu≈üturmasƒ±; "O'Leary'nin ineƒüi" efsanesinin ortaya √ßƒ±kƒ±≈üƒ±; 19. y√ºzyƒ±l medyasƒ±nƒ±n algƒ±yƒ± ≈üekillendirmesi. Sonu√ß: interaktif "mit vs ger√ßeklik" kaydƒ±rƒ±cƒ±, Canvas animasyonlar, test, √ßok dillilik.</span></li>
         <li style="margin-bottom:8px"><strong data-i18n="ru">–ö–æ–≥–¥–∞:</strong><strong data-i18n="en">When:</strong><strong data-i18n="it">Quando:</strong><strong data-i18n="tr">Ne zaman:</strong> <span data-i18n="ru">8-10 –æ–∫—Ç 1871 (–ø–æ–∂–∞—Ä) ‚Üí –æ–∫—Ç-–Ω–æ—è–± 1871 (–∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ Harper's) ‚Üí 1872 (–∫–∞—Ä—Ç—ã) ‚Üí 1871 (—Å–æ–∑–¥–∞–Ω–∏–µ –º–∏—Ñ–∞) ‚Üí 1888 (Rookery) ‚Üí 2024 (—Ü–∏—Ñ—Ä–æ–≤–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è).</span><span data-i18n="en">Oct 8-10, 1871 (fire) ‚Üí Oct-Nov 1871 (Harper's illustrations) ‚Üí 1872 (maps) ‚Üí 1871 (myth creation) ‚Üí 1888 (Rookery) ‚Üí 2024 (digital reinterpretation).</span><span data-i18n="it">8-10 ott 1871 (incendio) ‚Üí ott-nov 1871 (illustrazioni Harper's) ‚Üí 1872 (mappe) ‚Üí 1871 (creazione mito) ‚Üí 1888 (Rookery) ‚Üí 2024 (rilettura digitale).</span><span data-i18n="tr">8-10 Ekim 1871 (yangƒ±n) ‚Üí Ekim-Kasƒ±m 1871 (Harper's ill√ºstrasyonlarƒ±) ‚Üí 1872 (haritalar) ‚Üí 1871 (mit yaratƒ±mƒ±) ‚Üí 1888 (Rookery) ‚Üí 2024 (dijital yorum).</span></li>
         <li style="margin-bottom:8px"><strong data-i18n="ru">–ì–¥–µ:</strong><strong data-i18n="en">Where:</strong><strong data-i18n="it">Dove:</strong><strong data-i18n="tr">Nerede:</strong> <span data-i18n="ru">–ß–∏–∫–∞–≥–æ, De Koven Street (–Ω–∞—á–∞–ª–æ). –ê—Ä—Ö–∏–≤—ã: Chicago Historical Society, Library of Congress, HathiTrust. –î–∏–≥–∏—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ: —ç—Ç–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞.</span><span data-i18n="en">Chicago, De Koven Street (origin). Archives: Chicago Historical Society, Library of Congress, HathiTrust. Digital space: this platform.</span><span data-i18n="it">Chicago, De Koven Street (origine). Archivi: Chicago Historical Society, Library of Congress, HathiTrust. Spazio digitale: questa piattaforma.</span><span data-i18n="tr">Chicago, De Koven Sokaƒüƒ± (ba≈ülangƒ±√ß). Ar≈üivler: Chicago Historical Society, Library of Congress, HathiTrust. Dijital alan: bu platform.</span></li>
         <li style="margin-bottom:8px"><strong data-i18n="ru">–ü–æ—á–µ–º—É:</strong><strong data-i18n="en">Why:</strong><strong data-i18n="it">Perch√©:</strong><strong data-i18n="tr">Neden:</strong> <span data-i18n="ru">–ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã–π –∫–µ–π—Å –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –≤ –º–∏—Ñ —á–µ—Ä–µ–∑ –º–µ–¥–∏–∞. –°—Ä–∞–≤–Ω–∏–≤–∞—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ Harper's —Å –∫–∞—Ä—Ç–∞–º–∏ 1872, –º—ã –≤–∏–¥–∏–º: –°–ú–ò –ø–æ–∫–∞–∑–∞–ª–∏ –Ω–µ —Å–æ–≤—Å–µ–º —Ç–æ, —á—Ç–æ –±—ã–ª–æ. –ò—Å—Ç–æ—Ä–∏—è 150-–ª–µ—Ç–Ω–µ–π –¥–∞–≤–Ω–æ—Å—Ç–∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –º–µ–¥–∏–∞ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –Ω–∞—à–µ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π.</span><span data-i18n="en">Because it's the perfect case for studying transformation of real event into myth through media. Comparing Harper's illustrations with 1872 maps, we see: media showed something slightly different from reality. This 150-year-old story helps us understand how media shapes our perception of events.</span><span data-i18n="it">Perch√© √® il caso perfetto per studiare la trasformazione di un evento reale in mito attraverso i media. Confrontando le illustrazioni di Harper's con le mappe del 1872, vediamo: i media mostrarono qualcosa di leggermente diverso dalla realt√†. Questa storia di 150 anni fa ci aiuta a capire come i media plasmano la nostra percezione degli eventi.</span><span data-i18n="tr">√á√ºnk√º ger√ßek bir olayƒ±n medya aracƒ±lƒ±ƒüƒ±yla mite d√∂n√º≈ü√ºm√ºn√º incelemek i√ßin m√ºkemmel bir vaka. Harper's ill√ºstrasyonlarƒ± 1872 haritalarƒ±yla kar≈üƒ±la≈ütƒ±rdƒ±ƒüƒ±mƒ±zda: medya ger√ßeklikten biraz farklƒ± bir ≈üey g√∂sterdi. Bu 150 yƒ±llƒ±k hikaye medyanƒ±n olaylarƒ± nasƒ±l algƒ±ladƒ±ƒüƒ±mƒ±zƒ± nasƒ±l etkilediƒüini anlamamƒ±za yardƒ±mcƒ± oluyor.</span></li>
       </ul>
       <div style="margin-top:20px;padding:15px;background:rgba(251,86,7,0.08);border-radius:8px">
         <p style="margin:0 0 8px;font-weight:600" data-i18n="ru"><strong>–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:</strong></p>
         <p style="margin:0 0 8px;font-weight:600" data-i18n="en"><strong>Keywords:</strong></p>
         <p style="margin:0 0 8px;font-weight:600" data-i18n="it"><strong>Parole chiave:</strong></p>
         <p style="margin:0 0 8px;font-weight:600" data-i18n="tr"><strong>Anahtar kelimeler:</strong></p>
         <p class="muted" style="margin:0" data-i18n="ru">–í–µ–ª–∏–∫–∏–π –ø–æ–∂–∞—Ä –ß–∏–∫–∞–≥–æ 1871, –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å, –º–∏—Ñ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è, Harper's Weekly, –º–µ–¥–∏–∞-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç, —Ü–∏—Ñ—Ä–æ–≤–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∫—É–ª—å—Ç—É—Ä–Ω–∞—è –ø–∞–º—è—Ç—å.</p>
         <p class="muted" style="margin:0" data-i18n="en">Great Chicago Fire 1871, collective memory, myth formation, Harper's Weekly, media construct, digital heritage, interactive education, cultural memory.</p>
         <p class="muted" style="margin:0" data-i18n="it">Grande Incendio di Chicago 1871, memoria collettiva, formazione del mito, Harper's Weekly, costrutto mediatico, patrimonio digitale, educazione interattiva, memoria culturale.</p>
         <p class="muted" style="margin:0" data-i18n="tr">1871 B√ºy√ºk Chicago Yangƒ±nƒ±, kolektif hafƒ±za, mit olu≈üumu, Harper's Weekly, medya yapƒ±sƒ±, dijital miras, interaktif eƒüitim, k√ºlt√ºrel hafƒ±za.</p>
       </div>
     </div>
   <div style="margin-top:20px;padding:20px;background:linear-gradient(135deg, rgba(251,86,7,0.15), rgba(255,183,3,0.1));border-left:4px solid #fb5607;border-radius:6px;box-shadow:0 4px 12px rgba(251,86,7,0.2);max-width:90%;margin-left:auto;margin-right:auto">
     <p style="margin:0;color:rgba(255,255,255,0.95);font-size:15px;line-height:1.6;font-weight:500"><strong data-i18n="ru" style="color:#ffb703">–¶–µ–ª—å —Ä–∞–±–æ—Ç—ã:</strong><strong data-i18n="en" style="color:#ffb703">Objective:</strong><strong data-i18n="it" style="color:#ffb703">Obiettivo:</strong><strong data-i18n="tr" style="color:#ffb703">Hedef:</strong> <span data-i18n="ru">–ü–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∫—É–ª—å—Ç—É—Ä–Ω–æ–π –ø–∞–º—è—Ç–∏ –æ –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞—Ö, –ø—Ä–µ–≤—Ä–∞—â–∞—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.</span><span data-i18n="en">Demonstrate how digital tools can be used to preserve and interpret cultural memory of urban disasters, transforming historical material into an interactive educational space.</span><span data-i18n="it">Dimostrare come gli strumenti digitali possano essere utilizzati per preservare e interpretare la memoria culturale dei disastri urbani, trasformando il materiale storico in uno spazio educativo interattivo.</span><span data-i18n="tr">Kentsel felaketlerin k√ºlt√ºrel hafƒ±zasƒ±nƒ± korumak ve yorumlamak i√ßin dijital ara√ßlarƒ±n nasƒ±l kullanƒ±labileceƒüini g√∂stermek, tarihsel materyali interaktif bir eƒüitim alanƒ±na d√∂n√º≈üt√ºrmek.</span></p>
   </div>
  </div>
</section>

<!-- üêÑ MRS. O'LEARY'S COW MYTH VIDEO SECTION -->
<section id="cow-myth-video" class="container">
  <h3 class="section-title" data-i18n="ru">–ú–∏—Ñ –æ –∫–æ—Ä–æ–≤–µ –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏</h3>
  <h3 class="section-title" data-i18n="en">Mrs. O'Leary's Cow Myth</h3>
  <h3 class="section-title" data-i18n="it">Il Mito della Mucca della Signora O'Leary</h3>
  <h3 class="section-title" data-i18n="tr">Bayan O'Leary'nin ƒ∞neƒüi Efsanesi</h3>
  
  <div class="card pad">
    <div style="margin-bottom:16px;padding:12px;background:rgba(251,86,7,0.1);border-left:4px solid #fb5607;border-radius:8px">
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="ru">üêÑ –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="en">üêÑ Legendary Story</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="it">üêÑ Storia Leggendaria</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="tr">üêÑ Efsanevi Hikaye</h4>
      <p class="muted" data-i18n="ru">–°–∞–º–∞—è –∏–∑–≤–µ—Å—Ç–Ω–∞—è –ª–µ–≥–µ–Ω–¥–∞ –æ –í–µ–ª–∏–∫–æ–º –ø–æ–∂–∞—Ä–µ –ß–∏–∫–∞–≥–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –æ –∫–æ—Ä–æ–≤–µ –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–æ–∫–∏–Ω—É–ª–∞ —Ñ–æ–Ω–∞—Ä—å –≤ —Å–∞—Ä–∞–µ. –•–æ—Ç—è —ç—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è –±—ã–ª–∞ –æ–ø—Ä–æ–≤–µ—Ä–≥–Ω—É—Ç–∞, –æ–Ω–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –º–∏—Ñ–æ–≤ –ê–º–µ—Ä–∏–∫–∏.</p>
      <p class="muted" data-i18n="en">The most famous legend of the Great Chicago Fire tells of Mrs. O'Leary's cow kicking over a lantern in the barn. Although this story has been debunked, it remains one of America's most famous urban myths.</p>
      <p class="muted" data-i18n="it">La leggenda pi√π famosa del Grande Incendio di Chicago racconta della mucca della signora O'Leary che fece cadere una lanterna nella stalla. Sebbene questa storia sia stata smentita, rimane uno dei miti urbani pi√π famosi d'America.</p>
      <p class="muted" data-i18n="tr">B√ºy√ºk Chicago Yangƒ±nƒ±nƒ±n en √ºnl√º efsanesi Bayan O'Leary'nin ineƒüinin ahƒ±rda feneri devirmesini anlatƒ±r. Bu hikaye √ß√ºr√ºt√ºlm√º≈ü olsa da, Amerika'nƒ±n en √ºnl√º kentsel mitlerinden biri olarak kalmaya devam ediyor.</p>
    </div>
    
    <!-- Video Container -->
    <div id="cowMythVideoContainer" style="width:100%;height:450px;background:linear-gradient(135deg, #0e1420, #1a1f2e);border:2px solid #fb5607;border-radius:12px;position:relative;overflow:hidden;will-change:contents">
      <iframe id="cowMythVideo" width="100%" height="100%" src="https://www.youtube.com/embed/pCD9Hm6Pz1c" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen style="border-radius:12px"></iframe>
    </div>
    
    <div style="margin-top:12px;padding:8px;background:rgba(255,183,3,0.1);border-radius:8px">
      <p class="muted" style="margin:0;font-size:14px" data-i18n="ru">üí° <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTML5 video —ç–ª–µ–º–µ–Ω—Ç, YouTube/Vimeo embed –∏–ª–∏ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫—É –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –º–∏—Ñ–∞ –æ –∫–æ—Ä–æ–≤–µ –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏, –µ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∏ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω —Å—Ç–∞–ª —á–∞—Å—Ç—å—é –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–≥–æ —Ñ–æ–ª—å–∫–ª–æ—Ä–∞.</p>
      <p class="muted" style="margin:0;font-size:14px" data-i18n="en">üí° <strong>Suggestions:</strong> Use HTML5 video element, YouTube/Vimeo embed, or animated infographic to explain the Mrs. O'Leary's cow myth, its origins, and how it became part of American folklore.</p>
      <p class="muted" style="margin:0;font-size:14px" data-i18n="it">üí° <strong>Suggerimenti:</strong> Usa l'elemento video HTML5, embed YouTube/Vimeo o infografica animata per spiegare il mito della mucca della signora O'Leary, le sue origini e come √® diventato parte del folklore americano.</p>
      <p class="muted" style="margin:0;font-size:14px" data-i18n="tr">üí° <strong>√ñneriler:</strong> Bayan O'Leary'nin inek efsanesini, k√∂kenlerini ve nasƒ±l Amerikan folklorunun bir par√ßasƒ± haline geldiƒüini a√ßƒ±klamak i√ßin HTML5 video elementi, YouTube/Vimeo embed veya animasyonlu infografik kullanƒ±n.</p>
    </div>
    
    <!-- Additional Information -->
    <div style="margin-top:16px;padding:12px;background:rgba(82,183,136,0.1);border-left:4px solid #52b788;border-radius:8px">
      <h5 style="margin:0 0 8px;color:#52b788" data-i18n="ru">üìö –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç—ã</h5>
      <h5 style="margin:0 0 8px;color:#52b788" data-i18n="en">üìö Historical Facts</h5>
      <h5 style="margin:0 0 8px;color:#52b788" data-i18n="it">üìö Fatti Storici</h5>
      <h5 style="margin:0 0 8px;color:#52b788" data-i18n="tr">üìö Tarihsel Ger√ßekler</h5>
      <ul class="muted" style="margin:0;font-size:14px">
        <li data-i18n="ru">–ú–∏—Ñ –±—ã–ª —Å–æ–∑–¥–∞–Ω –∂—É—Ä–Ω–∞–ª–∏—Å—Ç–æ–º –ú–∞–π–∫–ª–æ–º –ê—Ö–µ—Ä–Ω–æ–º –≤ 1871 –≥–æ–¥—É</li>
        <li data-i18n="en">The myth was created by journalist Michael Ahern in 1871</li>
        <li data-i18n="it">Il mito fu creato dal giornalista Michael Ahern nel 1871</li>
        <li data-i18n="tr">Efsane 1871 yƒ±lƒ±nda gazeteci Michael Ahern tarafƒ±ndan yaratƒ±ldƒ±</li>
        <li data-i18n="ru">–ú–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏ –±—ã–ª–∞ –∏—Ä–ª–∞–Ω–¥—Å–∫–æ–π –∏–º–º–∏–≥—Ä–∞–Ω—Ç–∫–æ–π</li>
        <li data-i18n="en">Mrs. O'Leary was an Irish immigrant</li>
        <li data-i18n="it">La signora O'Leary era un'immigrata irlandese</li>
        <li data-i18n="tr">Bayan O'Leary ƒ∞rlandalƒ± bir g√∂√ßmendi</li>
        <li data-i18n="ru">–ò—Å—Ç–∏–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–æ–∂–∞—Ä–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π</li>
        <li data-i18n="en">The true cause of the fire remains unknown</li>
        <li data-i18n="it">La vera causa dell'incendio rimane sconosciuta</li>
        <li data-i18n="tr">Yangƒ±nƒ±n ger√ßek nedeni bilinmiyor</li>
      </ul>
    </div>
  </div>
</section>

<!-- üî• TIMELINE ANIMATION SECTION -->
<section id="timeline-animation" class="container">
  <h3 class="section-title" data-i18n="ru">–ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞—á–∞–ª–∞ –ø–æ–∂–∞—Ä–∞</h3>
  <h3 class="section-title" data-i18n="en">Fire Ignition Animation</h3>
  <h3 class="section-title" data-i18n="it">Animazione dell'Innesco dell'Incendio</h3>
  <h3 class="section-title" data-i18n="tr">Yangƒ±n Ba≈ülangƒ±√ß Animasyonu</h3>
  
  <div class="card pad">
    <div style="margin-bottom:16px;padding:12px;background:rgba(251,86,7,0.1);border-left:4px solid #fb5607;border-radius:8px">
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="ru">üé¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="en">üé¨ Interactive Animation</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="it">üé¨ Animazione Interattiva</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="tr">üé¨ ƒ∞nteraktif Animasyon</h4>
      <p class="muted" data-i18n="ru">–ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–∞–∑–º–µ—â–µ–Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è, –∫–∞–∫ –Ω–∞—á–∞–ª—Å—è –í–µ–ª–∏–∫–∏–π –ø–æ–∂–∞—Ä –ß–∏–∫–∞–≥–æ 8 –æ–∫—Ç—è–±—Ä—è 1871 –≥–æ–¥–∞. –ê–Ω–∏–º–∞—Ü–∏—è –±—É–¥–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —à–∫–∞–ª—É, –ø–æ–∫–∞–∑—ã–≤–∞—é—â—É—é —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–≥–Ω—è –æ—Ç —Å–∞—Ä–∞—è –Ω–∞ De Koven Street –¥–æ –æ—Ö–≤–∞—Ç–∞ –≤—Å–µ–≥–æ –≥–æ—Ä–æ–¥–∞.</p>
      <p class="muted" data-i18n="en">This space will contain an interactive animation showing how the Great Chicago Fire began on October 8, 1871. The animation will include a timeline showing the fire's spread from the barn on De Koven Street to engulfing the entire city.</p>
      <p class="muted" data-i18n="it">Questo spazio conterr√† un'animazione interattiva che mostra come inizi√≤ il Grande Incendio di Chicago l'8 ottobre 1871. L'animazione includer√† una timeline che mostra la diffusione del fuoco dalla stalla in De Koven Street fino a inghiottire l'intera citt√†.</p>
      <p class="muted" data-i18n="tr">Bu alan, 8 Ekim 1871'de B√ºy√ºk Chicago Yangƒ±nƒ±nƒ±n nasƒ±l ba≈üladƒ±ƒüƒ±nƒ± g√∂steren interaktif bir animasyon i√ßerecek. Animasyon, De Koven Sokaƒüƒ±'ndaki ahƒ±rdan t√ºm ≈üehri kaplayana kadar yangƒ±nƒ±n yayƒ±lƒ±≈üƒ±nƒ± g√∂steren bir zaman √ßizelgesi i√ßerecek.</p>
    </div>
    
    <!-- Timeline Animation Container -->
    <div id="timelineAnimationContainer" style="width:100%;min-height:300px;background:linear-gradient(135deg, #0e1420, #1a1f2e);border:2px solid #fb5607;border-radius:12px;position:relative;overflow:hidden">
      <video id="timelineAnimation" style="width:100%;height:100%;object-fit:contain;background:#0e1420" autoplay loop muted playsinline>
        <source src="videos/timeline-animation.mp4" type="video/mp4; codecs=avc1.42E01E,mp4a.40.2">
        <source src="videos/timeline-animation.webm" type="video/webm; codecs=vp8,vorbis">
        <source src="videos/timeline-animation.ogv" type="video/ogg; codecs=theora,vorbis">
        <div style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;color:#ffb703">
          <div style="text-align:center">
            <div style="font-size:24px;margin-bottom:12px">üé¨</div>
            <div style="font-size:18px;font-weight:bold;margin-bottom:8px" data-i18n="ru">–ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª—ã –ø–æ–∂–∞—Ä–∞</div>
            <div style="font-size:18px;font-weight:bold;margin-bottom:8px" data-i18n="en">Fire Timeline Animation</div>
            <div style="font-size:18px;font-weight:bold;margin-bottom:8px" data-i18n="it">Animazione Timeline dell'Incendio</div>
            <div style="font-size:18px;font-weight:bold;margin-bottom:8px" data-i18n="tr">Yangƒ±n Zaman √áizelgesi Animasyonu</div>
            <div style="font-size:14px;color:#9aa3b2" data-i18n="ru">–í–∏–¥–µ–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è</div>
            <div style="font-size:14px;color:#9aa3b2" data-i18n="en">Video not supported</div>
            <div style="font-size:14px;color:#9aa3b2" data-i18n="it">Video non supportato</div>
            <div style="font-size:14px;color:#9aa3b2" data-i18n="tr">Video desteklenmiyor</div>
          </div>
        </div>
      </video>
    </div>
    
    <div style="margin-top:12px;padding:8px;background:rgba(255,183,3,0.1);border-radius:8px">
      <p class="muted" style="margin:0;font-size:14px" data-i18n="ru">üí° <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSS –∞–Ω–∏–º–∞—Ü–∏–∏, JavaScript timeline –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∫–∞–ª—ã, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∂–∞—Ä–∞ –æ—Ç 9:00 PM –¥–æ —Ä–∞—Å—Å–≤–µ—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è.</p>
      <p class="muted" style="margin:0;font-size:14px" data-i18n="en">üí° <strong>Suggestions:</strong> Use CSS animations, JavaScript timeline, or embedded videos to create an interactive timeline showing the fire's spread from 9:00 PM to dawn the next day.</p>
      <p class="muted" style="margin:0;font-size:14px" data-i18n="it">üí° <strong>Suggerimenti:</strong> Usa animazioni CSS, timeline JavaScript o video incorporati per creare una timeline interattiva che mostra la diffusione del fuoco dalle 21:00 all'alba del giorno successivo.</p>
      <p class="muted" style="margin:0;font-size:14px" data-i18n="tr">üí° <strong>√ñneriler:</strong> Yangƒ±nƒ±n ak≈üam 9:00'dan ertesi g√ºn ≈üafaƒüa kadar yayƒ±lƒ±≈üƒ±nƒ± g√∂steren interaktif bir zaman √ßizelgesi olu≈üturmak i√ßin CSS animasyonlarƒ±, JavaScript zaman √ßizelgesi veya g√∂m√ºl√º videolar kullanƒ±n.</p>
    </div>
  </div>

  <!-- Detailed Timeline with Images -->
  <div style="margin-top:24px">
    <h4 style="margin:0 0 24px;color:#ffb703;text-align:center" data-i18n="ru">‚è∞ –î–µ—Ç–∞–ª—å–Ω–∞—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è –ø–æ–∂–∞—Ä–∞</h4>
    <h4 style="margin:0 0 24px;color:#ffb703;text-align:center" data-i18n="en">‚è∞ Detailed Fire Chronology</h4>
    <h4 style="margin:0 0 24px;color:#ffb703;text-align:center" data-i18n="it">‚è∞ Cronologia dettagliata dell'incendio</h4>
    <h4 style="margin:0 0 24px;color:#ffb703;text-align:center" data-i18n="tr">‚è∞ Detaylƒ± Yangƒ±n Kronolojisi</h4>
    
    <!-- Unified Timeline Flow -->
    <div style="max-width:1000px;margin:0 auto">
      <div style="background:linear-gradient(135deg, rgba(14,20,32,0.95), rgba(26,31,46,0.95));border-radius:16px;padding:40px;box-shadow:0 8px 32px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05);position:relative;overflow:hidden">
        <div style="position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg, transparent, rgba(251,86,7,0.5), rgba(255,183,3,0.5), rgba(33,158,188,0.5), transparent)"></div>
        <div style="position:relative;padding-left:60px;padding-top:8px">
          <!-- Enhanced Timeline Line -->
          <div style="position:absolute;left:20px;top:0;bottom:0;width:4px;background:linear-gradient(to bottom, #fb5607 0%, #fb5607 30%, #ffb703 30%, #ffb703 70%, #219ebc 70%, #219ebc 100%);opacity:0.9;border-radius:2px;box-shadow:0 0 20px rgba(251,86,7,0.5), 0 0 30px rgba(255,183,3,0.3), inset 0 0 15px rgba(33,158,188,0.2);z-index:1"></div>
          
          <!-- Animated Timeline Dots -->
          <!-- Oct 8, 20:30 - Fire Origin Dot -->
          <div style="position:absolute;left:20px;top:4px;width:12px;height:12px;background:#fb5607;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointPulse 2s ease-in-out infinite;box-shadow:0 0 0 3px rgba(251,86,7,0.3), 0 4px 12px rgba(251,86,7,0.5)"></div>
        
        <!-- Oct 8, 20:30 - Fire Origin -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out">
          <div style="background:linear-gradient(135deg, rgba(251,86,7,0.08), rgba(251,86,7,0.03));border-left:4px solid #fb5607;border-radius:12px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05);transition:all 0.3s ease;position:relative;overflow:hidden;margin-top:4px">
            <div style="position:absolute;top:0;right:0;width:200px;height:200px;background:radial-gradient(circle, rgba(251,86,7,0.1), transparent);border-radius:50%;transform:translate(50%, -50%)"></div>
            <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:start;margin-bottom:20px;position:relative;z-index:1">
              <div>
                <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px">
                  <div style="width:4px;height:24px;background:linear-gradient(to bottom, #fb5607, #ff6b35);border-radius:2px"></div>
                  <div>
                    <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="ru">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 8 –æ–∫—Ç—è–±—Ä—è</div>
                    <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="en">Sunday, October 8</div>
                    <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="it">Domenica, 8 ottobre</div>
                    <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="tr">8 Ekim Pazar</div>
                  </div>
                </div>
                <div style="padding:12px;background:rgba(251,86,7,0.1);border-radius:8px;margin-bottom:16px;border:1px solid rgba(251,86,7,0.2)">
                  <div style="display:flex;align-items:baseline;gap:8px;margin-bottom:8px">
                    <span style="color:#fb5607;font-weight:700;font-size:18px;font-family:'Courier New', monospace">20:30</span>
                    <span style="width:2px;height:16px;background:#fb5607;opacity:0.5"></span>
                  </div>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="ru">–û—á–∞–≥ –ø–æ–∂–∞—Ä–∞: —Å–∞—Ä–∞–π –û'–õ–∏—Ä–∏, DeKoven St (‚Ññ137). –°–∏–ª—å–Ω—ã–π —é–≥–æ-–∑–∞–ø–∞–¥–Ω—ã–π –≤–µ—Ç–µ—Ä, –∑–∞—Å—É—Ö–∞.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="en">Fire origin: O'Leary barn, DeKoven St (#137). Strong southwest wind, drought.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="it">Origine incendio: fienile O'Leary, DeKoven St (#137). Forte vento sud-ovest, siccit√†.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="tr">Yangƒ±n kaynaƒüƒ±: O'Leary ahƒ±rƒ±, DeKoven St (#137). G√º√ßl√º g√ºneybatƒ± r√ºzgarƒ±, kuraklƒ±k.</p>
                </div>
              </div>
              <div class="ph" style="border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(251,86,7,0.4), inset 0 0 0 1px rgba(251,86,7,0.2);border:2px solid rgba(251,86,7,0.3);position:relative">
                <div style="position:absolute;inset:0;background:linear-gradient(135deg, rgba(251,86,7,0.1), transparent);z-index:1;pointer-events:none"></div>
                <img src="images/chicago fire/fire-origin.jpg" alt="Fire Academy at DeKoven Street" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease">
              </div>
            </div>
            <div style="position:relative;z-index:1;padding-top:16px;border-top:1px solid rgba(251,86,7,0.2)">
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="ru">–°—Ç–∞—Ä—Ç –≤ —Å–∞—Ä–∞–µ –Ω–∞ De Koven St.; —Å–∏–ª—å–Ω—ã–π —é–≥–æ-–∑–∞–ø–∞–¥–Ω—ã–π –≤–µ—Ç–µ—Ä. –ü–æ–∂–∞—Ä –Ω–∞—á–∞–ª—Å—è –≤ —Å–∞—Ä–∞–µ —Å–µ–º—å–∏ –û'–õ–∏—Ä–∏ –æ–∫–æ–ª–æ 9 –≤–µ—á–µ—Ä–∞. –•–æ—Ç—è –º–∏—Ñ –æ –∫–æ—Ä–æ–≤–µ –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏ —à–∏—Ä–æ–∫–æ –∏–∑–≤–µ—Å—Ç–µ–Ω, –∏—Å—Ç–∏–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø–æ–∂–∞—Ä–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ—è—Å–Ω–æ–π. –°—É—Ö–∞—è –ø–æ–≥–æ–¥–∞ –∏ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–µ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–∑–¥–∞–ª–∏ –∏–¥–µ–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ–≥–Ω—è. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –ø–∞–º—è—Ç–Ω–∏–∫</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="en">Ignition in a barn; strong south-westerly winds. The fire began in the O'Leary family's barn around 9 PM. While the myth of Mrs. O'Leary's cow is well-known, the true cause of the fire remains unclear. Dry weather and wooden buildings created perfect conditions for rapid fire spread. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Historical landmark</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="it">Innesco in una stalla; forti venti sud-occidentali. L'incendio inizi√≤ nella stalla della famiglia O'Leary verso le 21:00. Sebbene il mito della mucca della signora O'Leary sia ben noto, la vera causa dell'incendio rimane poco chiara. Il tempo secco e gli edifici in legno crearono condizioni perfette per la rapida diffusione del fuoco. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Luogo storico</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="tr">De Koven Sokaƒüƒ±'ndaki ahƒ±rda ba≈ülangƒ±√ß; g√º√ßl√º g√ºneybatƒ± r√ºzgarlarƒ±. Yangƒ±n O'Leary ailesinin ahƒ±rƒ±nda saat 9 civarƒ±nda ba≈üladƒ±. Bayan O'Leary'nin ineƒüi efsanesi iyi bilinse de, yangƒ±nƒ±n ger√ßek nedeni belirsizliƒüini koruyor. Kurak hava ve ah≈üap binalar hƒ±zlƒ± yangƒ±n yayƒ±lƒ±mƒ± i√ßin m√ºkemmel ko≈üullar yarattƒ±. <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Tarihi anƒ±t</a>.</p>
            </div>
          </div>
        </div>
        
        <!-- Oct 8, 20:45-21:00 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.1s;animation-fill-mode:both">
          <!-- Animated Dot for 20:45-21:00 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#fb5607;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulse 2s ease-in-out infinite;animation-delay:0.1s;box-shadow:0 0 0 2px rgba(251,86,7,0.3), 0 2px 8px rgba(251,86,7,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(251,86,7,0.06), rgba(251,86,7,0.02));border-left:3px solid rgba(251,86,7,0.5);border-radius:10px;transition:all 0.3s ease;position:relative;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#fb5607;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">20:45‚Äì21:00</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–û—à–∏–±–∫–∞ –ø–æ–∂–∞—Ä–Ω–æ–π —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏/—Ç–µ–ª–µ–≥—Ä–∞—Ñ–∞; –∑–∞–¥–µ—Ä–∂–∫–∞ ~20 –º–∏–Ω. –ì–æ—Ä—è—Ç Canal/Clinton.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">Fire alarm/telegraph error; ~20 min delay. Canal/Clinton burning.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">Errore allarme antincendio/telegrafo; ritardo ~20 min. Canal/Clinton in fiamme.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">Yangƒ±n alarmƒ±/telgraf hatasƒ±; ~20 dk gecikme. Canal/Clinton yanƒ±yor.</span>
        </div>
        </div>
        </div>
        
        <!-- Oct 8, 22:30 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.15s;animation-fill-mode:both">
          <!-- Animated Dot for 22:30 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#fb5607;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulse 2s ease-in-out infinite;animation-delay:0.15s;box-shadow:0 0 0 2px rgba(251,86,7,0.3), 0 2px 8px rgba(251,86,7,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(251,86,7,0.06), rgba(251,86,7,0.02));border-left:3px solid rgba(251,86,7,0.5);border-radius:10px;transition:all 0.3s ease;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#fb5607;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">22:30</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–û–≥–æ–Ω—å –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç South Branch; —Å–∫–ª–∞–¥—ã, –∫–æ–Ω—é—à–Ω–∏, –ø–∞–¥–µ–Ω–∏–µ –¥–∞–≤–ª–µ–Ω–∏—è –≤–æ–¥—ã.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">Fire crosses South Branch; warehouses, stables, water pressure drop.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">Fuoco attraversa South Branch; magazzini, stalle, calo pressione acqua.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">Yangƒ±n South Branch'ƒ± ge√ßiyor; depolar, ahƒ±rlar, su basƒ±ncƒ± d√º≈ü√ºyor.</span>
            </div>
          </div>
        </div>
        
        <!-- Oct 8, 23:30 - Downtown Fire -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.2s;animation-fill-mode:both">
          <!-- Animated Dot for 23:30 -->
          <div style="position:absolute;left:-40px;top:4px;width:12px;height:12px;background:#fb5607;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointPulse 2s ease-in-out infinite;animation-delay:0.2s;box-shadow:0 0 0 3px rgba(251,86,7,0.3), 0 4px 12px rgba(251,86,7,0.5)"></div>
          <div style="background:linear-gradient(135deg, rgba(251,86,7,0.08), rgba(251,86,7,0.03));border-left:4px solid #fb5607;border-radius:12px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05);transition:all 0.3s ease;position:relative;overflow:hidden;margin-top:4px">
            <div style="position:absolute;top:0;right:0;width:200px;height:200px;background:radial-gradient(circle, rgba(251,86,7,0.1), transparent);border-radius:50%;transform:translate(50%, -50%)"></div>
            <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:start;margin-bottom:20px;position:relative;z-index:1">
              <div>
                <div style="padding:12px;background:rgba(251,86,7,0.1);border-radius:8px;margin-bottom:16px;border:1px solid rgba(251,86,7,0.2)">
                  <div style="display:flex;align-items:baseline;gap:8px;margin-bottom:8px">
                    <span style="color:#fb5607;font-weight:700;font-size:18px;font-family:'Courier New', monospace">23:30</span>
                    <span style="width:2px;height:16px;background:#fb5607;opacity:0.5"></span>
                  </div>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="ru">–Æ–∂–Ω–∞—è —á–∞—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞ –æ—Ö–≤–∞—á–µ–Ω–∞; –ø–ª–∞–º—è –¥–≤–∏–∂–µ—Ç—Å—è –∫ –¥–µ–ª–æ–≤–æ–º—É —Ä–∞–π–æ–Ω—É.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="en">South downtown engulfed; flame moves toward business district.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="it">Centro sud inghiottito; fiamme si muovono verso quartiere commerciale.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="tr">G√ºney merkez kaplandƒ±; alev i≈ü b√∂lgesine ilerliyor.</p>
                </div>
              </div>
              <div class="ph" style="border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(251,86,7,0.4), inset 0 0 0 1px rgba(251,86,7,0.2);border:2px solid rgba(251,86,7,0.3);position:relative">
                <div style="position:absolute;inset:0;background:linear-gradient(135deg, rgba(251,86,7,0.1), transparent);z-index:1;pointer-events:none"></div>
                <img src="images/chicago fire/downtown-fire.png" alt="Chicago Fire illustration" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease">
              </div>
            </div>
            <div style="position:relative;z-index:1;padding-top:16px;border-top:1px solid rgba(251,86,7,0.2)">
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="ru">–û–≥–æ–Ω—å –¥–≤–∏–∂–µ—Ç—Å—è –∫ –¥–µ–ª–æ–≤–æ–º—É —Ä–∞–π–æ–Ω—É. –ö –ø–æ–ª—É–Ω–æ—á–∏ –ø–ª–∞–º—è –¥–æ—Å—Ç–∏–≥–ª–æ —Ü–µ–Ω—Ç—Ä–∞ –≥–æ—Ä–æ–¥–∞, —É–Ω–∏—á—Ç–æ–∂–∞—è –±–∞–Ω–∫–∏, –º–∞–≥–∞–∑–∏–Ω—ã –∏ –æ—Ñ–∏—Å—ã. –ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫ State & Madison —Å—Ç–∞–ª —Å–∏–º–≤–æ–ª–æ–º —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è - –Ω–µ–∫–æ–≥–¥–∞ –æ–∂–∏–≤–ª–µ–Ω–Ω—ã–π —Ü–µ–Ω—Ç—Ä –¥–µ–ª–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ —Ä—É–∏–Ω—ã. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">–ò—Å—Ç–æ—á–Ω–∏–∫</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="en">Fire advances toward the business district. By midnight, flames reached the city center, destroying banks, stores, and offices. The State & Madison intersection became a symbol of destruction - once a bustling center of business activity turned to ruins. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Source</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="it">Il fuoco avanza verso il centro. A mezzanotte, le fiamme raggiunsero il centro della citt√†, distruggendo banche, negozi e uffici. L'incrocio State & Madison divenne un simbolo di distruzione - un tempo centro vivace dell'attivit√† commerciale trasformato in rovine. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Fonte</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="tr">Yangƒ±n i≈ü b√∂lgesine doƒüru ilerliyor. Gece yarƒ±sƒ±na kadar alevler ≈üehir merkezine ula≈ütƒ±, bankalarƒ±, maƒüazalarƒ± ve ofisleri yok etti. State & Madison kav≈üaƒüƒ± yƒ±kƒ±mƒ±n sembol√º oldu - bir zamanlar i≈ü aktivitesinin canlƒ± merkezi harabeye d√∂n√º≈üt√º. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Kaynak</a>.</p>
            </div>
        </div>
      </div>

      <!-- Monday, October 9 -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.25s;animation-fill-mode:both">
          <div style="margin-left:22px;margin-bottom:20px;margin-top:4px;position:relative">
            <div style="display:flex;align-items:center;gap:12px">
              <div style="width:4px;height:24px;background:linear-gradient(to bottom, #ffb703, #ffd60a);border-radius:2px"></div>
              <div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="ru">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 9 –æ–∫—Ç—è–±—Ä—è</div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="en">Monday, October 9</div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="it">Luned√¨, 9 ottobre</div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="tr">9 Ekim Pazartesi</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Oct 9, 00:00 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.3s;animation-fill-mode:both">
          <!-- Animated Dot for 00:00 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulseYellow 2s ease-in-out infinite;animation-delay:0.3s;box-shadow:0 0 0 2px rgba(255,183,3,0.3), 0 2px 8px rgba(255,183,3,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(255,183,3,0.06), rgba(255,183,3,0.02));border-left:3px solid rgba(255,183,3,0.5);border-radius:10px;transition:all 0.3s ease;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#ffb703;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">00:00</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–ì–æ—Ä–∏—Ç LaSalle / Dearborn / State; —ç–≤–∞–∫—É–∞—Ü–∏—è Loop.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">LaSalle / Dearborn / State burning; Loop evacuation.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">LaSalle / Dearborn / State in fiamme; evacuazione Loop.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">LaSalle / Dearborn / State yanƒ±yor; Loop tahliyesi.</span>
        </div>
        </div>
        </div>
        
        <!-- Oct 9, 01:30 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.35s;animation-fill-mode:both">
          <!-- Animated Dot for 01:30 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulseYellow 2s ease-in-out infinite;animation-delay:0.35s;box-shadow:0 0 0 2px rgba(255,183,3,0.3), 0 2px 8px rgba(255,183,3,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(255,183,3,0.06), rgba(255,183,3,0.02));border-left:3px solid rgba(255,183,3,0.5);border-radius:10px;transition:all 0.3s ease;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#ffb703;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">01:30</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–ü–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω–æ–µ —Ä—É—Å–ª–æ –ø–æ –º–æ—Å—Ç—É Kinzie; –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è North Side (Clark, Wells, Franklin).</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">Crossing main channel via Kinzie bridge; North Side ignites (Clark, Wells, Franklin).</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">Attraversamento canale principale tramite ponte Kinzie; North Side prende fuoco (Clark, Wells, Franklin).</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">Ana kanalƒ±n Kinzie k√∂pr√ºs√º √ºzerinden ge√ßi≈üi; Kuzey Tarafƒ± tutu≈üuyor (Clark, Wells, Franklin).</span>
        </div>
        </div>
        </div>
        
        <!-- Oct 9, 02:30 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.4s;animation-fill-mode:both">
          <!-- Animated Dot for 02:30 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulseYellow 2s ease-in-out infinite;animation-delay:0.4s;box-shadow:0 0 0 2px rgba(255,183,3,0.3), 0 2px 8px rgba(255,183,3,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(255,183,3,0.06), rgba(255,183,3,0.02));border-left:3px solid rgba(255,183,3,0.5);border-radius:10px;transition:all 0.3s ease;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#ffb703;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">02:30</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–°–≥–æ—Ä–∞—é—Ç Chicago Tribune Building –∏ Courthouse (–∫–æ–ª–æ–∫–æ–ª –±—å—ë—Ç –¥–æ –æ–±—Ä—É—à–µ–Ω–∏—è).</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">Chicago Tribune Building and Courthouse burn (bell rings until collapse).</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">Chicago Tribune Building e Courthouse bruciano (campana suona fino al crollo).</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">Chicago Tribune Building ve Courthouse yanƒ±yor (√ßan yƒ±kƒ±lƒ±ncaya kadar √ßalƒ±yor).</span>
        </div>
          </div>
        </div>
        
        <!-- Oct 9, 03:00 - Pumping Station -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.45s;animation-fill-mode:both">
          <!-- Animated Dot for 03:00 -->
          <div style="position:absolute;left:-40px;top:4px;width:12px;height:12px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointPulseYellow 2s ease-in-out infinite;animation-delay:0.45s;box-shadow:0 0 0 3px rgba(255,183,3,0.3), 0 4px 12px rgba(255,183,3,0.5)"></div>
          <div style="background:linear-gradient(135deg, rgba(255,183,3,0.08), rgba(255,183,3,0.03));border-left:4px solid #ffb703;border-radius:12px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05);transition:all 0.3s ease;position:relative;overflow:hidden;margin-top:4px">
            <div style="position:absolute;top:0;right:0;width:200px;height:200px;background:radial-gradient(circle, rgba(255,183,3,0.1), transparent);border-radius:50%;transform:translate(50%, -50%)"></div>
            <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:start;margin-bottom:20px;position:relative;z-index:1">
              <div>
                <div style="padding:12px;background:rgba(255,183,3,0.1);border-radius:8px;margin-bottom:16px;border:1px solid rgba(255,183,3,0.2)">
                  <div style="display:flex;align-items:baseline;gap:8px;margin-bottom:8px">
                    <span style="color:#ffb703;font-weight:700;font-size:18px;font-family:'Courier New', monospace">03:00</span>
                    <span style="width:2px;height:16px;background:#ffb703;opacity:0.5"></span>
                  </div>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="ru">–ü–æ—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å–æ—Å–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ ‚Äî —Å–Ω–∞–±–∂–µ–Ω–∏–µ –≤–æ–¥–æ–π –ø–∞–¥–∞–µ—Ç.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="en">Pumping works disabled ‚Äî water falters.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="it">Stazione pompaggio fuori uso ‚Äî acqua scarseggia.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="tr">Pompa istasyonu devre dƒ±≈üƒ± ‚Äî su kesiliyor.</p>
                </div>
              </div>
              <div class="ph" style="border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(255,183,3,0.4), inset 0 0 0 1px rgba(255,183,3,0.2);border:2px solid rgba(255,183,3,0.3);position:relative">
                <div style="position:absolute;inset:0;background:linear-gradient(135deg, rgba(255,183,3,0.1), transparent);z-index:1;pointer-events:none"></div>
                <img src="images/chicago fire/water-tower.jpg" alt="Water Tower and Pumping Station" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease">
              </div>
            </div>
            <div style="position:relative;z-index:1;padding-top:16px;border-top:1px solid rgba(255,183,3,0.2)">
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="ru">–ö 3 —É—Ç—Ä–∞ –ø–æ–∂–∞—Ä –¥–æ—Å—Ç–∏–≥ –Ω–∞—Å–æ—Å–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏ –Ω–∞ –ú–∏—á–∏–≥–∞–Ω-–∞–≤–µ–Ω—é, –æ—Ç–∫–ª—é—á–∏–≤ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞. –í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–∞—è –±–∞—à–Ω—è (Water Tower) —Å—Ç–∞–ª–∞ –æ–¥–Ω–∏–º –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö –∑–¥–∞–Ω–∏–π, –ø–µ—Ä–µ–∂–∏–≤—à–∏—Ö –ø–æ–∂–∞—Ä, –∏ —Å–∏–º–≤–æ–ª–æ–º –Ω–∞–¥–µ–∂–¥—ã –¥–ª—è –≥–æ—Ä–æ–∂–∞–Ω. <a href="https://www.architecture.org/learn/resources/architecture-dictionary/entry/water-tower-and-pumping-station/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="en">By 3 AM, the fire reached the pumping station on Michigan Avenue, cutting off the city's water supply. The Water Tower became one of the few buildings to survive the fire and a symbol of hope for citizens. <a href="https://www.architecture.org/learn/resources/architecture-dictionary/entry/water-tower-and-pumping-station/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Architecture</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="it">Alle 3 del mattino, l'incendio raggiunse la stazione di pompaggio su Michigan Avenue, interrompendo l'approvvigionamento idrico della citt√†. La Water Tower divenne uno dei pochi edifici a sopravvivere all'incendio e un simbolo di speranza per i cittadini. <a href="https://www.architecture.org/learn/resources/architecture-dictionary/entry/water-tower-and-pumping-station/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Architettura</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="tr">Sabah 3'e kadar yangƒ±n Michigan Caddesi'ndeki pompa istasyonuna ula≈ütƒ± ve ≈üehrin su tedarikini kesti. Su Kulesi (Water Tower) yangƒ±ndan kurtulan az sayƒ±daki binadan biri oldu ve vatanda≈ülar i√ßin umut sembol√º haline geldi. <a href="https://www.architecture.org/learn/resources/architecture-dictionary/entry/water-tower-and-pumping-station/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Mimari</a>.</p>
            </div>
          </div>
        </div>
        
        <!-- Oct 9, 05:30-06:00 - Courthouse -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.5s;animation-fill-mode:both">
          <!-- Animated Dot for 05:30-06:00 -->
          <div style="position:absolute;left:-40px;top:4px;width:12px;height:12px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointPulseYellow 2s ease-in-out infinite;animation-delay:0.5s;box-shadow:0 0 0 3px rgba(255,183,3,0.3), 0 4px 12px rgba(255,183,3,0.5)"></div>
          <div style="background:linear-gradient(135deg, rgba(255,183,3,0.08), rgba(255,183,3,0.03));border-left:4px solid #ffb703;border-radius:12px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05);transition:all 0.3s ease;position:relative;overflow:hidden;margin-top:4px">
            <div style="position:absolute;top:0;right:0;width:200px;height:200px;background:radial-gradient(circle, rgba(255,183,3,0.1), transparent);border-radius:50%;transform:translate(50%, -50%)"></div>
            <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:start;margin-bottom:20px;position:relative;z-index:1">
              <div>
                <div style="padding:12px;background:rgba(255,183,3,0.1);border-radius:8px;margin-bottom:16px;border:1px solid rgba(255,183,3,0.2)">
                  <div style="display:flex;align-items:baseline;gap:8px;margin-bottom:8px">
                    <span style="color:#ffb703;font-weight:700;font-size:18px;font-family:'Courier New', monospace">05:30‚Äì06:00</span>
                    <span style="width:2px;height:16px;background:#ffb703;opacity:0.5"></span>
                  </div>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="ru">–û—Ö–≤–∞—á–µ–Ω—ã Wabash / Michigan; —Ä—É—à–∞—Ç—Å—è Palmer House, Tremont House, Michigan Central Depot.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="en">Wabash / Michigan engulfed; Palmer House, Tremont House, Michigan Central Depot collapse.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="it">Wabash / Michigan inghiottiti; Palmer House, Tremont House, Michigan Central Depot crollano.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="tr">Wabash / Michigan kaplandƒ±; Palmer House, Tremont House, Michigan Central Depot yƒ±kƒ±lƒ±yor.</p>
                </div>
              </div>
              <div class="ph" style="border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(255,183,3,0.4), inset 0 0 0 1px rgba(255,183,3,0.2);border:2px solid rgba(255,183,3,0.3);position:relative">
                <div style="position:absolute;inset:0;background:linear-gradient(135deg, rgba(255,183,3,0.1), transparent);z-index:1;pointer-events:none"></div>
                <img src="images/chicago fire/courthouse-burning.jpg" alt="Map of fire spread" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease">
              </div>
            </div>
            <div style="position:relative;z-index:1;padding-top:16px;border-top:1px solid rgba(255,183,3,0.2)">
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="ru">–ì–æ—Ä–∏—Ç –∫—É–ø–æ–ª —Å—É–¥–∞; —Ü–µ–Ω—Ç—Ä –æ—Ö–≤–∞—á–µ–Ω –ø–ª–∞–º–µ–Ω–µ–º. –ö —Ä–∞—Å—Å–≤–µ—Ç—É –ø–æ–∂–∞—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ö–≤–∞—Ç–∏–ª –¥–µ–ª–æ–≤–æ–π —Ä–∞–π–æ–Ω, —É–Ω–∏—á—Ç–æ–∂–∏–≤ –∑–¥–∞–Ω–∏–µ —Å—É–¥–∞ –∏ –¥—Ä—É–≥–∏–µ –≤–∞–∂–Ω—ã–µ –ø–æ—Å—Ç—Ä–æ–π–∫–∏. –ö–æ–ª–æ–∫–æ–ª —Å—É–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–ª –±–∏—Ç—å –¥–æ —Å–∞–º–æ–≥–æ –æ–±—Ä—É—à–µ–Ω–∏—è. <a href="http://www.encyclopedia.chicagohistory.org/pages/1713.html" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –ß–∏–∫–∞–≥–æ</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="en">Courthouse dome burns; core engulfed. By dawn, the fire had completely engulfed the business district, destroying the courthouse and other important buildings. The courthouse bell continued to ring until the building collapsed. <a href="http://www.encyclopedia.chicagohistory.org/pages/1713.html" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Encyclopedia of Chicago</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="it">Cupola del tribunale in fiamme; centro avvolto. All'alba, l'incendio aveva completamente inghiottito il distretto commerciale, distruggendo il tribunale e altri importanti edifici. La campana del tribunale continu√≤ a suonare fino al crollo dell'edificio. <a href="http://www.encyclopedia.chicagohistory.org/pages/1713.html" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Enciclopedia di Chicago</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="tr">Adalet sarayƒ± kubbesi yanƒ±yor; merkez alevlerle sarƒ±ldƒ±. ≈ûafak vakti yangƒ±n i≈ü b√∂lgesini tamamen kaplamƒ±≈ü, adliyeyi ve diƒüer √∂nemli binalarƒ± yok etmi≈üti. Adliye √ßanƒ± binanƒ±n √ß√∂kene kadar √ßalmaya devam etti. <a href="http://www.encyclopedia.chicagohistory.org/pages/1713.html" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Chicago Ansiklopedisi</a>.</p>
            </div>
          </div>
        </div>
        
        <!-- Oct 9, 07:30-10:00 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.55s;animation-fill-mode:both">
          <!-- Animated Dot for 07:30-10:00 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulseYellow 2s ease-in-out infinite;animation-delay:0.55s;box-shadow:0 0 0 2px rgba(255,183,3,0.3), 0 2px 8px rgba(255,183,3,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(255,183,3,0.06), rgba(255,183,3,0.02));border-left:3px solid rgba(255,183,3,0.5);border-radius:10px;transition:all 0.3s ease;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#ffb703;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">07:30‚Äì10:00</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–°–∏–ª—å–Ω—ã–µ –æ–≥–Ω–µ–Ω–Ω—ã–µ –≤–∏—Ö—Ä–∏; –º–∞—Å—Å–æ–≤—ã–π –æ—Ç—Ö–æ–¥ –∫ –±–µ—Ä–µ–≥—É –æ–∑–µ—Ä–∞; –°–µ–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –≤ –æ–≥–Ω–µ.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">Strong fire whirlwinds; mass retreat to lakeshore; North Side in flames.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">Forti vortici di fuoco; ritirata di massa verso lago; North Side in fiamme.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">G√º√ßl√º ate≈ü girdaplarƒ±; g√∂l kenarƒ±na toplu √ßekilme; Kuzey Tarafƒ± alevler i√ßinde.</span>
            </div>
          </div>
        </div>
        
        <!-- Oct 9, 12:00 - Lake Michigan -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.6s;animation-fill-mode:both">
          <!-- Animated Dot for 12:00 -->
          <div style="position:absolute;left:-40px;top:4px;width:12px;height:12px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointPulseYellow 2s ease-in-out infinite;animation-delay:0.6s;box-shadow:0 0 0 3px rgba(255,183,3,0.3), 0 4px 12px rgba(255,183,3,0.5)"></div>
          <div style="background:linear-gradient(135deg, rgba(255,183,3,0.08), rgba(255,183,3,0.03));border-left:4px solid #ffb703;border-radius:12px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05);transition:all 0.3s ease;position:relative;overflow:hidden;margin-top:4px">
            <div style="position:absolute;top:0;right:0;width:200px;height:200px;background:radial-gradient(circle, rgba(255,183,3,0.1), transparent);border-radius:50%;transform:translate(50%, -50%)"></div>
            <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:start;margin-bottom:20px;position:relative;z-index:1">
              <div>
                <div style="padding:12px;background:rgba(255,183,3,0.1);border-radius:8px;margin-bottom:16px;border:1px solid rgba(255,183,3,0.2)">
                  <div style="display:flex;align-items:baseline;gap:8px;margin-bottom:8px">
                    <span style="color:#ffb703;font-weight:700;font-size:18px;font-family:'Courier New', monospace">12:00</span>
                    <span style="width:2px;height:16px;background:#ffb703;opacity:0.5"></span>
                  </div>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="ru">–û–±–æ—Ä–æ–Ω–∞ —É Water Tower; –∂–∞—Ä —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π. –û–≥–æ–Ω—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –±–µ—Ä–µ–≥–∞ –æ–∑–µ—Ä–∞ –ú–∏—á–∏–≥–∞–Ω.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="en">Defense at Water Tower; extreme heat. Fire reaches Lake Michigan shore.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="it">Difesa presso Water Tower; calore estremo. Fuoco raggiunge riva Lago Michigan.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="tr">Water Tower'da savunma; a≈üƒ±rƒ± sƒ±caklƒ±k. Yangƒ±n Michigan G√∂l√º kƒ±yƒ±sƒ±na ula≈ütƒ±.</p>
                </div>
              </div>
              <div class="ph" style="border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(255,183,3,0.4), inset 0 0 0 1px rgba(255,183,3,0.2);border:2px solid rgba(255,183,3,0.3);position:relative">
                <div style="position:absolute;inset:0;background:linear-gradient(135deg, rgba(255,183,3,0.1), transparent);z-index:1;pointer-events:none"></div>
                <img src="images/chicago fire/north-spreading.jpg" alt="Old Water Tower" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease">
              </div>
            </div>
            <div style="position:relative;z-index:1;padding-top:16px;border-top:1px solid rgba(255,183,3,0.2)">
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="ru">–ö –ø–æ–ª—É–¥–Ω—é –ø–æ–∂–∞—Ä –¥–æ—Å—Ç–∏–≥ –±–µ—Ä–µ–≥–∞ –æ–∑–µ—Ä–∞, —Ç—ã—Å—è—á–∏ –∂–∏—Ç–µ–ª–µ–π –±–µ–∂–∞–ª–∏ –≤ –≤–æ–¥—É, —á—Ç–æ–±—ã —Å–ø–∞—Å—Ç–∏—Å—å –æ—Ç –æ–≥–Ω—è. –í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–∞—è –±–∞—à–Ω—è –≤—ã—Å—Ç–æ—è–ª–∞. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">–ò—Å—Ç–æ—á–Ω–∏–∫</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="en">By noon, the fire reached the lakeshore, thousands of residents fled into the water to escape the flames. The Water Tower withstood the fire. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Source</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="it">A mezzogiorno, l'incendio raggiunse la riva del lago, migliaia di residenti fuggirono in acqua per sfuggire alle fiamme. La Water Tower resistette all'incendio. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Fonte</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="tr">√ñƒüle vakti yangƒ±n g√∂l kƒ±yƒ±sƒ±na ula≈ütƒ±, binlerce sakin alevlerden ka√ßmak i√ßin suya ka√ßtƒ±. Su Kulesi yangƒ±na dayandƒ±. <a href="https://greatchicagofire.org/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Kaynak</a>.</p>
            </div>
          </div>
        </div>
        
        <!-- Oct 9, 15:30-16:00 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.65s;animation-fill-mode:both">
          <!-- Animated Dot for 15:30-16:00 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulseYellow 2s ease-in-out infinite;animation-delay:0.65s;box-shadow:0 0 0 2px rgba(255,183,3,0.3), 0 2px 8px rgba(255,183,3,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(255,183,3,0.06), rgba(255,183,3,0.02));border-left:3px solid rgba(255,183,3,0.5);border-radius:10px;transition:all 0.3s ease;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#ffb703;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">15:30‚Äì16:00</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–†–∞–π–æ–Ω Lincoln / Fullerton; –≤–µ—Ç–µ—Ä —Å–ª–∞–±–µ–µ—Ç, —Ñ—Ä–æ–Ω—Ç –≤—ã–¥—ã—Ö–∞–µ—Ç—Å—è.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">Lincoln / Fullerton area; wind weakens, front exhausts.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">Zona Lincoln / Fullerton; vento si indebolisce, fronte si estingue.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">Lincoln / Fullerton b√∂lgesi; r√ºzgar zayƒ±flƒ±yor, cephe t√ºkeniyor.</span>
            </div>
          </div>
        </div>
        
        <!-- Oct 9, 20:00 -->
        <div style="margin-bottom:32px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.7s;animation-fill-mode:both">
          <!-- Animated Dot for 20:00 -->
          <div style="position:absolute;left:-2px;top:4px;width:8px;height:8px;background:#ffb703;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointSmallPulseYellow 2s ease-in-out infinite;animation-delay:0.7s;box-shadow:0 0 0 2px rgba(255,183,3,0.3), 0 2px 8px rgba(255,183,3,0.4)"></div>
          <div style="margin-left:22px;padding:16px 20px;background:linear-gradient(135deg, rgba(255,183,3,0.06), rgba(255,183,3,0.02));border-left:3px solid rgba(255,183,3,0.5);border-radius:10px;transition:all 0.3s ease;box-shadow:0 2px 8px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.03);margin-top:4px">
            <div style="display:flex;align-items:baseline;gap:12px">
              <span style="color:#ffb703;font-weight:700;font-size:15px;font-family:'Courier New', monospace;min-width:95px;letter-spacing:0.5px">20:00</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="ru">–¶–µ–Ω—Ç—Ä –≤ —Ä—É–∏–Ω–∞—Ö; –æ—Å—Ç–∞—é—Ç—Å—è —Ç–ª–µ—é—â–∏–µ –æ—á–∞–≥–∏.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="en">Downtown in ruins; smoldering spots remain.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="it">Centro in rovine; rimangono focolai fumanti.</span>
              <span style="flex:1;color:#d0d0d0;line-height:1.7;font-size:17px" data-i18n="tr">Merkez harabe; yanan noktalar kalƒ±yor.</span>
            </div>
        </div>
      </div>

      <!-- Tuesday, October 10 -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.75s;animation-fill-mode:both">
          <div style="margin-left:22px;margin-bottom:20px;margin-top:4px;position:relative">
            <div style="display:flex;align-items:center;gap:12px">
              <div style="width:4px;height:24px;background:linear-gradient(to bottom, #219ebc, #4cc9f0);border-radius:2px"></div>
              <div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="ru">–í—Ç–æ—Ä–Ω–∏–∫, 10 –æ–∫—Ç—è–±—Ä—è</div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="en">Tuesday, October 10</div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="it">Marted√¨, 10 ottobre</div>
                <div style="font-weight:700;color:#ffb703;font-size:20px;letter-spacing:0.5px" data-i18n="tr">10 Ekim Salƒ±</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Oct 10, 03:00 - Fire Aftermath -->
        <div style="margin-bottom:40px;position:relative;animation:timelineCardFadeIn 0.6s ease-out;animation-delay:0.8s;animation-fill-mode:both">
          <!-- Animated Dot for Oct 10, 03:00 -->
          <div style="position:absolute;left:-40px;top:4px;width:12px;height:12px;background:#219ebc;border-radius:50%;transform:translate(-50%, -50%);z-index:2;animation:timelinePointPulseBlue 2s ease-in-out infinite;animation-delay:0.8s;box-shadow:0 0 0 3px rgba(33,158,188,0.3), 0 4px 12px rgba(33,158,188,0.5)"></div>
          <div style="background:linear-gradient(135deg, rgba(33,158,188,0.08), rgba(33,158,188,0.03));border-left:4px solid #219ebc;border-radius:12px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05);transition:all 0.3s ease;position:relative;overflow:hidden;margin-top:4px">
            <div style="position:absolute;top:0;right:0;width:200px;height:200px;background:radial-gradient(circle, rgba(33,158,188,0.1), transparent);border-radius:50%;transform:translate(50%, -50%)"></div>
            <div style="display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:start;margin-bottom:20px;position:relative;z-index:1">
              <div>
                <div style="padding:12px;background:rgba(33,158,188,0.1);border-radius:8px;margin-bottom:16px;border:1px solid rgba(33,158,188,0.2)">
                  <div style="display:flex;align-items:baseline;gap:8px;margin-bottom:8px">
                    <span style="color:#219ebc;font-weight:700;font-size:18px;font-family:'Courier New', monospace">03:00</span>
                    <span style="width:2px;height:16px;background:#219ebc;opacity:0.5"></span>
                  </div>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="ru">–í–µ—Ç–µ—Ä —Å—Ç–∏—Ö–∞–µ—Ç, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –¥–æ–∂–¥—å; –ø–æ–∂–∞—Ä –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –ø–æ—Ç—É—à–µ–Ω.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="en">Wind subsides, rain begins; fire officially extinguished.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="it">Vento si placa, inizia piovere; incendio ufficialmente estinto.</p>
                  <p style="margin:0;color:#e0e0e0;line-height:1.6;font-size:17px" data-i18n="tr">R√ºzgar duruyor, yaƒümur ba≈ülƒ±yor; yangƒ±n resmen s√∂nd√ºr√ºld√º.</p>
                </div>
              </div>
              <div class="ph" style="border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(33,158,188,0.4), inset 0 0 0 1px rgba(33,158,188,0.2);border:2px solid rgba(33,158,188,0.3);position:relative">
                <div style="position:absolute;inset:0;background:linear-gradient(135deg, rgba(33,158,188,0.1), transparent);z-index:1;pointer-events:none"></div>
                <img src="images/chicago fire/fire-aftermath.jpg" alt="Chicago ruins after fire" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease">
              </div>
            </div>
            <div style="position:relative;z-index:1;padding-top:16px;border-top:1px solid rgba(33,158,188,0.2)">
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="ru">–ü–ª–∞–º—è —Å—Ç–∏—Ö–∞–µ—Ç; –ø–æ–≤–æ—Ä–æ—Ç –∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é. –ö —Ä–∞—Å—Å–≤–µ—Ç—É –¥–æ–∂–¥—å –∏ –æ—Å–ª–∞–±–µ–≤—à–∏–π –≤–µ—Ç–µ—Ä –ø–æ–º–æ–≥–ª–∏ –ø–æ—Ç—É—à–∏—Ç—å –ø–æ–∂–∞—Ä. –ì–æ—Ä–æ–¥ –ª–µ–∂–∞–ª –≤ —Ä—É–∏–Ω–∞—Ö, –Ω–æ –∂–∏—Ç–µ–ª–∏ —É–∂–µ –Ω–∞—á–∞–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ. <a href="https://www.architecture.org/learn/resources/buildings-of-chicago/building/reliance-building/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">–†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="en">Flames subside; turn to rebuilding. By dawn, rain and weakened winds helped extinguish the fire. The city lay in ruins, but residents had already begun planning reconstruction. <a href="https://www.architecture.org/learn/resources/buildings-of-chicago/building/reliance-building/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Reconstruction</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="it">Le fiamme calano; inizio della ricostruzione. All'alba, la pioggia e il vento indebolito aiutarono a spegnere l'incendio. La citt√† giaceva in rovina, ma i residenti avevano gi√† iniziato a pianificare la ricostruzione. <a href="https://www.architecture.org/learn/resources/buildings-of-chicago/building/reliance-building/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Ricostruzione</a>.</p>
              <p class="muted" style="font-size:17px;line-height:1.7;margin:0;color:#b8b8b8" data-i18n="tr">Alevler s√∂n√ºyor; yeniden in≈üaya d√∂n√º≈ü. ≈ûafak vakti yaƒümur ve zayƒ±flamƒ±≈ü r√ºzgar yangƒ±nƒ± s√∂nd√ºrmeye yardƒ±mcƒ± oldu. ≈ûehir harabe halindeydi, ancak sakinler zaten yeniden in≈üayƒ± planlamaya ba≈ülamƒ±≈ütƒ±. <a href="https://www.architecture.org/learn/resources/buildings-of-chicago/building/reliance-building/" target="_blank" rel="noopener" style="color:#ffb703;text-decoration:underline;font-weight:500">Yeniden in≈üa</a>.</p>
            </div>
        </div>
      </div>

      <!-- Summary -->
        <div style="margin-top:48px;padding:24px;background:linear-gradient(135deg, rgba(251,86,7,0.12), rgba(251,86,7,0.05));border-left:4px solid #fb5607;border-radius:12px;box-shadow:0 4px 16px rgba(251,86,7,0.2), inset 0 1px 0 rgba(255,255,255,0.05);position:relative;overflow:hidden">
          <div style="position:absolute;top:0;right:0;width:150px;height:150px;background:radial-gradient(circle, rgba(251,86,7,0.15), transparent);border-radius:50%;transform:translate(30%, -30%)"></div>
          <div style="position:relative;z-index:1">
            <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
              <div style="width:4px;height:20px;background:linear-gradient(to bottom, #fb5607, #ff6b35);border-radius:2px"></div>
              <strong style="color:#ffb703;font-size:18px;font-weight:700" data-i18n="ru">–ò—Ç–æ–≥</strong>
              <strong style="color:#ffb703;font-size:18px;font-weight:700" data-i18n="en">Summary</strong>
              <strong style="color:#ffb703;font-size:18px;font-weight:700" data-i18n="it">Riepilogo</strong>
              <strong style="color:#ffb703;font-size:18px;font-weight:700" data-i18n="tr">√ñzet</strong>
            </div>
            <p style="margin:0;color:#d0d0d0;line-height:1.7;font-size:15px" data-i18n="ru">~36 —á–∞—Å–æ–≤ (—Å 20:30 8/10 –¥–æ ~03:00 10/10); —Ü–µ–Ω—Ç—Ä –∏ –°–µ–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —Ä–∞–∑—Ä—É—à–µ–Ω—ã, –¥–µ—Å—è—Ç–∫–∏ —Ç—ã—Å—è—á –±–µ–∑ –∫—Ä–æ–≤–∞.</p>
            <p style="margin:0;color:#d0d0d0;line-height:1.7;font-size:15px" data-i18n="en">~36 hours (from 20:30 Oct 8 to ~03:00 Oct 10); downtown and North Side destroyed, tens of thousands homeless.</p>
            <p style="margin:0;color:#d0d0d0;line-height:1.7;font-size:15px" data-i18n="it">~36 ore (dalle 20:30 dell'8/10 alle ~03:00 del 10/10); centro e North Side distrutti, decine di migliaia di senzatetto.</p>
            <p style="margin:0;color:#d0d0d0;line-height:1.7;font-size:15px" data-i18n="tr">~36 saat (8 Ekim 20:30'dan 10 Ekim ~03:00'a); merkez ve Kuzey Tarafƒ± yƒ±kƒ±ldƒ±, on binlerce ki≈üi evsiz kaldƒ±.</p>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- üéÆ GAME SECTION -->
<section id="game" class="container">
  <h3 class="section-title" data-i18n="ru">–ò–≥—Ä–∞: ¬´–°–ø–∞—Å–∏ —É–ª–∏—Ü—ã –ß–∏–∫–∞–≥–æ¬ª ‚Äî —É—Ä–æ–≤–Ω–∏, –≤–µ—Ç–µ—Ä, –≥–∏–¥—Ä–∞–Ω—Ç—ã</h3>
  <h3 class="section-title" data-i18n="en">Game: "Save Chicago Streets" ‚Äî levels, wind & hydrants</h3>
  <h3 class="section-title" data-i18n="it">Gioco: "Salva le strade di Chicago" ‚Äî livelli, vento e idranti</h3>
  <h3 class="section-title" data-i18n="tr">Oyun: "Chicago Sokaklarƒ±nƒ± Kurtar" ‚Äî seviyeler, r√ºzgar ve hidrantlar</h3>

  <!-- Game Introduction Modal -->
  <div id="gameIntroModal" style="position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:10000;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(8px);padding:20px">
    <div style="max-width:600px;width:100%;background:linear-gradient(135deg, rgba(15,17,21,0.98), rgba(26,31,46,0.95));border:2px solid #fb5607;border-radius:14px;box-shadow:0 0 40px rgba(251,86,7,0.5);overflow:hidden;max-height:95vh;display:flex;flex-direction:column">
      <div style="padding:16px 18px;overflow-y:auto;flex:1">
        <h3 style="color:#ffb703;margin:0 0 14px;font-size:20px;text-align:center;font-weight:700" data-i18n="ru">üî• –°–ø–∞—Å–∏—Ç–µ –ß–∏–∫–∞–≥–æ –æ—Ç –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞ 1871 –≥–æ–¥–∞</h3>
        <h3 style="color:#ffb703;margin:0 0 14px;font-size:20px;text-align:center;font-weight:700" data-i18n="en">üî• Save Chicago from the Great Fire of 1871</h3>
        <h3 style="color:#ffb703;margin:0 0 14px;font-size:20px;text-align:center;font-weight:700" data-i18n="it">üî• Salva Chicago dal Grande Incendio del 1871</h3>
        <h3 style="color:#ffb703;margin:0 0 14px;font-size:20px;text-align:center;font-weight:700" data-i18n="tr">üî• 1871 B√ºy√ºk Yangƒ±nƒ±ndan Chicago'yu Kurtarƒ±n</h3>
        
        <div style="margin-bottom:14px;padding:12px;background:rgba(251,86,7,0.15);border-left:3px solid #fb5607;border-radius:6px">
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="ru">–í—ã - –ø–æ–∂–∞—Ä–Ω—ã–π –≤ –ß–∏–∫–∞–≥–æ 1871 –≥–æ–¥–∞. –í–µ–ª–∏–∫–∏–π –ø–æ–∂–∞—Ä –æ—Ö–≤–∞—Ç–∏–ª –≥–æ—Ä–æ–¥, –∏ –≤–∞—à–∞ –∑–∞–¥–∞—á–∞ - —Å–ø–∞—Å—Ç–∏ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –∑–¥–∞–Ω–∏–π –∏ –ª—é–¥–µ–π. –ü–æ–∂–∞—Ä —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–º –∑–¥–∞–Ω–∏—è–º, –∞ –≤—ã –º–æ–∂–µ—Ç–µ —Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ —É–ª–∏—Ü–∞–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ–¥—É –∏–∑ –≤–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–æ–π –±–∞—à–Ω–∏ –∏ –≥–∏–¥—Ä–∞–Ω—Ç–æ–≤ –¥–ª—è –±–æ—Ä—å–±—ã —Å –æ–≥–Ω–µ–º!</p>
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="en">You are a firefighter in Chicago 1871. The Great Fire has engulfed the city, and your mission is to save as many buildings and people as possible. Fire spreads through wooden buildings, and you can only walk on streets. Use water from the Water Tower and hydrants to fight the flames!</p>
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="it">Sei un vigile del fuoco a Chicago nel 1871. Il Grande Incendio ha avvolto la citt√†, e la tua missione √® salvare il maggior numero possibile di edifici e persone. Il fuoco si diffonde attraverso gli edifici di legno, e puoi camminare solo per le strade. Usa l'acqua dalla Water Tower e dagli idranti per combattere le fiamme!</p>
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="tr">1871 yƒ±lƒ±nda Chicago'da bir itfaiyecisiniz. B√ºy√ºk Yangƒ±n ≈üehri sarmƒ±≈ü ve g√∂reviniz m√ºmk√ºn olduƒüunca √ßok bina ve insanƒ± kurtarmak. Yangƒ±n ah≈üap binalarda yayƒ±lƒ±r ve siz sadece sokaklarda y√ºr√ºyebilirsiniz. Alevlerle sava≈ümak i√ßin Su Kulesi ve hidrantlardan su kullanƒ±n!</p>
        </div>
        
        <div style="margin-bottom:14px;padding:12px;background:rgba(220,60,60,0.15);border-left:3px solid #dc3c3c;border-radius:6px">
          <div style="display:flex;gap:12px;align-items:flex-start">
            <img src="images/game/water tower.png" alt="Water Tower" style="width:80px;height:auto;border-radius:6px;border:2px solid #ffb703;flex-shrink:0;object-fit:contain;background:rgba(0,0,0,0.3);padding:4px">
            <div style="flex:1">
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="ru"><strong style="color:#ffb703">üèõÔ∏è –í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–∞—è –±–∞—à–Ω—è (Water Tower)</strong> ‚Äî —ç—Ç–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ –∑–¥–∞–Ω–∏–µ, –æ–¥–Ω–æ –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ —Å–≥–æ—Ä–µ–ª–æ –≤–æ –≤—Ä–µ–º—è –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞ –≤ –ß–∏–∫–∞–≥–æ 1871 –≥–æ–¥–∞. –û–Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–∞ –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º –Ω–∞ –∫–∞—Ä—Ç–µ –∏ —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–¥–∞–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥–æ—Ä–µ—Ç—å—Å—è.</p>
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="en"><strong style="color:#ffb703">üèõÔ∏è Water Tower</strong> ‚Äî This is a historical building, one of the few that did not burn during the Great Chicago Fire of 1871. It is highlighted in red on the map and is the only building that cannot catch fire.</p>
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="it"><strong style="color:#ffb703">üèõÔ∏è Water Tower</strong> ‚Äî Questo √® un edificio storico, uno dei pochi che non bruci√≤ durante il Grande Incendio di Chicago del 1871. √à evidenziato in rosso sulla mappa ed √® l'unico edificio che non pu√≤ prendere fuoco.</p>
          <p style="margin:0;line-height:1.5;color:#e9ecf1;font-size:13px" data-i18n="tr"><strong style="color:#ffb703">üèõÔ∏è Su Kulesi (Water Tower)</strong> ‚Äî Bu, 1871 B√ºy√ºk Chicago Yangƒ±nƒ± sƒ±rasƒ±nda yanmayan birka√ß binadan biri olan tarihi bir binadƒ±r. Haritada kƒ±rmƒ±zƒ± renkle vurgulanmƒ±≈ütƒ±r ve yanmayan tek binadƒ±r.</p>
            </div>
          </div>
        </div>

        <div style="margin-bottom:14px">
          <h4 style="color:#ffb703;margin:0 0 8px;font-size:15px;font-weight:700" data-i18n="ru">üéÆ –ü–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</h4>
          <h4 style="color:#ffb703;margin:0 0 8px;font-size:15px;font-weight:700" data-i18n="en">üéÆ Complete Instructions</h4>
          <h4 style="color:#ffb703;margin:0 0 8px;font-size:15px;font-weight:700" data-i18n="it">üéÆ Istruzioni Complete</h4>
          <h4 style="color:#ffb703;margin:0 0 8px;font-size:15px;font-weight:700" data-i18n="tr">üéÆ Tam Talimatlar</h4>
          
          <div style="margin-bottom:10px">
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="ru">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="en">Controls:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="it">Controlli:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="tr">Kontroller:</strong>
            <ul style="margin:4px 0 0;padding-left:18px;color:#d0d0d0;line-height:1.5;font-size:12px">
              <li data-i18n="ru">–ü–µ—Ä–µ–º–µ—â–∞–π—Ç–µ –º—ã—à—å - –∏–≥—Ä–æ–∫ —Å–ª–µ–¥—É–µ—Ç –∑–∞ –∫—É—Ä—Å–æ—Ä–æ–º (–º–æ–∂–Ω–æ —Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ —É–ª–∏—Ü–∞–º, –Ω–µ —á–µ—Ä–µ–∑ –∑–¥–∞–Ω–∏—è)</li>
              <li data-i18n="en">Move your mouse - the player follows the cursor (you can only walk on streets, not through buildings)</li>
              <li data-i18n="it">Muovi il mouse - il giocatore segue il cursore (puoi camminare solo per le strade, non attraverso gli edifici)</li>
              <li data-i18n="tr">Farenizi hareket ettirin - oyuncu imleci takip eder (sadece sokaklarda y√ºr√ºyebilirsiniz, binalarƒ±n i√ßinden ge√ßemezsiniz)</li>
              <li data-i18n="ru">–ó–∞–∂–º–∏—Ç–µ –ª–µ–≤—É—é –∫–Ω–æ–ø–∫—É –º—ã—à–∏ - –ø–æ–ª–∏–≤–∞–π—Ç–µ –æ–≥–æ–Ω—å –≤–æ–¥–æ–π</li>
              <li data-i18n="en">Hold left mouse button - spray water on fire</li>
              <li data-i18n="it">Tieni premuto il pulsante sinistro - spruzza acqua sul fuoco</li>
              <li data-i18n="tr">Sol fare tu≈üunu basƒ±lƒ± tutun - yangƒ±na su p√ºsk√ºrt√ºn</li>
              <li data-i18n="ru">–ü–æ–¥—Ö–æ–¥–∏—Ç–µ –∫ –≤–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–æ–π –±–∞—à–Ω–µ (—Å–∏–Ω–∏–π –º–∞—Ä–∫–µ—Ä) –∏–ª–∏ –≥–∏–¥—Ä–∞–Ω—Ç–∞–º (–∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏) –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤–æ–¥—ã</li>
              <li data-i18n="en">Approach the Water Tower (blue marker) or hydrants (red dots) to refill water</li>
              <li data-i18n="it">Avvicinati alla Water Tower (marcatore blu) o agli idranti (punti rossi) per ricaricare l'acqua</li>
              <li data-i18n="tr">Suyu yeniden doldurmak i√ßin Su Kulesi (mavi i≈üaret) veya hidrantlara (kƒ±rmƒ±zƒ± noktalar) yakla≈üƒ±n</li>
              <li data-i18n="ru">–í–µ—Ç–µ—Ä –º–µ–Ω—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏ –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–≥–Ω—è</li>
              <li data-i18n="en">Wind changes direction between levels and affects fire spread</li>
              <li data-i18n="it">Il vento cambia direzione tra i livelli e influenza la diffusione del fuoco</li>
              <li data-i18n="tr">R√ºzgar seviyeler arasƒ±nda y√∂n deƒüi≈ütirir ve yangƒ±n yayƒ±lƒ±mƒ±nƒ± etkiler</li>
              <li data-i18n="ru">–°–ø–∞—Å–∞–π—Ç–µ –ª—é–¥–µ–π –∏–∑ –∑–¥–∞–Ω–∏–π, —Å–æ–±–∏—Ä–∞–π—Ç–µ –±–æ–Ω—É—Å—ã, –∏–∑–±–µ–≥–∞–π—Ç–µ —Å–≥–æ—Ä–µ–≤—à–∏—Ö –∑–¥–∞–Ω–∏–π</li>
              <li data-i18n="en">Rescue people from buildings, collect power-ups, avoid burned buildings</li>
              <li data-i18n="it">Salva le persone dagli edifici, raccogli potenziamenti, evita gli edifici bruciati</li>
              <li data-i18n="tr">ƒ∞nsanlarƒ± binalardan kurtarƒ±n, g√º√ßlendiriciler toplayƒ±n, yanmƒ±≈ü binalardan ka√ßƒ±nƒ±n</li>
            </ul>
      </div>
          
          <div style="margin-bottom:10px">
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="ru">–ë–æ–Ω—É—Å—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="en">Power-ups and Elements:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="it">Potenziamenti ed Elementi:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="tr">G√º√ßlendiriciler ve √ñƒüeler:</strong>
            <ul style="margin:4px 0 0;padding-left:18px;color:#d0d0d0;line-height:1.5;font-size:12px">
              <li data-i18n="ru">üíß –í–æ–¥–∞+ - –ø–æ–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø–∞—Å –≤–æ–¥—ã</li>
              <li data-i18n="en">üíß Water+ - refills water supply</li>
              <li data-i18n="it">üíß Acqua+ - ricarica la scorta d'acqua</li>
              <li data-i18n="tr">üíß Su+ - su rezervini yeniler</li>
              <li data-i18n="ru">üõ°Ô∏è –ó–∞—â–∏—Ç–∞ - –∑–∞—â–∏—Ç–∞ –æ—Ç –æ–≥–Ω—è</li>
              <li data-i18n="en">üõ°Ô∏è Shield - protection from fire</li>
              <li data-i18n="it">üõ°Ô∏è Scudo - protezione dal fuoco</li>
              <li data-i18n="tr">üõ°Ô∏è Kalkan - ate≈üten koruma</li>
              <li data-i18n="ru">üöÄ –°–∫–æ—Ä–æ—Å—Ç—å - —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è</li>
              <li data-i18n="en">üöÄ Speed - increases movement speed</li>
              <li data-i18n="it">üöÄ Velocit√† - aumenta la velocit√† di movimento</li>
              <li data-i18n="tr">üöÄ Hƒ±z - hareket hƒ±zƒ±nƒ± artƒ±rƒ±r</li>
              <li data-i18n="ru">üî• –û–≥–Ω–µ—Ç—É—à–∏—Ç–µ–ª—å - –º–æ—â–Ω–æ–µ —Ç—É—à–µ–Ω–∏–µ</li>
              <li data-i18n="en">üî• Extinguisher - powerful extinguishing</li>
              <li data-i18n="it">üî• Estintore - spegnimento potente</li>
              <li data-i18n="tr">üî• Yangƒ±n S√∂nd√ºr√ºc√º - g√º√ßl√º s√∂nd√ºrme</li>
              <li data-i18n="ru">‚ù§Ô∏è –ñ–∏–∑–Ω–∏ - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∂–∏–∑–Ω–∏</li>
              <li data-i18n="en">‚ù§Ô∏è Lives - extra lives</li>
              <li data-i18n="it">‚ù§Ô∏è Vite - vite extra</li>
              <li data-i18n="tr">‚ù§Ô∏è Canlar - ekstra canlar</li>
            </ul>
      </div>
          
          <div style="margin-bottom:10px">
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="ru">–¶–µ–ª—å –∏–≥—Ä—ã:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="en">Game Objective:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="it">Obiettivo del Gioco:</strong>
            <strong style="color:#ffb703;margin-bottom:4px;font-size:13px" data-i18n="tr">Oyun Hedefi:</strong>
            <ul style="margin:4px 0 0;padding-left:18px;color:#d0d0d0;line-height:1.5;font-size:12px">
              <li data-i18n="ru">–ü–æ—Ç—É—à–∏—Ç–µ –≤—Å–µ –ø–æ–∂–∞—Ä—ã –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏</li>
              <li data-i18n="en">Extinguish all fires before time runs out</li>
              <li data-i18n="it">Spegni tutti gli incendi prima che scada il tempo</li>
              <li data-i18n="tr">Zaman dolmadan t√ºm yangƒ±nlarƒ± s√∂nd√ºr√ºn</li>
              <li data-i18n="ru">–°–ø–∞—Å–∏—Ç–µ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –ª—é–¥–µ–π</li>
              <li data-i18n="en">Rescue as many people as possible</li>
              <li data-i18n="it">Salva quante pi√π persone possibile</li>
              <li data-i18n="tr">M√ºmk√ºn olduƒüunca √ßok insanƒ± kurtarƒ±n</li>
              <li data-i18n="ru">–ù–µ –¥–æ–ø—É—Å–∫–∞–π—Ç–µ —Å–≥–æ—Ä–∞–Ω–∏—è –±–æ–ª–µ–µ 15 –∑–¥–∞–Ω–∏–π</li>
              <li data-i18n="en">Don't let more than 15 buildings burn</li>
              <li data-i18n="it">Non lasciare che pi√π di 15 edifici brucino</li>
              <li data-i18n="tr">15'ten fazla binanƒ±n yanmasƒ±na izin vermeyin</li>
            </ul>
    </div>
  </div>

        <div style="margin-bottom:14px">
          <label style="margin-bottom:6px;color:#ffb703;font-weight:600;font-size:13px" data-i18n="ru">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å:</label>
          <label style="margin-bottom:6px;color:#ffb703;font-weight:600;font-size:13px" data-i18n="en">Choose your role:</label>
          <label style="margin-bottom:6px;color:#ffb703;font-weight:600;font-size:13px" data-i18n="it">Scegli il tuo ruolo:</label>
          <label style="margin-bottom:6px;color:#ffb703;font-weight:600;font-size:13px" data-i18n="tr">Rol√ºn√ºz√º se√ßin:</label>
          <select id="gameRoleSelect" style="width:100%;padding:10px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:6px;color:#e9ecf1;font-size:13px;cursor:pointer">
            <option value="firefighter" data-i18n="ru">–ü–æ–∂–∞—Ä–Ω—ã–π</option>
            <option value="firefighter" data-i18n="en">Firefighter</option>
            <option value="firefighter" data-i18n="it">Vigile del fuoco</option>
            <option value="firefighter" data-i18n="tr">ƒ∞tfaiyeci</option>
            <option value="oleary" data-i18n="ru">–ö—ç—Ç—Ä–∏–Ω –û'–õ–∏—Ä–∏</option>
            <option value="oleary" data-i18n="en">Catherine O'Leary</option>
            <option value="oleary" data-i18n="it">Catherine O'Leary</option>
            <option value="oleary" data-i18n="tr">Catherine O'Leary</option>
            <option value="cow" data-i18n="ru">–ö–æ—Ä–æ–≤–∞</option>
            <option value="cow" data-i18n="en">Cow</option>
            <option value="cow" data-i18n="it">Mucca</option>
            <option value="cow" data-i18n="tr">ƒ∞nek</option>
          </select>
        </div>
      </div>
      
      <div style="padding:14px 18px;border-top:2px solid rgba(251,86,7,0.3);background:linear-gradient(135deg, rgba(251,86,7,0.1), rgba(255,183,3,0.05))">
        <button id="btnStartGame" class="btn" style="width:100%;padding:12px;font-size:15px;font-weight:700;background:linear-gradient(135deg, rgba(251,86,7,0.8), rgba(255,183,3,0.6));border:none;border-radius:8px;color:#0f1115;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(251,86,7,0.4);text-transform:uppercase;letter-spacing:0.5px" onmouseover="this.style.transform='scale(1.02)';this.style.boxShadow='0 6px 20px rgba(251,86,7,0.6)'" onmouseout="this.style.transform='scale(1)';this.style.boxShadow='0 4px 15px rgba(251,86,7,0.4)'">
          <span data-i18n="ru">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</span>
          <span data-i18n="en">Start Game</span>
          <span data-i18n="it">Inizia Gioco</span>
          <span data-i18n="tr">Oyuna Ba≈üla</span>
        </button>
      </div>
      </div>
      </div>

  <!-- Map Preview Modal -->
  <div id="gameMapPreview" style="position:fixed;inset:0;background:rgba(0,0,0,0.95);z-index:9999;display:none;align-items:center;justify-content:center;backdrop-filter:blur(8px)">
    <div class="card pad" style="max-width:900px;max-height:90vh;overflow-y:auto;background:linear-gradient(135deg, rgba(15,17,21,0.98), rgba(26,31,46,0.95));border:2px solid #219ebc;box-shadow:0 0 40px rgba(33,158,188,0.5)">
      <h3 style="color:#219ebc;margin:0 0 20px;font-size:24px;text-align:center" data-i18n="ru">üó∫Ô∏è –ö–∞—Ä—Ç–∞ –ß–∏–∫–∞–≥–æ 1871 –≥–æ–¥–∞</h3>
      <h3 style="color:#219ebc;margin:0 0 20px;font-size:24px;text-align:center" data-i18n="en">üó∫Ô∏è Chicago Map 1871</h3>
      <h3 style="color:#219ebc;margin:0 0 20px;font-size:24px;text-align:center" data-i18n="it">üó∫Ô∏è Mappa di Chicago 1871</h3>
      <h3 style="color:#219ebc;margin:0 0 20px;font-size:24px;text-align:center" data-i18n="tr">üó∫Ô∏è Chicago Haritasƒ± 1871</h3>
      
      <div style="margin-bottom:20px;padding:16px;background:rgba(33,158,188,0.15);border-left:4px solid #219ebc;border-radius:8px">
        <div style="display:flex;gap:12px;align-items:flex-start;margin-bottom:12px">
          <img src="images/game/water tower.png" alt="Water Tower" style="width:100px;height:auto;border-radius:8px;border:2px solid #219ebc;flex-shrink:0;object-fit:contain;background:rgba(0,0,0,0.3);padding:6px">
          <div style="flex:1">
            <p style="margin:0;line-height:1.7;color:#e9ecf1" data-i18n="ru">–ò–∑—É—á–∏—Ç–µ –∫–∞—Ä—Ç—É –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏–≥—Ä—ã. –í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–∞—è –±–∞—à–Ω—è (–∫—Ä–∞—Å–Ω—ã–π –º–∞—Ä–∫–µ—Ä –Ω–∞ –∫–∞—Ä—Ç–µ) - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–¥–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –≥–æ—Ä–∏—Ç. –ì–∏–¥—Ä–∞–Ω—Ç—ã (–∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏) —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ —É–ª–∏—Ü–∞—Ö. –û–∑–µ—Ä–æ –ú–∏—á–∏–≥–∞–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø—Ä–∞–≤–∞.</p>
            <p style="margin:0;line-height:1.7;color:#e9ecf1" data-i18n="en">Study the map before starting the game. The Water Tower (red marker on the map) is the only building that doesn't burn. Hydrants (red dots) are located on streets. Lake Michigan is on the right.</p>
            <p style="margin:0;line-height:1.7;color:#e9ecf1" data-i18n="it">Studia la mappa prima di iniziare il gioco. La Water Tower (marcatore rosso sulla mappa) √® l'unico edificio che non brucia. Gli idranti (punti rossi) sono situati nelle strade. Il Lago Michigan √® a destra.</p>
            <p style="margin:0;line-height:1.7;color:#e9ecf1" data-i18n="tr">Oyuna ba≈ülamadan √∂nce haritayƒ± inceleyin. Su Kulesi (haritada kƒ±rmƒ±zƒ± i≈üaret) yanmayan tek binadƒ±r. Hidrantlar (kƒ±rmƒ±zƒ± noktalar) sokaklarda bulunur. Michigan G√∂l√º saƒüda.</p>
          </div>
        </div>
      </div>

      <canvas id="mapPreviewCanvas" width="960" height="540" style="width:100%;height:auto;background:linear-gradient(45deg, #0a0d14, #1a1f2e);border:2px solid #219ebc;border-radius:8px;margin-bottom:20px"></canvas>

      <button id="btnStartFromMap" class="btn" style="width:100%;padding:16px;font-size:18px;font-weight:700;background:linear-gradient(135deg, rgba(33,158,188,0.6), rgba(33,158,188,0.4));border:2px solid rgba(33,158,188,0.8);border-radius:12px;color:#ffb703;cursor:pointer;transition:all 0.3s ease">
        <span data-i18n="ru">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</span>
        <span data-i18n="en">Start Game</span>
        <span data-i18n="it">Inizia Gioco</span>
        <span data-i18n="tr">Oyuna Ba≈üla</span>
      </button>
      </div>
      </div>

  <!-- Pre-Round Cutscene Modal -->
  <div id="preRoundModal" style="position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:10001;display:none;align-items:center;justify-content:center;backdrop-filter:blur(12px)">
    <div style="max-width:550px;width:90%;background:linear-gradient(135deg, rgba(15,17,21,0.98), rgba(26,31,46,0.95));border:2px solid #fb5607;border-radius:14px;box-shadow:0 0 60px rgba(251,86,7,0.7), inset 0 0 30px rgba(251,86,7,0.1);overflow:hidden">
      <!-- Header -->
      <div style="padding:14px 18px;background:linear-gradient(135deg, rgba(251,86,7,0.2), rgba(255,183,3,0.15));border-bottom:2px solid rgba(251,86,7,0.3);text-align:center">
        <div style="display:inline-block;padding:4px 12px;background:rgba(251,86,7,0.3);border-radius:16px">
          <span style="color:#ffb703;font-size:11px;font-weight:600;letter-spacing:0.5px;text-transform:uppercase" id="preRoundTitle"></span>
    </div>
  </div>

      <!-- Content -->
      <div style="padding:18px">
        <div style="margin-bottom:16px">
          <h3 style="color:#ffb703;margin:0 0 8px;font-size:17px;font-weight:700;display:flex;align-items:center;gap:6px" id="preRoundStreetName">
            <span style="font-size:20px">üìç</span>
            <span></span>
          </h3>
          <p style="margin:0;color:#d0d0d0;font-size:13px;line-height:1.6;padding-left:26px" id="preRoundStreetDesc"></p>
        </div>
        
        <button id="btnStartRound" style="width:100%;padding:12px;font-size:15px;font-weight:700;background:linear-gradient(135deg, rgba(251,86,7,0.8), rgba(255,183,3,0.6));border:none;border-radius:8px;color:#0f1115;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(251,86,7,0.4);text-transform:uppercase;letter-spacing:0.8px" onmouseover="this.style.transform='scale(1.02)';this.style.boxShadow='0 6px 20px rgba(251,86,7,0.6)'" onmouseout="this.style.transform='scale(1)';this.style.boxShadow='0 4px 15px rgba(251,86,7,0.4)'" onmousedown="this.style.transform='scale(0.98)'" onmouseup="this.style.transform='scale(1.02)'"></button>
      </div>
    </div>
  </div>

  <div id="gameWrap" class="card" style="position:relative">
    <!-- Street Info Display -->
    <div id="streetInfoDisplay" style="position:absolute;top:80px;left:20px;max-width:300px;background:linear-gradient(135deg, rgba(15,17,21,0.95), rgba(26,31,46,0.9));border:2px solid #ffb703;border-radius:12px;padding:16px;box-shadow:0 8px 32px rgba(0,0,0,0.6);z-index:100;display:none;backdrop-filter:blur(8px)">
      <h4 id="streetInfoName" style="color:#ffb703;margin:0 0 8px;font-size:18px;font-weight:700"></h4>
      <p id="streetInfoDesc" style="margin:0;color:#d0d0d0;font-size:14px;line-height:1.6"></p>
    </div>
    <div id="gameHUD">
      <span class="badge" id="hudTip"></span>
      <span class="badge" id="hudLevel"></span>
      <span class="badge" id="hudWind"></span>
      <span class="badge" id="hudScore"></span>
      <span class="badge" id="hudBurned"></span>
      <span class="badge" id="hudTime"></span>
      <span class="badge" id="hudWater"></span>
      <span style="flex:1"></span>
      <button id="btnPreviousLevel" class="pill" style="margin-right:8px;background:rgba(100,100,100,0.6);border-color:#666;color:#fff;font-weight:bold;cursor:not-allowed;opacity:0.5" title="Previous Level" disabled>‚Üê</button>
      <button id="btnNextLevel" class="pill" style="margin-right:8px;background:rgba(255,183,3,0.8);border-color:#ffb703;color:#0f1115;font-weight:bold" title="Next Level">‚Üí</button>
      <button id="btnRestart" class="pill">‚ü≤</button>
    </div>
    <canvas id="gameCanvas" width="960" height="540" aria-label="mini game canvas"></canvas>
  </div>
</section>

<!-- üó∫Ô∏è HISTORIC STREETS SECTION -->
<section id="streets" class="container">
  <h3 class="section-title" data-i18n="ru">–ó–Ω–∞–∫–æ–≤—ã–µ —É–ª–∏—Ü—ã –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞</h3>
  <h3 class="section-title" data-i18n="en">Historic Streets of the Great Fire</h3>
  <h3 class="section-title" data-i18n="it">Strade Storiche del Grande Incendio</h3>
  <h3 class="section-title" data-i18n="tr">B√ºy√ºk Yangƒ±nƒ±n Tarihi Sokaklarƒ±</h3>

  <div class="card pad">
    <div style="margin-bottom:20px;padding:16px;background:rgba(122,27,12,0.1);border-left:4px solid #7a1b0c;border-radius:8px">
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="ru">üî• –ù–∞–∏–±–æ–ª–µ–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏–µ –∏ —á–∞—Å—Ç–æ —É–ø–æ–º–∏–Ω–∞–µ–º—ã–µ —É–ª–∏—Ü—ã</h4>
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="en">üî• Most Damaged and Frequently Mentioned Streets</h4>
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="it">üî• Le Strade Pi√π Danneggiate e Frequentemente Menzionate</h4>
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="tr">üî• En √áok Zarar G√∂ren ve Sƒ±k√ßa Bahsedilen Sokaklar</h4>
      <p class="muted" data-i18n="ru">–≠—Ç–∏ —É–ª–∏—Ü—ã —Å—Ç–∞–ª–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—è–º–∏ —Å–∞–º—ã—Ö —Ä–∞–∑—Ä—É—à–∏—Ç–µ–ª—å–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞ 1871 –≥–æ–¥–∞. –ö–∞–∂–¥–∞—è –∏–∑ –Ω–∏—Ö –∏–º–µ–µ—Ç —Å–≤–æ—é —Ç—Ä–∞–≥–∏—á–µ—Å–∫—É—é –∏—Å—Ç–æ—Ä–∏—é.</p>
      <p class="muted" data-i18n="en">These streets witnessed the most devastating moments of the Great Fire of 1871. Each has its own tragic history.</p>
      <p class="muted" data-i18n="it">Queste strade hanno assistito ai momenti pi√π devastanti del Grande Incendio del 1871. Ognuna ha la sua storia tragica.</p>
      <p class="muted" data-i18n="tr">Bu sokaklar 1871 B√ºy√ºk Yangƒ±nƒ±nƒ±n en yƒ±kƒ±cƒ± anlarƒ±na tanƒ±k oldu. Her birinin kendi trajik hikayesi var.</p>
    </div>

    <div class="grid cols-2" style="gap:16px">
      
      <!-- DeKoven Street -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ DeKoven Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ DeKoven Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ DeKoven Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ DeKoven Sokaƒüƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–ú–µ—Å—Ç–æ –Ω–∞—á–∞–ª–∞ –ø–æ–∂–∞—Ä–∞</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">The place where the fire began</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Il luogo dove inizi√≤ l'incendio</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">Yangƒ±nƒ±n ba≈üladƒ±ƒüƒ± yer</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–í–æ –¥–≤–æ—Ä–µ –ü–∞—Ç—Ä–∏–∫–∞ –∏ –ö—ç—Ç—Ä–∏–Ω –û'–õ–∏—Ä–∏ (‚Ññ 137 DeKoven St). –° —ç—Ç–æ–≥–æ —Å–∞—Ä–∞—è –æ–≥–æ–Ω—å –¥–≤–∏–Ω—É–ª—Å—è –Ω–∞ —Å–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ–∫.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">In the barn of Patrick and Catherine O'Leary (No. 137 DeKoven St). From this shed, the fire spread northeast.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Nel fienile di Patrick e Catherine O'Leary (No. 137 DeKoven St). Da questo capannone, l'incendio si diffuse a nord-est.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Patrick ve Catherine O'Leary'nin ahƒ±rƒ±nda (No. 137 DeKoven St). Bu ahƒ±rdan yangƒ±n kuzeydoƒüuya yayƒ±ldƒ±.</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="ru">"—É–ª–∏—Ü–∞, –≥–¥–µ —Ä–æ–¥–∏–ª—Å—è –∞–¥"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="en">"the street where Hell began"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="it">"la strada dove nacque l'inferno"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="tr">"cehennemin ba≈üladƒ±ƒüƒ± sokak"</p>
        </div>
      </div>

      <!-- Canal/Jefferson/Clinton Streets -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ Canal/Jefferson/Clinton</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ Canal/Jefferson/Clinton</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ Canal/Jefferson/Clinton</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ Canal/Jefferson/Clinton</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–Æ–∂–Ω–æ-–∑–∞–ø–∞–¥–Ω–∞—è —á–∞—Å—Ç—å –æ—á–∞–≥–∞</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Southwestern origin zone</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Zona di origine sud-occidentale</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">G√ºneybatƒ± k√∂ken b√∂lgesi</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–ü–µ—Ä–≤—ã–µ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã–µ –º–æ—Å—Ç—ã –∏ —Å–∫–ª–∞–¥—ã –≤–¥–æ–ª—å —Ä–µ–∫–∏.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">First destroyed bridges and warehouses along the river.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Primi ponti e magazzini distrutti lungo il fiume.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Nehir boyunca ilk yƒ±kƒ±lan k√∂pr√ºler ve depolar.</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="ru">"–°–∫–ª–∞–¥—ã –Ω–∞ Clinton –∏ Canal –ø–∞–ª–∏ –≤ –ø—ã–ª–∞—é—â–∏—Ö —Ä—É–∏–Ω–∞—Ö –∫ –ø–æ–ª—É–Ω–æ—á–∏"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="en">"Warehouses on Clinton and Canal fell in glowing ruins by midnight"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="it">"I magazzini su Clinton e Canal caddero in rovine ardenti a mezzanotte"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="tr">"Clinton ve Canal'daki depolar gece yarƒ±sƒ±na kadar parlayan harabelere d√∂n√º≈üt√º"</p>
        </div>
      </div>

      <!-- LaSalle Street -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ LaSalle Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ LaSalle Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ LaSalle Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ LaSalle Sokaƒüƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–ì–ª–∞–≤–Ω–∞—è –¥–µ–ª–æ–≤–∞—è –∞—Ä—Ç–µ—Ä–∏—è</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Main financial artery</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Principale arteria finanziaria</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">Ana finansal arter</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–í—ã–≥–æ—Ä–µ–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç Monroe St –¥–æ Chicago Ave. –£–Ω–∏—á—Ç–æ–∂–µ–Ω—ã –±–∞–Ω–∫–∏, –±–∏—Ä–∂–∏, —Å—Ç—Ä–∞—Ö–æ–≤—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">Burned completely from Monroe St to Chicago Ave. Banks, exchanges, insurance companies destroyed.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Bruciata completamente da Monroe St a Chicago Ave. Banche, borse, compagnie assicurative distrutte.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Monroe St'den Chicago Ave'ye kadar tamamen yandƒ±. Bankalar, borsalar, sigorta ≈üirketleri yok oldu.</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="ru">"—Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –∫–ª–∞–¥–±–∏—â–µ"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="en">"the financial graveyard"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="it">"il cimitero finanziario"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="tr">"finansal mezarlƒ±k"</p>
        </div>
      </div>

      <!-- Dearborn/State Streets -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ Dearborn/State Streets</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ Dearborn/State Streets</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ Dearborn/State Streets</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ Dearborn/State Sokaklarƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ —Å–µ—Ä–¥—Ü–µ –≥–æ—Ä–æ–¥–∞</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Commercial heart of the city</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Cuore commerciale della citt√†</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">≈ûehrin ticari kalbi</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–ü–µ—Ä–≤—ã–µ –º–Ω–æ–≥–æ—ç—Ç–∞–∂–Ω—ã–µ –æ—Ç–µ–ª–∏, –º–∞–≥–∞–∑–∏–Ω—ã –∏ –æ—Ñ–∏—Å—ã.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">First multi-story hotels, shops, and offices.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Primi hotel multi-piano, negozi e uffici.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">ƒ∞lk √ßok katlƒ± oteller, maƒüazalar ve ofisler.</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="ru">"—Ñ—Ä–æ–Ω—Ç Dearborn –±—ã–ª —Å–ø–ª–æ—à–Ω–æ–π —Å—Ç–µ–Ω–æ–π –ø–ª–∞–º–µ–Ω–∏"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="en">"the Dearborn front was a continuous wall of flame"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="it">"il fronte Dearborn era un muro continuo di fiamme"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="tr">"Dearborn cephesi s√ºrekli bir alev duvarƒ±ydƒ±"</p>
        </div>
      </div>

      <!-- Wabash/Michigan Avenues -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ Wabash/Michigan Avenues</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ Wabash/Michigan Avenues</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ Wabash/Michigan Avenues</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ Wabash/Michigan Bulvarlarƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–°–∞–º—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ –±—É–ª—å–≤–∞—Ä—ã</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Most beautiful boulevards</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">I viali pi√π belli</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">En g√ºzel bulvarlar</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–í—ã–≥–æ—Ä–µ–ª–∏ –¥–æ—Ç–ª–∞. Tremont House, Palmer House, Michigan Central Depot.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">Completely reduced to ashes. Tremont House, Palmer House, Michigan Central Depot.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Completamente ridotti in cenere. Tremont House, Palmer House, Michigan Central Depot.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Tamamen k√ºle d√∂n√º≈üt√º. Tremont House, Palmer House, Michigan Central Depot.</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="ru">"—Ä—É–∏–Ω—ã –≤ —Ä–∏–º—Å–∫–æ–º —Å—Ç–∏–ª–µ"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="en">"Roman-style ruins"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="it">"rovine in stile romano"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="tr">"Roma tarzƒ± harabeler"</p>
        </div>
      </div>

      <!-- Randolph/Madison/Monroe Streets -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ Randolph/Madison/Monroe</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ Randolph/Madison/Monroe</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ Randolph/Madison/Monroe</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ Randolph/Madison/Monroe</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–æ—Ä–∏–¥–æ—Ä—ã</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Central corridors</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Corridoi centrali</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">Merkezi koridorlar</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–í—Å–µ –∑–¥–∞–Ω–∏—è –º–µ–∂–¥—É —Ä–µ–∫–æ–π –∏ Wabash Ave –ø–æ—Ç–µ—Ä—è–Ω—ã. Tribune Building —Å–≥–æ—Ä–µ–ª.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">Every building between the river and Wabash Ave lost. Tribune Building burned.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Ogni edificio tra il fiume e Wabash Ave perso. Tribune Building bruciato.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Nehir ile Wabash Ave arasƒ±ndaki t√ºm binalar kayboldu. Tribune Building yandƒ±.</p>
        </div>
      </div>

      <!-- Chicago Avenue -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ Chicago Avenue</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ Chicago Avenue</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ Chicago Avenue</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ Chicago Bulvarƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Last line of defense</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Ultima linea di difesa</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">Son savunma hattƒ±</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">Chicago Water Tower –∏ Pump House. –û–¥–Ω–æ –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö —É—Ü–µ–ª–µ–≤—à–∏—Ö –∑–¥–∞–Ω–∏–π.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">Chicago Water Tower and Pump House. One of the few surviving structures.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Chicago Water Tower e Pump House. Una delle poche strutture sopravvissute.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Chicago Water Tower ve Pump House. Hayatta kalan birka√ß yapƒ±dan biri.</p>
        </div>
      </div>

      <!-- Clark Street -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ Clark Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ Clark Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ Clark Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ Clark Sokaƒüƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–ì–ª–∞–≤–Ω–∞—è —É–ª–∏—Ü–∞ –°–µ–≤–µ—Ä–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Main street of the North Side</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Strada principale del North Side</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">Kuzey Yakasƒ±nƒ±n ana sokaƒüƒ±</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–ü–æ–ª–Ω–æ—Å—Ç—å—é —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞. –ñ–∏—Ç–µ–ª–∏ –±–µ–∂–∞–ª–∏ –∫ –æ–∑–µ—Ä—É.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">Completely destroyed. Residents fled toward the lake.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Completamente distrutta. I residenti fuggirono verso il lago.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Tamamen yok edildi. Sakinler g√∂le doƒüru ka√ßtƒ±.</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="ru">"—É–ª–∏—Ü–∞ —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–≥–æ –¥—ã–º–∞"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="en">"street of violet smoke"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="it">"strada del fumo viola"</p>
          <p style="margin:0;font-style:italic;color:#9aa3b2;font-size:12px" data-i18n="tr">"mor duman sokaƒüƒ±"</p>
        </div>
      </div>

      <!-- Kinzie Street -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ Kinzie Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ Kinzie Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ Kinzie Street</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ Kinzie Sokaƒüƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–û–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö –º–æ—Å—Ç–æ–≤</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">One of the first bridges</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Uno dei primi ponti</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">ƒ∞lk k√∂pr√ºlerden biri</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–ü–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–≥–æ–Ω—å –ø–µ—Ä–µ—Å—ë–∫ —Ä–µ–∫—É. –ì–æ—Ä—è—â–∏–µ —â–µ–ø–∫–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–ª–∏—Å—å –≤–µ—Ç—Ä–æ–º.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">By which the fire crossed the river. Burning debris carried by wind.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Attraverso il quale l'incendio attravers√≤ il fiume. Detriti ardenti trasportati dal vento.</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Yangƒ±nƒ±n nehri ge√ßtiƒüi k√∂pr√º. Yanan enkazlar r√ºzgar tarafƒ±ndan ta≈üƒ±ndƒ±.</p>
        </div>
      </div>

      <!-- North/Lincoln Avenues -->
      <div class="card" style="background:linear-gradient(135deg,rgba(122,27,12,0.1),rgba(15,17,21,0.8));border:1px solid #7a1b0c">
        <div style="padding:12px">
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="ru">üî¥ North/Lincoln Avenues</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="en">üî¥ North/Lincoln Avenues</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="it">üî¥ North/Lincoln Avenues</h4>
          <h4 style="color:#ff6b6b;margin:0 0 6px;font-size:16px" data-i18n="tr">üî¥ North/Lincoln Bulvarlarƒ±</h4>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="ru">–°–µ–≤–µ—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="en">Northern boundary of destruction</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="it">Confine settentrionale della distruzione</p>
          <p style="margin:0 0 6px;font-weight:bold;color:#ffb703;font-size:14px" data-i18n="tr">Yƒ±kƒ±mƒ±n kuzey sƒ±nƒ±rƒ±</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="ru">–û–≥—Ä–æ–º–Ω—ã–π –ª–∞–≥–µ—Ä—å –±–µ–∂–µ–Ω—Ü–µ–≤ (–¥–æ 100,000 —á–µ–ª–æ–≤–µ–∫).</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="en">Vast refugee camp (up to 100,000 people).</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="it">Vasto campo profughi (fino a 100.000 persone).</p>
          <p style="margin:0 0 6px;font-size:13px;line-height:1.4" data-i18n="tr">Geni≈ü m√ºlteci kampƒ± (100.000'e kadar ki≈üi).</p>
        </div>
      </div>

    </div>

    <!-- Famous Quotes -->
    <div style="margin-top:20px;padding:16px;background:linear-gradient(135deg,rgba(15,17,21,0.9),rgba(122,27,12,0.8));border-radius:12px;border:1px solid #7a1b0c">
      <h4 style="color:#ffb703;margin:0 0 12px;text-align:center;font-size:16px" data-i18n="ru">üì∞ –ù–∞–∏–±–æ–ª–µ–µ —Ü–∏—Ç–∏—Ä—É–µ–º—ã–µ –≥–∞–∑–µ—Ç–∞–º–∏ —Ñ—Ä–∞–∑—ã</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;text-align:center;font-size:16px" data-i18n="en">üì∞ Most Quoted Newspaper Lines</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;text-align:center;font-size:16px" data-i18n="it">üì∞ Frasi Pi√π Citate dai Giornali</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;text-align:center;font-size:16px" data-i18n="tr">üì∞ En √áok Alƒ±ntƒ±lanan Gazete Satƒ±rlarƒ±</h4>
      <div style="display:grid;gap:8px;font-style:italic;color:#e0e0e0;font-size:14px">
        <p style="margin:0;text-align:center" data-i18n="ru">"–í—Å–µ —Ç–≤–µ—Ä–¥–æ–µ –≤ –ß–∏–∫–∞–≥–æ –ø–æ–≥–∏–±–ª–æ –º–µ–∂–¥—É —Ä–µ–∫–æ–π –∏ –æ–∑–µ—Ä–æ–º."</p>
        <p style="margin:0;text-align:center" data-i18n="en">"All that was solid in Chicago perished between the river and the lake."</p>
        <p style="margin:0;text-align:center" data-i18n="it">"Tutto ci√≤ che era solido a Chicago per√¨ tra il fiume e il lago."</p>
        <p style="margin:0;text-align:center" data-i18n="tr">"Chicago'da ne kadar saƒülam varsa nehir ile g√∂l arasƒ±nda yok oldu."</p>
        <p style="margin:0;text-align:center" data-i18n="ru">"–õ–∏–Ω–∏—è —É–ª–∏—Ü Wabash, State –∏ Dearborn - —ç—Ç–æ –Ω–µ —á—Ç–æ –∏–Ω–æ–µ, –∫–∞–∫ –ø—ã–ª–∞—é—â–∞—è –ø–µ—á—å."</p>
        <p style="margin:0;text-align:center" data-i18n="en">"The line of Wabash, State, and Dearborn Streets is but a glowing furnace."</p>
        <p style="margin:0;text-align:center" data-i18n="it">"La linea delle strade Wabash, State e Dearborn non √® altro che una fornace ardente."</p>
        <p style="margin:0;text-align:center" data-i18n="tr">"Wabash, State ve Dearborn Sokaklarƒ±nƒ±n hattƒ± sadece parlayan bir fƒ±rƒ±n."</p>
        <p style="margin:0;text-align:center" data-i18n="ru">"–û—Ç DeKoven –¥–æ Water Tower –≥–æ—Ä–æ–¥ –±—ã–ª –æ–¥–Ω–∏–º –º–æ—Ä–µ–º –æ–≥–Ω—è."</p>
        <p style="margin:0;text-align:center" data-i18n="en">"From DeKoven to the Water Tower, the city was one sea of fire."</p>
        <p style="margin:0;text-align:center" data-i18n="it">"Da DeKoven alla Water Tower, la citt√† era un mare di fuoco."</p>
        <p style="margin:0;text-align:center" data-i18n="tr">"DeKoven'dan Water Tower'a kadar ≈üehir bir ate≈ü deniziydi."</p>
      </div>
    </div>
  </div>
</section>

<section id="sc3" class="container">
  <h3 class="section-title" data-i18n="ru">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
  <h3 class="section-title" data-i18n="en">Architectural Transformation</h3>
  <h3 class="section-title" data-i18n="it">Trasformazione architettonica</h3>
  <h3 class="section-title" data-i18n="tr">Mimari D√∂n√º≈ü√ºm</h3>
  
  <!-- Comparison Container -->
  <div class="card pad">
    <div class="slider" id="compare">
      <div class="img ph" style="padding:0;box-sizing:border-box;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;touch-action:none">
        <img id="compareBeforeImg" src="images/my-map.jpg" alt="Before" style="position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;object-fit:contain;object-position:center;background:#1a1a1a;display:block;image-rendering:auto;pointer-events:none;user-select:none;transform:none!important;scale:1!important;z-index:1;filter:drop-shadow(2px 0 8px rgba(0,0,0,0.3))">
        <div class="after" style="position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;clip-path:inset(0 0 0 50%);box-shadow:inset -6px 0 12px rgba(0,0,0,0.5), -2px 0 8px rgba(0,0,0,0.3);z-index:2;background:#1a1a1a;pointer-events:none"><img id="compareAfterImg" src="images/my-press.jpg" alt="After" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain;object-position:center;display:block;image-rendering:auto;pointer-events:none;user-select:none;transform:none!important;scale:1!important;background:#1a1a1a"></div>
        <div class="handle" title="Drag" style="z-index:10"></div>
        <div class="label left" data-i18n="ru">–î–æ</div>
        <div class="label left" data-i18n="en">Before</div>
        <div class="label left" data-i18n="it">Prima</div>
        <div class="label left" data-i18n="tr">√ñncesi</div>
        <div class="label right" data-i18n="ru">–ü–æ—Å–ª–µ</div>
        <div class="label right" data-i18n="en">After</div>
        <div class="label right" data-i18n="it">Dopo</div>
        <div class="label right" data-i18n="tr">Sonrasƒ±</div>
      </div>
    </div>
    <p class="muted" style="margin-top:8px" data-i18n="ru">–ü–æ—Ç—è–Ω–∏—Ç–µ –ø–æ–ª–∑—É–Ω–æ–∫, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ –∏ –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞.</p>
    <p class="muted" style="margin-top:8px" data-i18n="en">Drag to compare architectural changes before and after the fire.</p>
    <p class="muted" style="margin-top:8px" data-i18n="it">Trascina per confrontare i cambiamenti architettonici prima e dopo l'incendio.</p>
    <p class="muted" style="margin-top:8px" data-i18n="tr">Yangƒ±n √∂ncesi ve sonrasƒ± mimari deƒüi≈üiklikleri kar≈üƒ±la≈ütƒ±rmak i√ßin kaydƒ±rƒ±cƒ±yƒ± s√ºr√ºkleyin.</p>
  </div>
  
  <!-- Description Grid -->
  <div class="grid cols-2" style="margin-top:20px;gap:20px">
    <div class="card pad">
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="ru">–î–æ –ø–æ–∂–∞—Ä–∞</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="en">Before the Fire</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="it">Prima dell'Incendio</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="tr">Yangƒ±n √ñncesi</h4>
      <h5 id="compareBeforeTitle" style="color:#ffb703;margin:0 0 8px;font-size:16px;font-weight:600"></h5>
      <p class="muted" style="margin:0 0 12px" id="compareBeforeDesc">
        <span data-i18n="ru">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–æ –ø–æ–∂–∞—Ä–∞.</span>
        <span data-i18n="en">Information about the before photo will appear here.</span>
        <span data-i18n="it">Qui appariranno le informazioni sulla foto prima dell'incendio.</span>
        <span data-i18n="tr">Yangƒ±n √∂ncesi fotoƒüraf hakkƒ±nda bilgi burada g√∂r√ºnecek.</span>
      </p>
      <p class="muted" style="margin:0;font-size:14px;font-style:italic;opacity:0.7">
        <a id="compareBeforeSource" href="#" target="_blank" style="color:#ffb703;text-decoration:underline;cursor:pointer">
          <span data-i18n="ru">–ò—Å—Ç–æ—á–Ω–∏–∫</span>
          <span data-i18n="en">Source</span>
          <span data-i18n="it">Fonte</span>
          <span data-i18n="tr">Kaynak</span>
        </a>
      </p>
    </div>
    
    <div class="card pad">
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="ru">–ü–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="en">After the Fire</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="it">Dopo l'Incendio</h4>
      <h4 style="color:#ffb703;margin:0 0 12px;font-size:18px" data-i18n="tr">Yangƒ±n Sonrasƒ±</h4>
      <h5 id="compareAfterTitle" style="color:#ffb703;margin:0 0 8px;font-size:16px;font-weight:600"></h5>
      <p class="muted" style="margin:0 0 12px" id="compareAfterDesc">
        <span data-i18n="ru">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞.</span>
        <span data-i18n="en">Information about the after photo will appear here.</span>
        <span data-i18n="it">Qui appariranno le informazioni sulla foto dopo l'incendio.</span>
        <span data-i18n="tr">Yangƒ±n sonrasƒ± fotoƒüraf hakkƒ±nda bilgi burada g√∂r√ºnecek.</span>
      </p>
      <p class="muted" style="margin:0;font-size:14px;font-style:italic;opacity:0.7">
        <a id="compareAfterSource" href="#" target="_blank" style="color:#ffb703;text-decoration:underline;cursor:pointer">
          <span data-i18n="ru">–ò—Å—Ç–æ—á–Ω–∏–∫</span>
          <span data-i18n="en">Source</span>
          <span data-i18n="it">Fonte</span>
          <span data-i18n="tr">Kaynak</span>
        </a>
      </p>
    </div>
  </div>
  
  <!-- Navigation Buttons -->
  <div style="display:flex;justify-content:center;align-items:center;gap:20px;margin-top:30px;padding:20px">
    <button id="comparePrev" class="btn" style="
      padding:12px 24px;
      font-size:15px;
      font-weight:600;
      background:linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1));
      border:2px solid rgba(251,86,7,0.5);
      border-radius:12px;
      color:#ffb703;
      cursor:pointer;
      transition:all 0.3s ease;
      display:flex;
      align-items:center;
      gap:8px;
      box-shadow:0 4px 12px rgba(251,86,7,0.2);
    " onmouseover="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.4), rgba(251,86,7,0.2))'; this.style.borderColor='rgba(251,86,7,0.8)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(251,86,7,0.4)'}" onmouseout="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))'; this.style.borderColor='rgba(251,86,7,0.5)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(251,86,7,0.2)'}">
      <span style="font-size:18px;line-height:1">‚Üê</span>
      <span data-i18n="ru">–ü—Ä–µ–¥—ã–¥—É—â–µ–µ</span>
      <span data-i18n="en">Previous</span>
      <span data-i18n="it">Precedente</span>
      <span data-i18n="tr">√ñnceki</span>
    </button>
    <div id="compareCounter" style="
      color:#ffb703;
      font-weight:700;
      font-size:16px;
      min-width:80px;
      text-align:center;
      padding:12px 20px;
      background:rgba(255,183,3,0.1);
      border-radius:10px;
      border:1px solid rgba(255,183,3,0.3);
      letter-spacing:1px;
    ">1 / 6</div>
    <button id="compareNext" class="btn" style="
      padding:12px 24px;
      font-size:15px;
      font-weight:600;
      background:linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1));
      border:2px solid rgba(251,86,7,0.5);
      border-radius:12px;
      color:#ffb703;
      cursor:pointer;
      transition:all 0.3s ease;
      display:flex;
      align-items:center;
      gap:8px;
      box-shadow:0 4px 12px rgba(251,86,7,0.2);
    " onmouseover="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.4), rgba(251,86,7,0.2))'; this.style.borderColor='rgba(251,86,7,0.8)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(251,86,7,0.4)'}" onmouseout="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))'; this.style.borderColor='rgba(251,86,7,0.5)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(251,86,7,0.2)'}">
      <span data-i18n="ru">–°–ª–µ–¥—É—é—â–µ–µ</span>
      <span data-i18n="en">Next</span>
      <span data-i18n="it">Successivo</span>
      <span data-i18n="tr">Sonraki</span>
      <span style="font-size:18px;line-height:1">‚Üí</span>
    </button>
  </div>
</section>

<section id="sc4" class="container">
  <h3 class="section-title" data-i18n="ru">–û—Ç ¬´–∫—É–ª—å—Ç–∞ —Ä—É–∏–Ω¬ª –∫ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–æ–π –Ω–∞–¥–µ–∂–¥–µ</h3>
  <h3 class="section-title" data-i18n="en">From "ruin cult" to industrial hope</h3>
  <h3 class="section-title" data-i18n="it">Dal "culto delle rovine" alla speranza industriale</h3>
  <h3 class="section-title" data-i18n="tr">"Harabe k√ºlt√º"nden end√ºstriyel umuda</h3>
  
  <!-- Comparison Container -->
    <div class="card pad">
    <div class="slider" id="compare4">
      <div class="img ph" style="padding:0;box-sizing:border-box;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;touch-action:none">
        <img id="compare4BeforeImg" src="images/before after/hope/comparison1-after.jpg" alt="Before" style="position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;object-fit:contain;object-position:center;background:#1a1a1a;display:block;image-rendering:auto;pointer-events:none;user-select:none;transform:none!important;scale:1!important;z-index:1;filter:drop-shadow(2px 0 8px rgba(0,0,0,0.3))">
        <div class="after" style="position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;clip-path:inset(0 0 0 50%);box-shadow:inset -6px 0 12px rgba(0,0,0,0.5), -2px 0 8px rgba(0,0,0,0.3);z-index:2;background:#1a1a1a;pointer-events:none"><img id="compare4AfterImg" src="images/before after/hope/comparison1-before.jpg" alt="After" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain;object-position:center;display:block;image-rendering:auto;pointer-events:none;user-select:none;transform:none!important;scale:1!important;background:#1a1a1a"></div>
        <div class="handle" title="Drag" style="z-index:10"></div>
        <div class="label left" data-i18n="ru">–î–æ</div>
        <div class="label left" data-i18n="en">Before</div>
        <div class="label left" data-i18n="it">Prima</div>
        <div class="label left" data-i18n="tr">√ñncesi</div>
        <div class="label right" data-i18n="ru">–ü–æ—Å–ª–µ</div>
        <div class="label right" data-i18n="en">After</div>
        <div class="label right" data-i18n="it">Dopo</div>
        <div class="label right" data-i18n="tr">Sonrasƒ±</div>
    </div>
    </div>
    <p class="muted" style="margin-top:8px" data-i18n="ru">–ü–æ—Ç—è–Ω–∏—Ç–µ –ø–æ–ª–∑—É–Ω–æ–∫, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.</p>
    <p class="muted" style="margin-top:8px" data-i18n="en">Drag to compare photos.</p>
    <p class="muted" style="margin-top:8px" data-i18n="it">Trascina per confrontare le foto.</p>
    <p class="muted" style="margin-top:8px" data-i18n="tr">Fotoƒüraflarƒ± kar≈üƒ±la≈ütƒ±rmak i√ßin kaydƒ±rƒ±cƒ±yƒ± s√ºr√ºkleyin.</p>
  </div>
  
  <!-- Description Grid -->
  <div class="grid cols-2" style="margin-top:20px;gap:20px">
    <div class="card pad">
      <h3 id="compare4BeforeTitle" style="color:#ffb703;margin:0 0 16px;font-size:22px;font-weight:700;line-height:1.4"></h3>
      <p class="muted" style="margin:0 0 12px;font-size:17px;line-height:1.7" id="compare4BeforeDesc"></p>
      <p class="muted" style="margin:0;font-size:14px;font-style:italic;opacity:0.7">
        <a id="compare4BeforeSource" href="#" target="_blank" style="color:#ffb703;text-decoration:underline;cursor:pointer">
          <span data-i18n="ru">–ò—Å—Ç–æ—á–Ω–∏–∫</span>
          <span data-i18n="en">Source</span>
          <span data-i18n="it">Fonte</span>
          <span data-i18n="tr">Kaynak</span>
        </a>
      </p>
    </div>
    
    <div class="card pad">
      <h3 id="compare4AfterTitle" style="color:#ffb703;margin:0 0 16px;font-size:22px;font-weight:700;line-height:1.4"></h3>
      <p class="muted" style="margin:0 0 12px;font-size:17px;line-height:1.7" id="compare4AfterDesc"></p>
      <p class="muted" style="margin:0;font-size:14px;font-style:italic;opacity:0.7">
        <a id="compare4AfterSource" href="#" target="_blank" style="color:#ffb703;text-decoration:underline;cursor:pointer">
          <span data-i18n="ru">–ò—Å—Ç–æ—á–Ω–∏–∫</span>
          <span data-i18n="en">Source</span>
          <span data-i18n="it">Fonte</span>
          <span data-i18n="tr">Kaynak</span>
        </a>
      </p>
    </div>
    </div>
  
  <!-- Navigation Buttons -->
  <div style="display:flex;justify-content:center;align-items:center;gap:20px;margin-top:30px;padding:20px">
    <button id="compare4Prev" class="btn" style="
      padding:12px 24px;
      font-size:15px;
      font-weight:600;
      background:linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1));
      border:2px solid rgba(251,86,7,0.5);
      border-radius:12px;
      color:#ffb703;
      cursor:pointer;
      transition:all 0.3s ease;
      display:flex;
      align-items:center;
      gap:8px;
      box-shadow:0 4px 12px rgba(251,86,7,0.2);
    " onmouseover="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.4), rgba(251,86,7,0.2))'; this.style.borderColor='rgba(251,86,7,0.8)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(251,86,7,0.4)'}" onmouseout="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))'; this.style.borderColor='rgba(251,86,7,0.5)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(251,86,7,0.2)'}">
      <span style="font-size:18px;line-height:1">‚Üê</span>
      <span data-i18n="ru">–ü—Ä–µ–¥—ã–¥—É—â–µ–µ</span>
      <span data-i18n="en">Previous</span>
      <span data-i18n="it">Precedente</span>
      <span data-i18n="tr">√ñnceki</span>
    </button>
    <div id="compare4Counter" style="
      color:#ffb703;
      font-weight:700;
      font-size:16px;
      min-width:80px;
      text-align:center;
      padding:12px 20px;
      background:rgba(255,183,3,0.1);
      border-radius:10px;
      border:1px solid rgba(255,183,3,0.3);
      letter-spacing:1px;
    ">1 / 2</div>
    <button id="compare4Next" class="btn" style="
      padding:12px 24px;
      font-size:15px;
      font-weight:600;
      background:linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1));
      border:2px solid rgba(251,86,7,0.5);
      border-radius:12px;
      color:#ffb703;
      cursor:pointer;
      transition:all 0.3s ease;
      display:flex;
      align-items:center;
      gap:8px;
      box-shadow:0 4px 12px rgba(251,86,7,0.2);
    " onmouseover="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.4), rgba(251,86,7,0.2))'; this.style.borderColor='rgba(251,86,7,0.8)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(251,86,7,0.4)'}" onmouseout="if(!this.disabled){this.style.background='linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))'; this.style.borderColor='rgba(251,86,7,0.5)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(251,86,7,0.2)'}">
      <span data-i18n="ru">–°–ª–µ–¥—É—é—â–µ–µ</span>
      <span data-i18n="en">Next</span>
      <span data-i18n="it">Successivo</span>
      <span data-i18n="tr">Sonraki</span>
      <span style="font-size:18px;line-height:1">‚Üí</span>
    </button>
  </div>
</section>


<!-- üìö DETAILED FIRE INFORMATION -->
<section id="fire-details" class="container">
  <h3 class="section-title" data-i18n="ru">–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏ –Ω–∞—Å–ª–µ–¥–∏–µ –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞</h3>
  <h3 class="section-title" data-i18n="en">Consequences and Legacy of the Great Fire</h3>
  <h3 class="section-title" data-i18n="it">Conseguenze e eredit√† del Grande Incendio</h3>
  <h3 class="section-title" data-i18n="tr">B√ºy√ºk Yangƒ±nƒ±n Sonu√ßlarƒ± ve Mirasƒ±</h3>
  
  <div class="grid cols-2">
    <div class="card pad">
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="ru">üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è</h4>
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="en">üèóÔ∏è Architectural Revolution</h4>
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="it">üèóÔ∏è Rivoluzione Architettonica</h4>
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="tr">üèóÔ∏è Mimari Devrim</h4>
      <p class="muted" data-i18n="ru">–ü–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞ –ß–∏–∫–∞–≥–æ —Å—Ç–∞–ª —Ä–æ–¥–∏–Ω–æ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤–µ–ª–∞ –∫ –∏–Ω–Ω–æ–≤–∞—Ü–∏—è–º –≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ: —Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä–∫–∞—Å—ã, –ª–∏—Ñ—Ç—ã, —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ. –ü–µ—Ä–≤—ã–µ –Ω–µ–±–æ—Å–∫—Ä–µ–±—ã –º–∏—Ä–∞ –ø–æ—è–≤–∏–ª–∏—Å—å –∏–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å, –≤–∫–ª—é—á–∞—è –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–π Reliance Building.</p>
      <p class="muted" data-i18n="en">After the fire, Chicago became the birthplace of modern architecture. The need for rapid reconstruction led to innovations in construction: steel frames, elevators, electric lighting. The world's first skyscrapers appeared here, including the famous Reliance Building.</p>
      <p class="muted" data-i18n="it">Dopo l'incendio, Chicago divenne la culla dell'architettura moderna. La necessit√† di una rapida ricostruzione port√≤ a innovazioni nell'edilizia: telai in acciaio, ascensori, illuminazione elettrica. I primi grattacieli del mondo apparvero qui, incluso il famoso Reliance Building.</p>
      <p class="muted" data-i18n="tr">Yangƒ±ndan sonra Chicago modern mimarinin doƒüum yeri oldu. Hƒ±zlƒ± yeniden in≈üa ihtiyacƒ±, in≈üaat alanƒ±nda yeniliklere yol a√ßtƒ±: √ßelik √ßer√ßeveler, asans√∂rler, elektrikli aydƒ±nlatma. D√ºnyanƒ±n ilk g√∂kdelenleri burada ortaya √ßƒ±ktƒ±, √ºnl√º Reliance Building dahil.</p>
    </div>
    
    <div class="card pad">
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="ru">üì∞ –ú–µ–¥–∏–∞ –∏ –º–∏—Ñ–æ–ª–æ–≥–∏—è</h4>
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="en">üì∞ Media and Mythology</h4>
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="it">üì∞ Media e Mitologia</h4>
      <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="tr">üì∞ Medya ve Mitoloji</h4>
      <p class="muted" data-i18n="ru">–ò—Å—Ç–æ—Ä–∏—è –æ –∫–æ—Ä–æ–≤–µ –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏ —Å—Ç–∞–ª–∞ –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≥–æ—Ä–æ–¥—Å–∫–∏—Ö –º–∏—Ñ–æ–≤ –ê–º–µ—Ä–∏–∫–∏. –ü—Ä–µ—Å—Å–∞ —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥—Ä–∞–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–ª–∞ —Å–æ–±—ã—Ç–∏—è, —Å–æ–∑–¥–∞–≤–∞—è –æ–±—Ä–∞–∑—ã –≥–µ—Ä–æ–∏—á–µ—Å–∫–∏—Ö –ø–æ–∂–∞—Ä–Ω—ã—Ö –∏ –æ—Ç—á–∞—è–≤—à–∏—Ö—Å—è –≥–æ—Ä–æ–∂–∞–Ω. –≠—Ç–∏ –æ–±—Ä–∞–∑—ã —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å –æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–µ.</p>
      <p class="muted" data-i18n="en">The story of Mrs. O'Leary's cow became one of America's most famous urban myths. The press of the time dramatized events, creating images of heroic firefighters and desperate citizens. These images shaped collective memory of the disaster.</p>
      <p class="muted" data-i18n="it">La storia della mucca della signora O'Leary divenne uno dei miti urbani pi√π famosi d'America. La stampa dell'epoca drammatizz√≤ gli eventi, creando immagini di vigili del fuoco eroici e cittadini disperati. Queste immagini plasmarono la memoria collettiva del disastro.</p>
      <p class="muted" data-i18n="tr">Bayan O'Leary'nin ineƒüi hikayesi Amerika'nƒ±n en √ºnl√º kentsel mitlerinden biri haline geldi. O d√∂nemin basƒ±nƒ± olaylarƒ± dramatize ederek kahraman itfaiyeciler ve √ßaresiz vatanda≈ülarƒ±n imgelerini yarattƒ±. Bu imgeler felaketin kolektif hafƒ±zasƒ±nƒ± ≈üekillendirdi.</p>
    </div>
  </div>
  
  <div class="card pad" style="margin-top:16px">
    <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="ru">üåÜ –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ</h4>
    <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="en">üåÜ Modern Legacy</h4>
    <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="it">üåÜ Eredit√† Moderna</h4>
    <h4 style="color:#ffb703;margin:0 0 12px" data-i18n="tr">üåÜ Modern Miras</h4>
    <p class="muted" data-i18n="ru">–°–µ–≥–æ–¥–Ω—è –Ω–∞ –º–µ—Å—Ç–µ –Ω–∞—á–∞–ª–∞ –ø–æ–∂–∞—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è Chicago Fire Academy - —Å–∏–º–≤–æ–ª —Ç–æ–≥–æ, –∫–∞–∫ –≥–æ—Ä–æ–¥ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª —Ç—Ä–∞–≥–µ–¥–∏—é –≤ –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–∏–ª—ã. –ü–æ–∂–∞—Ä —É—Å–∫–æ—Ä–∏–ª —Ä–∞–∑–≤–∏—Ç–∏–µ –ß–∏–∫–∞–≥–æ –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞ –∏–Ω–Ω–æ–≤–∞—Ü–∏–π –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, —Å–æ–∑–¥–∞–≤ –æ–±—Ä–∞–∑ "–≥–æ—Ä–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è".</p>
    <p class="muted" data-i18n="en">Today, the Chicago Fire Academy stands on the site where the fire began - a symbol of how the city transformed tragedy into a source of strength. The fire accelerated Chicago's development as a center of innovation and architectural achievement, creating the image of "the city that always rebuilds."</p>
    <p class="muted" data-i18n="it">Oggi, la Chicago Fire Academy sorge sul sito dove inizi√≤ l'incendio - un simbolo di come la citt√† trasform√≤ la tragedia in una fonte di forza. L'incendio acceler√≤ lo sviluppo di Chicago come centro di innovazione e realizzazioni architettoniche, creando l'immagine di "la citt√† che si ricostruisce sempre".</p>
    <p class="muted" data-i18n="tr">Bug√ºn yangƒ±nƒ±n ba≈üladƒ±ƒüƒ± yerde Chicago Fire Academy bulunuyor - ≈üehrin trajediyi g√º√ß kaynaƒüƒ±na nasƒ±l d√∂n√º≈üt√ºrd√ºƒü√ºn√ºn sembol√º. Yangƒ±n Chicago'nun yenilik ve mimari ba≈üarƒ±lar merkezi olarak geli≈üimini hƒ±zlandƒ±rdƒ± ve "her zaman yeniden in≈üa eden ≈üehir" imajƒ±nƒ± yarattƒ±.</p>
  </div>
</section>

<!-- üì∏ PHOTO LIBRARY SECTION -->
<section id="photo-library" class="container">
  <h3 class="section-title" data-i18n="ru">–í–∏–¥–µ–æ–≥–∞–ª–µ—Ä–µ—è: –í–µ–ª–∏–∫–∏–π –ø–æ–∂–∞—Ä –ß–∏–∫–∞–≥–æ 1871</h3>
  <h3 class="section-title" data-i18n="en">Video Gallery: Great Chicago Fire 1871</h3>
  <h3 class="section-title" data-i18n="it">Galleria Video: Grande Incendio di Chicago 1871</h3>
  <h3 class="section-title" data-i18n="tr">Video Galerisi: 1871 B√ºy√ºk Chicago Yangƒ±nƒ±</h3>
  
  <div class="grid cols-2">
    <div class="card pad">
      <div class="ph">
        <video width="100%" height="100%" autoplay muted loop playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:8px;transition:opacity 0.5s ease-in-out">
          <source src="videos/family-perish-roof.mp4" type="video/mp4">
          <source src="videos/family-perish-roof.webm" type="video/webm">
          <div style="display:flex;align-items:center;justify-content:center;height:100%;background:#333;color:#fff">
            <div style="text-align:center">
              <div style="font-size:24px;margin-bottom:8px">üé¨</div>
              <div style="font-size:14px">Family Perish on Roof</div>
            </div>
          </div>
        </video>
      </div>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="ru">–°–µ–º—å—è –ø–æ–≥–∏–±–∞–µ—Ç –Ω–∞ –∫—Ä—ã—à–µ</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="en">Family Perish on Roof</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="it">Famiglia Perisce sul Tetto</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="tr">Aile √áatƒ±da √ñl√ºyor</h4>
      <p class="muted" data-i18n="ru">–î—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è —Å–µ–º—å–∏, –ø–æ–≥–∏–±–∞—é—â–µ–π –Ω–∞ –∫—Ä—ã—à–µ –≥–æ—Ä—è—â–µ–≥–æ –∑–¥–∞–Ω–∏—è. –ú—É–∂—á–∏–Ω–∞ –Ω–µ—Å–µ—Ç —Ä–µ–±–µ–Ω–∫–∞, –∞ –∂–µ–Ω—â–∏–Ω–∞ –æ—Ç—á–∞—è–Ω–Ω–æ —Ç—è–Ω–µ—Ç—Å—è –∑–∞ –ø–æ–º–æ—â—å—é. –≠—Ç–∞ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–∂–∞—Å –∏ –æ—Ç—á–∞—è–Ω–∏–µ –ª—é–¥–µ–π, –æ–∫–∞–∑–∞–≤—à–∏—Ö—Å—è –≤ –ª–æ–≤—É—à–∫–µ –æ–≥–Ω—è.</p>
      <p class="muted" data-i18n="en">Dramatic illustration of a family perishing on the roof of a burning building. A man carries a child while a woman desperately reaches for help. This illustration shows the terror and desperation of people trapped by fire.</p>
      <p class="muted" data-i18n="it">Illustrazione drammatica di una famiglia che perisce sul tetto di un edificio in fiamme. Un uomo porta un bambino mentre una donna si protende disperatamente per chiedere aiuto. Questa illustrazione mostra il terrore e la disperazione delle persone intrappolate dal fuoco.</p>
      <p class="muted" data-i18n="tr">Yanan bir binanƒ±n √ßatƒ±sƒ±nda √∂len bir ailenin dramatik ill√ºstrasyonu. Bir adam √ßocuk ta≈üƒ±rken kadƒ±n √ßaresizce yardƒ±m i√ßin uzanƒ±yor. Bu ill√ºstrasyon ate≈ü tarafƒ±ndan tuzaƒüa d√º≈ü√ºr√ºlen insanlarƒ±n deh≈üetini ve √ßaresizliƒüini g√∂steriyor.</p>
    </div>
    
    <div class="card pad">
      <div class="ph">
        <video width="100%" height="100%" autoplay muted loop playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:8px;transition:opacity 0.5s ease-in-out">
          <source src="videos/crosby-opera-burning.mp4" type="video/mp4">
          <source src="videos/crosby-opera-burning.webm" type="video/webm">
          <div style="display:flex;align-items:center;justify-content:center;height:100%;background:#333;color:#fff">
            <div style="text-align:center">
              <div style="font-size:24px;margin-bottom:8px">üé¨</div>
              <div style="font-size:14px">Crosby Opera House Burning</div>
            </div>
          </div>
        </video>
      </div>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="ru">–ì–æ—Ä—è—â–∏–π —Ç–µ–∞—Ç—Ä Crosby Opera House</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="en">Crosby Opera House Burning</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="it">Crosby Opera House in Fiamme</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="tr">Crosby Opera House Yanƒ±yor</h4>
      <p class="muted" data-i18n="ru">–ó–Ω–∞–º–µ–Ω–∏—Ç—ã–π —Ç–µ–∞—Ç—Ä Crosby Opera House –æ—Ö–≤–∞—á–µ–Ω –ø–ª–∞–º–µ–Ω–µ–º. –õ—é–¥–∏ –≤ –ø–∞–Ω–∏–∫–µ –±–µ–≥—É—Ç –ø–æ —É–ª–∏—Ü–µ, –Ω–µ—Å—è —Å —Å–æ–±–æ–π —Å–ø–∞—Å–µ–Ω–Ω—ã–µ –≤–µ—â–∏. –≠—Ç–æ –æ–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∑–¥–∞–Ω–∏–π, —É–Ω–∏—á—Ç–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–∂–∞—Ä–æ–º.</p>
      <p class="muted" data-i18n="en">The famous Crosby Opera House engulfed in flames. People panic in the street, carrying salvaged belongings. This was one of the most famous buildings destroyed by the fire.</p>
      <p class="muted" data-i18n="it">Il famoso Crosby Opera House avvolto dalle fiamme. Le persone fuggono in preda al panico per strada, portando con s√© oggetti salvati. Questo fu uno degli edifici pi√π famosi distrutti dall'incendio.</p>
      <p class="muted" data-i18n="tr">√únl√º Crosby Opera House alevlerle sarƒ±ldƒ±. ƒ∞nsanlar sokakta panik halinde ko≈üuyor, kurtardƒ±klarƒ± e≈üyalarƒ± ta≈üƒ±yor. Bu yangƒ±n tarafƒ±ndan yok edilen en √ºnl√º binalardan biriydi.</p>
    </div>
    
    <div class="card pad">
      <div class="ph">
        <video width="100%" height="100%" autoplay muted loop playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:8px;transition:opacity 0.5s ease-in-out">
          <source src="videos/chicago-flames-broadway.mp4" type="video/mp4">
          <source src="videos/chicago-flames-broadway.webm" type="video/webm">
          <div style="display:flex;align-items:center;justify-content:center;height:100%;background:#333;color:#fff">
            <div style="text-align:center">
              <div style="font-size:24px;margin-bottom:8px">üé¨</div>
              <div style="font-size:14px">Chicago In Flames Broadway</div>
            </div>
          </div>
        </video>
      </div>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="ru">–ß–∏–∫–∞–≥–æ –≤ –æ–≥–Ω–µ - –º–æ—Å—Ç Broadway</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="en">Chicago In Flames - Broadway Bridge</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="it">Chicago in Fiamme - Ponte Broadway</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="tr">Chicago Alevler ƒ∞√ßinde - Broadway K√∂pr√ºs√º</h4>
      <p class="muted" data-i18n="ru">–ü–∞–Ω–æ—Ä–∞–º–Ω—ã–π –≤–∏–¥ –Ω–∞ –≥–æ—Ä—è—â–∏–π –ß–∏–∫–∞–≥–æ —Å –º–æ—Å—Ç–∞ Broadway. –¢–æ–ª–ø—ã –ª—é–¥–µ–π –±–µ–≥—É—Ç –ø–æ –º–æ—Å—Ç—É, –ø—ã—Ç–∞—è—Å—å —Å–ø–∞—Å—Ç–∏—Å—å –æ—Ç –æ–≥–Ω—è. –í–æ–¥–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø–ª–∞–º—è, —Å–æ–∑–¥–∞–≤–∞—è –¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç.</p>
      <p class="muted" data-i18n="en">Panoramic view of burning Chicago from Broadway Bridge. Crowds of people flee across the bridge, trying to escape the fire. The water reflects the flames, creating a dramatic effect.</p>
      <p class="muted" data-i18n="it">Vista panoramica di Chicago in fiamme dal ponte Broadway. Folle di persone fuggono attraverso il ponte, cercando di sfuggire al fuoco. L'acqua riflette le fiamme, creando un effetto drammatico.</p>
      <p class="muted" data-i18n="tr">Broadway K√∂pr√ºs√º'nden yanan Chicago'nun panoramik g√∂r√ºn√ºm√º. ƒ∞nsan kalabalƒ±klarƒ± k√∂pr√ºden ka√ßƒ±yor, yangƒ±ndan kurtulmaya √ßalƒ±≈üƒ±yor. Su alevleri yansƒ±tƒ±yor, dramatik bir etki yaratƒ±yor.</p>
    </div>
    
    <div class="card pad">
      <div class="ph">
        <video width="100%" height="100%" autoplay muted loop playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:8px;transition:opacity 0.5s ease-in-out">
          <source src="videos/mrs-oleary-cow.mp4" type="video/mp4">
          <source src="videos/mrs-oleary-cow.webm" type="video/webm">
          <div style="display:flex;align-items:center;justify-content:center;height:100%;background:#333;color:#fff">
            <div style="text-align:center">
              <div style="font-size:24px;margin-bottom:8px">üé¨</div>
              <div style="font-size:14px">Mrs O'Leary's Cow</div>
            </div>
          </div>
        </video>
      </div>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="ru">–ö–æ—Ä–æ–≤–∞ –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="en">Mrs. O'Leary's Cow</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="it">La Mucca della Signora O'Leary</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="tr">Bayan O'Leary'nin ƒ∞neƒüi</h4>
      <p class="muted" data-i18n="ru">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è –∫–æ—Ä–æ–≤—ã –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏, –æ–ø—Ä–æ–∫–∏–¥—ã–≤–∞—é—â–µ–π —Ñ–æ–Ω–∞—Ä—å. –≠—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–ª–∞ –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –º–∏—Ñ–æ–≤ –æ –Ω–∞—á–∞–ª–µ –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞ –ß–∏–∫–∞–≥–æ.</p>
      <p class="muted" data-i18n="en">Legendary illustration of Mrs. O'Leary's cow kicking over a lantern. This story became one of the most famous myths about the origin of the Great Chicago Fire.</p>
      <p class="muted" data-i18n="it">Illustrazione leggendaria della mucca della signora O'Leary che fa cadere una lanterna. Questa storia divenne uno dei miti pi√π famosi sull'origine del Grande Incendio di Chicago.</p>
      <p class="muted" data-i18n="tr">Bayan O'Leary'nin ineƒüinin feneri deviren efsanevi ill√ºstrasyonu. Bu hikaye B√ºy√ºk Chicago Yangƒ±nƒ±nƒ±n k√∂keni hakkƒ±ndaki en √ºnl√º mitlerden biri haline geldi.</p>
    </div>
    
    <div class="card pad">
      <div class="ph">
        <video width="100%" height="100%" autoplay muted loop playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:8px;transition:opacity 0.5s ease-in-out">
          <source src="videos/chicago-flames-color.mp4" type="video/mp4">
          <source src="videos/chicago-flames-color.webm" type="video/webm">
          <div style="display:flex;align-items:center;justify-content:center;height:100%;background:#333;color:#fff">
            <div style="text-align:center">
              <div style="font-size:24px;margin-bottom:8px">üé¨</div>
              <div style="font-size:14px">Chicago In Flames Color</div>
            </div>
          </div>
        </video>
      </div>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="ru">–ß–∏–∫–∞–≥–æ –≤ –æ–≥–Ω–µ (—Ü–≤–µ—Ç–Ω–∞—è –ª–∏—Ç–æ–≥—Ä–∞—Ñ–∏—è)</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="en">Chicago In Flames (Color Lithograph)</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="it">Chicago in Fiamme (Litografia a Colori)</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="tr">Chicago Alevler ƒ∞√ßinde (Renkli Litografi)</h4>
      <p class="muted" data-i18n="ru">–¶–≤–µ—Ç–Ω–∞—è –ª–∏—Ç–æ–≥—Ä–∞—Ñ–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è –º–∞—Å—à—Ç–∞–± —Ä–∞–∑—Ä—É—à–µ–Ω–∏–π. –Ø—Ä–∫–∏–µ –∫—Ä–∞—Å–Ω–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–µ –ø–ª–∞–º–µ–Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏—Ä—É—é—Ç —Å —Ç–µ–º–Ω—ã–º –¥—ã–º–æ–º. –ö–æ—Ä–∞–±–ª–∏ –Ω–∞ –≤–æ–¥–µ –ø—ã—Ç–∞—é—Ç—Å—è —Å–ø–∞—Å—Ç–∏—Å—å –æ—Ç –æ–≥–Ω—è.</p>
      <p class="muted" data-i18n="en">Color lithograph showing the scale of destruction. Bright red-orange flames contrast with dark smoke. Ships on the water try to escape the fire.</p>
      <p class="muted" data-i18n="it">Litografia a colori che mostra la scala della distruzione. Fiamme rosso-arancio brillanti contrastano con il fumo scuro. Le navi sull'acqua cercano di sfuggire al fuoco.</p>
      <p class="muted" data-i18n="tr">Yƒ±kƒ±mƒ±n √∂l√ßeƒüini g√∂steren renkli litografi. Parlak kƒ±rmƒ±zƒ±-turuncu alevler koyu dumanla kontrast olu≈üturuyor. Sudaki gemiler yangƒ±ndan ka√ßmaya √ßalƒ±≈üƒ±yor.</p>
    </div>
    
    <div class="card pad">
      <div class="ph">
        <video width="100%" height="100%" autoplay muted loop playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:8px;transition:opacity 0.5s ease-in-out">
          <source src="videos/chicago-ruins-rebuilding.mp4" type="video/mp4">
          <source src="videos/chicago-ruins-rebuilding.webm" type="video/webm">
          <div style="display:flex;align-items:center;justify-content:center;height:100%;background:#333;color:#fff">
            <div style="text-align:center">
              <div style="font-size:24px;margin-bottom:8px">üé¨</div>
              <div style="font-size:14px">Chicago Rebuilding</div>
            </div>
          </div>
        </video>
      </div>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="ru">–ß–∏–∫–∞–≥–æ –≤ —Ä—É–∏–Ω–∞—Ö - –ø–µ—Ä–≤–æ–µ –∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="en">Chicago In Ruins - First Building After Fire</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="it">Chicago in Rovine - Primo Edificio Dopo l'Incendio</h4>
      <h4 style="color:#ffb703;margin:8px 0" data-i18n="tr">Chicago Harabelerde - Yangƒ±ndan Sonraki ƒ∞lk Bina</h4>
      <p class="muted" data-i18n="ru">–°—Ü–µ–Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: —Ä–∞–±–æ—á–∏–µ –∑–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç –∫—Ä–∞–µ—É–≥–æ–ª—å–Ω—ã–π –∫–∞–º–µ–Ω—å –ø–µ—Ä–≤–æ–≥–æ –∑–¥–∞–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞. –†—É–∏–Ω—ã –≥–æ—Ä–æ–¥–∞ –≤–∏–¥–Ω—ã –Ω–∞ –∑–∞–¥–Ω–µ–º –ø–ª–∞–Ω–µ, –ø–æ–∫–∞–∑—ã–≤–∞—è –º–∞—Å—à—Ç–∞–± —Ä–∞–∑—Ä—É—à–µ–Ω–∏–π.</p>
      <p class="muted" data-i18n="en">Reconstruction scene: workers laying the cornerstone of the first building after the fire. City ruins visible in the background, showing the scale of destruction.</p>
      <p class="muted" data-i18n="it">Scena di ricostruzione: operai che posano la pietra angolare del primo edificio dopo l'incendio. Rovine della citt√† visibili sullo sfondo, mostrando la scala della distruzione.</p>
      <p class="muted" data-i18n="tr">Yeniden in≈üa sahnesi: i≈ü√ßiler yangƒ±ndan sonraki ilk binanƒ±n temel ta≈üƒ±nƒ± yerle≈ütiriyor. ≈ûehrin harabeleri arka planda g√∂r√ºn√ºyor, yƒ±kƒ±mƒ±n √∂l√ßeƒüini g√∂steriyor.</p>
    </div>
  </div>
  
  <div style="margin-top:16px;padding:12px;background:rgba(255,183,3,0.1);border-left:4px solid #ffb703;border-radius:8px">
    <h5 style="margin:0 0 8px;color:#ffb703" data-i18n="ru">üé¨ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤–∞—à–∏ –≤–∏–¥–µ–æ –∞–Ω–∏–º–∞—Ü–∏–∏</h5>
    <h5 style="margin:0 0 8px;color:#ffb703" data-i18n="en">üé¨ How to Add Your Video Animations</h5>
    <h5 style="margin:0 0 8px;color:#ffb703" data-i18n="it">üé¨ Come Aggiungere le Tue Animazioni Video</h5>
    <h5 style="margin:0 0 8px;color:#ffb703" data-i18n="tr">üé¨ Video Animasyonlarƒ±nƒ±zƒ± Nasƒ±l Ekleyeceƒüiniz</h5>
    <ul class="muted" style="margin:0;font-size:14px">
      <li data-i18n="ru">–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É "videos" –≤ –ø–∞–ø–∫–µ —Å —Å–∞–π—Ç–æ–º</li>
      <li data-i18n="en">Create a "videos" folder in your website folder</li>
      <li data-i18n="it">Crea una cartella "videos" nella cartella del sito web</li>
      <li data-i18n="tr">Web sitenizin klas√∂r√ºnde "videos" klas√∂r√º olu≈üturun</li>
      <li data-i18n="ru">–ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à–∏ –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã –≤ —ç—Ç—É –ø–∞–ø–∫—É —Å –∏–º–µ–Ω–∞–º–∏ –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ</li>
      <li data-i18n="en">Place your video files in this folder with the names shown above</li>
      <li data-i18n="it">Metti i tuoi file video in questa cartella con i nomi mostrati sopra</li>
      <li data-i18n="tr">Video dosyalarƒ±nƒ±zƒ± yukarƒ±da g√∂sterilen isimlerle bu klas√∂re yerle≈ütirin</li>
      <li data-i18n="ru">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: MP4, WebM</li>
      <li data-i18n="en">Supported formats: MP4, WebM</li>
      <li data-i18n="it">Formati supportati: MP4, WebM</li>
      <li data-i18n="tr">Desteklenen formatlar: MP4, WebM</li>
    </ul>
  </div>
</section>
<section id="quiz" class="container">
  <h3 class="section-title" data-i18n="ru">–ö–≤–∏–∑: 40 –≤–æ–ø—Ä–æ—Å–æ–≤ (4 —Ä–∞—É–Ω–¥–∞ √ó 10)</h3>
  <h3 class="section-title" data-i18n="en">Quiz: 40 questions (4 rounds √ó 10)</h3>
  <h3 class="section-title" data-i18n="it">Quiz: 40 domande (4 turni √ó 10)</h3>
  <h3 class="section-title" data-i18n="tr">Quiz: 40 soru (4 tur √ó 10)</h3>

  <div class="card pad">
    <div style="margin-bottom:16px;padding:12px;background:rgba(251,86,7,0.1);border-left:4px solid #fb5607;border-radius:8px">
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="ru">üß† –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="en">üß† Test Your Knowledge</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="it">üß† Metti alla Prova le Tue Conoscenze</h4>
      <h4 style="margin:0 0 8px;color:#ffb703" data-i18n="tr">üß† Bilginizi Test Edin</h4>
      <p class="muted" data-i18n="ru">–ü—Ä–æ–π–¥–∏—Ç–µ 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –∫–∞–∂–¥–æ–º —Ä–∞—É–Ω–¥–µ. –ù–∞–±–µ—Ä–∏—Ç–µ 7/10, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥. –ü—Ä–æ–≥—Ä–µ—Å—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ. –í–æ–ø—Ä–æ—Å—ã –æ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∂–∞—Ä–∞, –µ–≥–æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è, –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∏–≥—Ä—ã.</p>
      <p class="muted" data-i18n="en">Answer 10 questions in each round. Score 7/10 to unlock the next round. Progress is saved locally. Questions cover the fire's history, consequences, impact on city development, and information from the interactive game.</p>
      <p class="muted" data-i18n="it">Rispondi a 10 domande in ogni turno. Ottieni 7/10 per sbloccare il turno successivo. I progressi sono salvati localmente. Le domande coprono la storia dell'incendio, le conseguenze, l'impatto sullo sviluppo della citt√† e le informazioni dal gioco interattivo.</p>
      <p class="muted" data-i18n="tr">Her turda 10 soru cevaplayƒ±n. Sonraki turu a√ßmak i√ßin 10 √ºzerinden 7 puan alƒ±n. ƒ∞lerleme yerel olarak kaydedilir. Sorular yangƒ±nƒ±n tarihini, sonu√ßlarƒ±nƒ±, ≈üehir geli≈üimine etkisini ve interaktif oyundan bilgileri kapsar.</p>
    </div>

    <div id="quizStage" class="qwrap"></div>
    <div class="quiz-ctrl">
      <button id="btnPrevRound" class="pill">‚óÄ</button>
      <span id="roundLabel" class="badge">Round 1</span>
      <button id="btnNextRound" class="pill">‚ñ∂</button>
      <button id="btnSubmitRound" class="pill primary">‚úì Submit</button>
      <button id="btnRestartQuiz" class="pill" style="background:#fb5607;border-color:#ffb703;color:#000;font-weight:bold">‚ü≤ Restart</button>
      <span id="quizMsg" class="muted"></span>
    </div>
  </div>
</section>

<!-- üéß SOUNDS -->
<section id="sounds" class="container">
  <h3 class="section-title" data-i18n="ru">–ì–æ–ª–æ—Å–∞ –æ–≥–Ω—è</h3>
  <h3 class="section-title" data-i18n="en">Voices of Fire</h3>
  <h3 class="section-title" data-i18n="it">Voci del fuoco</h3>
  <h3 class="section-title" data-i18n="tr">Yangƒ±nƒ±n Sesi</h3>

  <div class="card pad">
    <div style="margin-bottom:24px;padding:16px;background:rgba(251,86,7,0.1);border-left:4px solid #fb5607;border-radius:8px">
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="ru">üéôÔ∏è –ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω–∞—è —Ä–µ—á–∏—Ç–∞—Ü–∏—è</h4>
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="en">üéôÔ∏è An Atmospheric Narration</h4>
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="it">üéôÔ∏è Una narrazione atmosferica</h4>
      <h4 style="margin:0 0 12px;color:#ffb703" data-i18n="tr">üéôÔ∏è Atmosferik bir anlatƒ±m</h4>
      <p class="muted" style="margin:0" data-i18n="ru">–ê–≤—Ç–æ—Ä—ã: –ê–±–¥—É–ª–∞–∑–∏–∑ –ê–±–¥—É–º–∞–¥–∂–∏–¥–æ–≤ –∏ –ì—é–ª—å—á–∏—Ö–∞–Ω –°–∞—á–ª—ã</p>
      <p class="muted" style="margin:0" data-i18n="en">By Abdulaziz Abdumajidov & G√ºlcihan Sa√ßlƒ±</p>
      <p class="muted" style="margin:0" data-i18n="it">Di Abdulaziz Abdumajidov & G√ºlcihan Sa√ßlƒ±</p>
      <p class="muted" style="margin:0" data-i18n="tr">Abdulaziz Abdumajidov & G√ºlcihan Sa√ßlƒ± tarafƒ±ndan</p>
    </div>

    <p class="muted" style="margin-bottom:16px" data-i18n="ru">–≠—Ç–∞ –∞—É–¥–∏–æ—Ä–∞–±–æ—Ç–∞ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∞ —ç—Å—Å–µ ¬´–ì–æ—Ä–æ–¥–∞, –ø–æ–∂–∞—Ä—ã –∏ –Ω–æ–≤–∞—è –≥–æ—Ä–æ–¥—Å–∫–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å¬ª –†–æ–∑—ã –¢–∞–º–±–æ—Ä—Ä–∏–Ω–æ –∏ –ü–µ–ª–∏–Ω –ë–æ–ª–¥–∂–∞ –∏–∑ –∫–Ω–∏–≥–∏ ¬´–ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –æ–≥–Ω—è¬ª (Fondazione Benetton Studi Ricerche, 2024).</p>
    <p class="muted" style="margin-bottom:16px" data-i18n="en">This audio piece is inspired by the essay <em>Cities, Fires and New Urban Identity</em> by Rosa Tamborrino and Pelin Bolca, from <em>On the Side of Fire</em> (Fondazione Benetton Studi Ricerche, 2024).</p>
    <p class="muted" style="margin-bottom:16px" data-i18n="it">Questo pezzo audio √® ispirato al saggio <em>Citt√†, incendi e nuova identit√† urbana</em> di Rosa Tamborrino e Pelin Bolca, da <em>Dalla parte del fuoco</em> (Fondazione Benetton Studi Ricerche, 2024).</p>
    <p class="muted" style="margin-bottom:16px" data-i18n="tr">Bu ses par√ßasƒ±, Rosa Tamborrino ve Pelin Bolca'nƒ±n <em>Ate≈üin Tarafƒ±nda</em> (Fondazione Benetton Studi Ricerche, 2024) kitabƒ±ndaki <em>≈ûehirler, Yangƒ±nlar ve Yeni Kentsel Kimlik</em> denemesinden ilham aldƒ±.</p>

    <p class="muted" style="margin-bottom:16px" data-i18n="ru">–û–Ω–∞ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –ß–∏–∫–∞–≥–æ –∏ –ò–∑–º–∏—Ä–∞ ‚Äî –¥–≤—É—Ö –≥–æ—Ä–æ–¥–æ–≤, —Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã—Ö –æ–≥–Ω—ë–º –∏ –≤–æ–∑—Ä–æ–∂–¥—ë–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –ø–∞–º—è—Ç—å, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Å—Ç–æ–π–∫–æ—Å—Ç—å. –†–µ—á–∏—Ç–∞—Ü–∏—è —Å–º–µ—à–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —Ä–µ—Ñ–ª–µ–∫—Å–∏—é —Å –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π ‚Äî –∑–≤—É–∫–∏ –≤–µ—Ç—Ä–∞, –æ–≥–Ω—è –∏ –¥–æ–∂–¥—è ‚Äî –≤—ã–∑—ã–≤–∞—è —Ç–æ, –∫–∞–∫ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Ç–≤–æ—Ä–µ–Ω–∏–µ.</p>
    <p class="muted" style="margin-bottom:16px" data-i18n="en">It tells the parallel stories of Chicago and ƒ∞zmir ‚Äî two cities destroyed by fire and reborn through memory, architecture, and resilience. The narration blends historical reflection with cinematic atmosphere ‚Äî the sound of wind, fire, and rain ‚Äî evoking how destruction can transform into creation.</p>
    <p class="muted" style="margin-bottom:16px" data-i18n="it">Racconta le storie parallele di Chicago e ƒ∞zmir ‚Äî due citt√† distrutte dal fuoco e rinati attraverso memoria, architettura e resilienza. La narrazione mescola riflessione storica con atmosfera cinematografica ‚Äî il suono del vento, del fuoco e della pioggia ‚Äî evocando come la distruzione possa trasformarsi in creazione.</p>
    <p class="muted" style="margin-bottom:16px" data-i18n="tr">Chicago ve ƒ∞zmir'in paralel hikayelerini anlatƒ±yor ‚Äî ate≈üle yƒ±kƒ±lmƒ±≈ü ve hafƒ±za, mimari ve dayanƒ±klƒ±lƒ±kla yeniden doƒümu≈ü iki ≈üehir. Anlatƒ±m, tarihsel yansƒ±mayƒ± sinematik atmosferle ‚Äî r√ºzgar, ate≈ü ve yaƒümurun sesi ‚Äî harmanlayarak yƒ±kƒ±mƒ±n yaratƒ±ma nasƒ±l d√∂n√º≈üebileceƒüini √ßaƒürƒ±≈ütƒ±rƒ±yor.</p>

    <p class="muted" style="margin-bottom:24px" data-i18n="ru">–ö–∞–∂–¥–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–ø–∏—Å–∏ (–∞–Ω–≥–ª–∏–π—Å–∫–∞—è, —Ä—É—Å—Å–∫–∞—è, –∏—Ç–∞–ª—å—è–Ω—Å–∫–∞—è, —Ç—É—Ä–µ—Ü–∫–∞—è) –∏—Å—Å–ª–µ–¥—É–µ—Ç —ç—Ç—É —Ç–µ–º—É —á–µ—Ä–µ–∑ –≥–æ–ª–æ—Å –∏ —ç–º–æ—Ü–∏–∏, –ø—Ä–∏–≥–ª–∞—à–∞—è —Å–ª—É—à–∞—Ç–µ–ª—è –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–∏—Ç–º –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è.</p>
    <p class="muted" style="margin-bottom:24px" data-i18n="en">Each version of the recording (English, Russian, Italian, Turkish) explores this theme through voice and emotion, inviting the listener to feel the rhythm of rebirth.</p>
    <p class="muted" style="margin-bottom:24px" data-i18n="it">Ogni versione della registrazione (inglese, russo, italiano, turco) esplora questo tema attraverso voce ed emozione, invitando l'ascoltatore a sentire il ritmo della rinascita.</p>
    <p class="muted" style="margin-bottom:24px" data-i18n="tr">Kaydƒ±n her versiyonu (ƒ∞ngilizce, Rus√ßa, ƒ∞talyanca, T√ºrk√ße) bu temayƒ± ses ve duyguyla ke≈üfediyor, dinleyiciyi yeniden doƒüu≈üun ritmini hissetmeye davet ediyor.</p>

    <!-- Audio Players -->
    <div class="audio-row" style="gap:16px;flex-wrap:wrap">
      <div style="flex:1;min-width:280px">
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="ru">üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –≤–µ—Ä—Å–∏—è</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="en">üá¨üáß English Version</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="it">üá¨üáß Versione inglese</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="tr">üá¨üáß ƒ∞ngilizce versiyon</div>
        <audio controls preload="metadata">
          <source src="audio/voices-of-fire-en.mp3" type="audio/mpeg">
          <div class="muted" data-i18n="ru">–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.</div>
          <div class="muted" data-i18n="en">Your browser does not support audio.</div>
          <div class="muted" data-i18n="it">Il tuo browser non supporta l'audio.</div>
          <div class="muted" data-i18n="tr">Tarayƒ±cƒ±nƒ±z sesi desteklemiyor.</div>
        </audio>
      </div>
      
      <div style="flex:1;min-width:280px">
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="ru">üáÆüáπ –ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –≤–µ—Ä—Å–∏—è</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="en">üáÆüáπ Italian Version</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="it">üáÆüáπ Versione italiana</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="tr">üáÆüáπ ƒ∞talyanca versiyon</div>
        <audio controls preload="metadata">
          <source src="audio/voices-of-fire-it.mp3" type="audio/mpeg">
          <div class="muted" data-i18n="ru">–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.</div>
          <div class="muted" data-i18n="en">Your browser does not support audio.</div>
          <div class="muted" data-i18n="it">Il tuo browser non supporta l'audio.</div>
          <div class="muted" data-i18n="tr">Tarayƒ±cƒ±nƒ±z sesi desteklemiyor.</div>
        </audio>
      </div>
      
      <div style="flex:1;min-width:280px">
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="ru">üáπüá∑ –¢—É—Ä–µ—Ü–∫–∞—è –≤–µ—Ä—Å–∏—è</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="en">üáπüá∑ Turkish Version</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="it">üáπüá∑ Versione turca</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="tr">üáπüá∑ T√ºrk√ße versiyon</div>
        <audio controls preload="metadata">
          <source src="audio/voices-of-fire-tr.mp3" type="audio/mpeg">
          <div class="muted" data-i18n="ru">–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.</div>
          <div class="muted" data-i18n="en">Your browser does not support audio.</div>
          <div class="muted" data-i18n="it">Il tuo browser non supporta l'audio.</div>
          <div class="muted" data-i18n="tr">Tarayƒ±cƒ±nƒ±z sesi desteklemiyor.</div>
        </audio>
      </div>
      
      <div style="flex:1;min-width:280px">
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="ru">üá∑üá∫ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="en">üá∑üá∫ Russian Version</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="it">üá∑üá∫ Versione russa</div>
        <div class="muted" style="margin-bottom:8px;font-weight:bold" data-i18n="tr">üá∑üá∫ Rus√ßa versiyon</div>
        <audio controls preload="metadata">
          <source src="audio/voices-of-fire-ru.mp3" type="audio/mpeg">
          <div class="muted" data-i18n="ru">–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.</div>
          <div class="muted" data-i18n="en">Your browser does not support audio.</div>
          <div class="muted" data-i18n="it">Il tuo browser non supporta l'audio.</div>
          <div class="muted" data-i18n="tr">Tarayƒ±cƒ±nƒ±z sesi desteklemiyor.</div>
        </audio>
      </div>
    </div>
  </div>
</section>

<!-- üî• Moscow Fire 1812 -->
<section id="moscow-fire" class="container">
  <h3 class="section-title" data-i18n="ru">–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –ø–æ–∂–∞—Ä 1812 –≥–æ–¥–∞: –∫–æ–≥–¥–∞ —Å—Ç–æ–ª–∏—Ü–∞ –ø–æ—á—Ç–∏ –∏—Å—á–µ–∑–ª–∞ —Å –∫–∞—Ä—Ç—ã</h3>
  <h3 class="section-title" data-i18n="en">Moscow Fire 1812: When the Capital Almost Disappeared from the Map</h3>
  <h3 class="section-title" data-i18n="it">L'Incendio di Mosca del 1812: Quando la Capitale Quasi Scomparve dalla Mappa</h3>
  <h3 class="section-title" data-i18n="tr">1812 Moskova Yangƒ±nƒ±: Ba≈ükent Neredeyse Haritadan Kayboldu</h3>
  
  <div class="card pad" style="background:linear-gradient(135deg, rgba(15,17,21,0.95), rgba(26,31,46,0.9));border:1px solid rgba(251,86,7,0.2);box-shadow:0 8px 32px rgba(0,0,0,0.4), 0 0 40px rgba(251,86,7,0.1)">
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:28px;align-items:start">
      <!-- Animation Container - Cycles through 5 animations -->
      <div id="moscowFireAnimationContainer" style="min-height:380px;max-height:550px;background:linear-gradient(135deg, rgba(251,86,7,0.08), rgba(255,183,3,0.03));border:1px solid rgba(251,86,7,0.25);border-radius:10px;position:sticky;top:20px;overflow:hidden;box-shadow:inset 0 2px 8px rgba(0,0,0,0.3), 0 4px 16px rgba(251,86,7,0.2)">
        <video id="moscowFireAnimation" style="width:100%;height:100%;object-fit:contain;background:transparent" autoplay muted playsinline>
          <!-- Animation sources will be dynamically loaded -->
        </video>
        <div id="moscowFireAnimationCounter" style="position:absolute;bottom:12px;right:12px;background:rgba(0,0,0,0.75);color:#ffb703;padding:6px 14px;border-radius:6px;font-size:13px;font-weight:600;z-index:10;backdrop-filter:blur(4px);border:1px solid rgba(255,183,3,0.2)">
          <span data-i18n="ru">1 / 5</span>
          <span data-i18n="en">1 / 5</span>
          <span data-i18n="it">1 / 5</span>
          <span data-i18n="tr">1 / 5</span>
        </div>
      </div>
      
      <!-- Text Content -->
      <div style="padding-top:4px">
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="ru">–í —Å–µ–Ω—Ç—è–±—Ä–µ 1812 –≥–æ–¥–∞ –ú–æ—Å–∫–≤–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∞—Å—å –≤ –≥–∏–≥–∞–Ω—Ç—Å–∫–∏–π –∫–æ—Å—Ç—ë—Ä. –ü–æ—Å–ª–µ –æ—Ç—Ö–æ–¥–∞ —Ä—É—Å—Å–∫–æ–π –∞—Ä–º–∏–∏ –∏ –≤—Ö–æ–¥–∞ –≤–æ–π—Å–∫ –ù–∞–ø–æ–ª–µ–æ–Ω–∞ –≤ –≥–æ—Ä–æ–¥–µ –≤—Å–ø—ã—Ö–Ω—É–ª–∏ –¥–µ—Å—è—Ç–∫–∏ –æ—á–∞–≥–æ–≤ –æ–≥–Ω—è. –í–µ—Ç–µ—Ä —Ä–∞–∑–¥—É–≤–∞–ª –ø–ª–∞–º—è –ø–æ —Ç–µ—Å–Ω–æ–π –¥–µ—Ä–µ–≤—è–Ω–Ω–æ–π –∑–∞—Å—Ç—Ä–æ–π–∫–µ, –∏ —É–∂–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—É—Ç–æ–∫ –¥—Ä–µ–≤–Ω—è—è —Å—Ç–æ–ª–∏—Ü–∞ –±—ã–ª–∞ –ø–æ—á—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ö–≤–∞—á–µ–Ω–∞ –ø–æ–∂–∞—Ä–æ–º.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="en">In September 1812, Moscow turned into a giant bonfire for several days. After the Russian army's retreat and Napoleon's troops entering the city, dozens of fire sources broke out. The wind fanned the flames through the dense wooden buildings, and within a few days, the ancient capital was almost completely engulfed in fire.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="it">Nel settembre 1812, Mosca si trasform√≤ in un gigantesco fal√≤ per diversi giorni. Dopo la ritirata dell'esercito russo e l'ingresso delle truppe di Napoleone in citt√†, scoppiarono decine di focolai. Il vento aliment√≤ le fiamme attraverso gli edifici in legno densi, e in pochi giorni l'antica capitale fu quasi completamente avvolta dalle fiamme.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="tr">Eyl√ºl 1812'de Moskova birka√ß g√ºn boyunca devasa bir ate≈ü yƒ±ƒüƒ±nƒ±na d√∂n√º≈üt√º. Rus ordusunun geri √ßekilmesi ve Napolyon'un birliklerinin ≈üehre girmesinden sonra onlarca yangƒ±n kaynaƒüƒ± patlak verdi. R√ºzgar alevleri sƒ±k ah≈üap binalar arasƒ±nda k√∂r√ºkledi ve birka√ß g√ºn i√ßinde eski ba≈ükent neredeyse tamamen alevler i√ßindeydi.</p>
      
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="ru">–ü–æ –æ—Ü–µ–Ω–∫–∞–º –∏—Å—Ç–æ—Ä–∏–∫–æ–≤, –æ–≥–æ–Ω—å —É–Ω–∏—á—Ç–æ–∂–∏–ª –æ–∫–æ–ª–æ 75 % –ú–æ—Å–∫–≤—ã: —Ç—ã—Å—è—á–∏ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã—Ö –¥–æ–º–æ–≤, —Å–æ—Ç–Ω–∏ –∫–∞–º–µ–Ω–Ω—ã—Ö –∑–¥–∞–Ω–∏–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ü–µ—Ä–∫–≤–µ–π. –ò–∑ –±–æ–ª–µ–µ —á–µ–º –¥–µ–≤—è—Ç–∏ —Ç—ã—Å—è—á –∂–∏–ª—ã—Ö —Å—Ç—Ä–æ–µ–Ω–∏–π —É—Ü–µ–ª–µ–ª–∞ –ª–∏—à—å –º–∞–ª–∞—è —á–∞—Å—Ç—å ‚Äì —Ü–µ–ª—ã–µ –∫–≤–∞—Ä—Ç–∞–ª—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏—Å—å –≤ —á—ë—Ä–Ω–æ–µ –ø–æ–ª–µ —Ä—É–∏–Ω. –î–ª—è –ª—é–¥–µ–π —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —ç—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ –∫–∞–∫ –∫–æ–Ω–µ—Ü –≥–æ—Ä–æ–¥–∞ –∏ –∫–æ–Ω–µ—Ü —Ü–µ–ª–æ–π —ç–ø–æ—Ö–∏.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="en">According to historians' estimates, the fire destroyed about 75% of Moscow: thousands of wooden houses, hundreds of stone buildings, and many churches. Of more than nine thousand residential buildings, only a small part survived ‚Äì entire neighborhoods turned into black fields of ruins. For people of that time, it looked like the end of the city and the end of an entire era.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="it">Secondo le stime degli storici, l'incendio distrusse circa il 75% di Mosca: migliaia di case in legno, centinaia di edifici in pietra e molte chiese. Di oltre novemila edifici residenziali, sopravvisse solo una piccola parte ‚Äì interi quartieri si trasformarono in campi neri di rovine. Per le persone di quel tempo, sembrava la fine della citt√† e la fine di un'intera epoca.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="tr">Tarih√ßilerin tahminlerine g√∂re, yangƒ±n Moskova'nƒ±n yakla≈üƒ±k %75'ini yok etti: binlerce ah≈üap ev, y√ºzlerce ta≈ü bina ve bir√ßok kilise. Dokuz binden fazla konut binasƒ±ndan sadece k√º√ß√ºk bir kƒ±smƒ± hayatta kaldƒ± ‚Äì t√ºm mahalleler siyah harabe alanlarƒ±na d√∂n√º≈üt√º. O zamanƒ±n insanlarƒ± i√ßin bu, ≈üehrin sonu ve bir √ßaƒüƒ±n sonu gibi g√∂r√ºn√ºyordu.</p>
      
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="ru">–ù–æ –ø–æ–∂–∞—Ä —Å—Ç–∞–ª –Ω–µ —Ç–æ–ª—å–∫–æ —Ç—Ä–∞–≥–µ–¥–∏–µ–π, –∞ –∏ —Ç–æ—á–∫–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞. –ú–æ—Å–∫–≤–∞ –±—ã–ª–∞ –∑–∞–Ω–æ–≤–æ –æ—Ç—Å—Ç—Ä–æ–µ–Ω–∞: –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏ —É–ª–∏—Ü, –∫–∞–º–µ–Ω–Ω–∞—è –∑–∞—Å—Ç—Ä–æ–π–∫–∞, –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ–ø–µ–ª–∏—â–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–æ—Å—å –≤ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –≥–æ—Ä–æ–¥, —Å–∏–º–≤–æ–ª —Å—Ç–æ–π–∫–æ—Å—Ç–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. –ü–∞–º—è—Ç—å –æ –ø–æ–∂–∞—Ä–µ 1812 –≥–æ–¥–∞ –¥–æ —Å–∏—Ö –ø–æ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –≤–∞–∂–Ω–æ–π —á–∞—Å—Ç—å—é —Ä–æ—Å—Å–∏–π—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="en">But the fire became not only a tragedy, but also a restart point. Moscow was rebuilt: new street layouts appeared, stone construction, and gradually the ashes turned into an updated city, a symbol of resilience and recovery. The memory of the 1812 fire remains an important part of Russian historical identity to this day.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="it">Ma l'incendio divenne non solo una tragedia, ma anche un punto di riavvio. Mosca fu ricostruita: apparvero nuove planimetrie stradali, costruzioni in pietra, e gradualmente le ceneri si trasformarono in una citt√† aggiornata, simbolo di resilienza e recupero. La memoria dell'incendio del 1812 rimane ancora oggi una parte importante dell'identit√† storica russa.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="tr">Ancak yangƒ±n sadece bir trajedi deƒüil, aynƒ± zamanda bir yeniden ba≈ülatma noktasƒ± oldu. Moskova yeniden in≈üa edildi: yeni sokak d√ºzenleri ortaya √ßƒ±ktƒ±, ta≈ü yapƒ±lar ve yava≈ü yava≈ü k√ºller g√ºncellenmi≈ü bir ≈üehre, dayanƒ±klƒ±lƒ±k ve toparlanmanƒ±n sembol√ºne d√∂n√º≈üt√º. 1812 yangƒ±nƒ±nƒ±n anƒ±sƒ± bug√ºn hala Rus tarihsel kimliƒüinin √∂nemli bir par√ßasƒ± olarak kalƒ±yor.</p>
      
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="ru">–¢–∞–∫ –∂–µ, –∫–∞–∫ –ß–∏–∫–∞–≥–æ –ø–æ—Å–ª–µ –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞ 1871 –≥–æ–¥–∞, –ú–æ—Å–∫–≤–∞ –ø—Ä–æ—à–ª–∞ —á–µ—Ä–µ–∑ –ø–æ—á—Ç–∏ –ø–æ–ª–Ω–æ–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∏ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ. –ü–æ—ç—Ç–æ–º—É –≤ —Ä—É—Å—Å–∫–æ–π –≤–µ—Ä—Å–∏–∏ —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞ –º—ã –≤—Å–ø–æ–º–∏–Ω–∞–µ–º –ú–æ—Å–∫–æ–≤—Å–∫–∏–π –ø–æ–∂–∞—Ä 1812 –≥–æ–¥–∞ ‚Äì –µ—â—ë –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä –≥–æ—Ä–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π ¬´–≤—Å—Ç–∞–ª –∏–∑ –ø–µ–ø–ª–∞¬ª.</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="en">Just like Chicago after the Great Fire of 1871, Moscow went through almost complete destruction and rebirth. Therefore, in the Russian version of this site, we remember the Moscow Fire of 1812 ‚Äì another example of a city that "rose from the ashes."</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="it">Proprio come Chicago dopo il Grande Incendio del 1871, Mosca attravers√≤ una distruzione quasi completa e una rinascita. Pertanto, nella versione russa di questo sito, ricordiamo l'Incendio di Mosca del 1812 ‚Äì un altro esempio di citt√† che "√® risorta dalle ceneri".</p>
      <p class="muted" style="font-size:17px;line-height:1.8;margin-bottom:20px" data-i18n="tr">1871 B√ºy√ºk Chicago Yangƒ±nƒ±'ndan sonra Chicago gibi, Moskova da neredeyse tamamen yƒ±kƒ±m ve yeniden doƒüu≈ütan ge√ßti. Bu nedenle, bu sitenin Rus versiyonunda 1812 Moskova Yangƒ±nƒ±'nƒ± hatƒ±rlƒ±yoruz ‚Äì "k√ºllerden y√ºkselen" bir ≈üehrin ba≈üka bir √∂rneƒüi.</p>
      </div>
    </div>
  </div>
</section>

<!-- üì§ Submit Fire Information -->
<section id="submit-fire" class="container">
  <h3 class="section-title" data-i18n="ru">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏—Å—Ç–æ—Ä–∏–µ–π –ø–æ–∂–∞—Ä–∞</h3>
  <h3 class="section-title" data-i18n="en">Share a Fire Story</h3>
  <h3 class="section-title" data-i18n="it">Condividi una Storia di Incendio</h3>
  <h3 class="section-title" data-i18n="tr">Bir Yangƒ±n Hikayesi Payla≈ü</h3>
  
  <div class="card pad" style="max-width:900px;margin:0 auto">
    <div style="margin-bottom:32px;padding:20px;background:rgba(251,86,7,0.1);border-left:4px solid #fb5607;border-radius:12px">
      <h4 style="margin:0 0 12px;color:#ffb703;font-size:18px;font-weight:700" data-i18n="ru">üìù –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–∂–∞—Ä–µ</h4>
      <h4 style="margin:0 0 12px;color:#ffb703;font-size:18px;font-weight:700" data-i18n="en">üìù Submit Fire Information</h4>
      <h4 style="margin:0 0 12px;color:#ffb703;font-size:18px;font-weight:700" data-i18n="it">üìù Invia Informazioni sull'Incendio</h4>
      <h4 style="margin:0 0 12px;color:#ffb703;font-size:18px;font-weight:700" data-i18n="tr">üìù Yangƒ±n Bilgisi G√∂nder</h4>
      <p class="muted" style="margin:0;font-size:15px;line-height:1.6" data-i18n="ru">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–∂–∞—Ä–∞—Ö, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏—Ö –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –º–∏—Ä–∞. –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –±—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.</p>
      <p class="muted" style="margin:0;font-size:15px;line-height:1.6" data-i18n="en">Share information about fires that occurred in different places around the world. Materials will be reviewed before publication.</p>
      <p class="muted" style="margin:0;font-size:15px;line-height:1.6" data-i18n="it">Condividi informazioni su incendi avvenuti in diversi luoghi del mondo. I materiali saranno revisionati prima della pubblicazione.</p>
      <p class="muted" style="margin:0;font-size:15px;line-height:1.6" data-i18n="tr">D√ºnyanƒ±n farklƒ± yerlerinde meydana gelen yangƒ±nlar hakkƒ±nda bilgi payla≈üƒ±n. Materyaller yayƒ±nlanmadan √∂nce incelenecektir.</p>
    </div>
    
    <form id="fireSubmissionForm">
      <div style="margin-bottom:24px">
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="ru">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∂–∞—Ä–∞ / –ú–µ—Å—Ç–æ</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="en">Fire Name / Location</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="it">Nome dell'Incendio / Luogo</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="tr">Yangƒ±n Adƒ± / Konum</label>
        <input type="text" id="fireName" required style="width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--ink);font-size:15px;font-family:inherit;margin-top:8px;transition:border-color 0.2s ease" placeholder="e.g., Great Fire of London, 1666" onfocus="this.style.borderColor='rgba(251,86,7,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
      </div>
      
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:24px">
        <div>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="ru">–ì–æ–¥</label>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="en">Year</label>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="it">Anno</label>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="tr">Yƒ±l</label>
          <input type="number" id="fireYear" required style="width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--ink);font-size:15px;font-family:inherit;margin-top:8px;transition:border-color 0.2s ease" placeholder="1812" onfocus="this.style.borderColor='rgba(251,86,7,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
        </div>
        
        <div>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="ru">–Ø–∑—ã–∫</label>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="en">Language</label>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="it">Lingua</label>
          <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="tr">Dil</label>
          <select id="fireLanguage" required style="width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--ink);font-size:15px;font-family:inherit;margin-top:8px;transition:border-color 0.2s ease;cursor:pointer" onfocus="this.style.borderColor='rgba(251,86,7,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
            <option value="">-- Select --</option>
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
            <option value="en">English</option>
            <option value="it">Italiano</option>
            <option value="tr">T√ºrk√ße</option>
          </select>
        </div>
      </div>
      
      <div style="margin-bottom:24px">
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="ru">–û–ø–∏—Å–∞–Ω–∏–µ</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="en">Description</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="it">Descrizione</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="tr">A√ßƒ±klama</label>
        <textarea id="fireDescription" required rows="6" style="width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--ink);font-size:15px;font-family:inherit;resize:vertical;line-height:1.6;margin-top:8px;transition:border-color 0.2s ease" placeholder="Describe the fire, its causes, consequences, and impact..." onfocus="this.style.borderColor='rgba(251,86,7,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'"></textarea>
      </div>
      
      <div style="margin-bottom:24px">
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="ru">–ò—Å—Ç–æ—á–Ω–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="en">Sources (optional)</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="it">Fonti (opzionale)</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="tr">Kaynaklar (isteƒüe baƒülƒ±)</label>
        <input type="text" id="fireSources" style="width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--ink);font-size:15px;font-family:inherit;margin-top:8px;transition:border-color 0.2s ease" placeholder="URLs or references" onfocus="this.style.borderColor='rgba(251,86,7,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
      </div>
      
      <div style="margin-bottom:28px">
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="ru">–í–∞—à–µ –∏–º—è / Email (–¥–ª—è —Å–≤—è–∑–∏)</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="en">Your Name / Email (for contact)</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="it">Il Tuo Nome / Email (per contatto)</label>
        <label style="margin-bottom:10px;color:#ffb703;font-weight:600;font-size:15px" data-i18n="tr">Adƒ±nƒ±z / E-posta (ileti≈üim i√ßin)</label>
        <input type="text" id="submitterContact" required style="width:100%;padding:14px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:var(--ink);font-size:15px;font-family:inherit;margin-top:8px;transition:border-color 0.2s ease" placeholder="Name or email" onfocus="this.style.borderColor='rgba(251,86,7,0.5)'" onblur="this.style.borderColor='rgba(255,255,255,0.1)'">
      </div>
      
      <button type="submit" class="btn" style="
        width:100%;
        padding:18px 32px;
        font-size:16px;
        font-weight:700;
        background:linear-gradient(135deg, rgba(251,86,7,0.3), rgba(251,86,7,0.2));
        border:2px solid rgba(251,86,7,0.6);
        border-radius:12px;
        color:#ffb703;
        cursor:pointer;
        transition:all 0.3s ease;
        box-shadow:0 4px 12px rgba(251,86,7,0.3);
        margin-top:8px;
      " onmouseover="this.style.background='linear-gradient(135deg, rgba(251,86,7,0.5), rgba(251,86,7,0.3))'; this.style.borderColor='rgba(251,86,7,0.9)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(251,86,7,0.5)'" onmouseout="this.style.background='linear-gradient(135deg, rgba(251,86,7,0.3), rgba(251,86,7,0.2))'; this.style.borderColor='rgba(251,86,7,0.6)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(251,86,7,0.3)'">
        <span data-i18n="ru">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</span>
        <span data-i18n="en">Submit for Review</span>
        <span data-i18n="it">Invia per Revisione</span>
        <span data-i18n="tr">ƒ∞nceleme i√ßin G√∂nder</span>
      </button>
      
      <p class="muted" style="margin-top:20px;font-size:14px;text-align:center;opacity:0.7;line-height:1.6" data-i18n="ru">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –±—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.</p>
      <p class="muted" style="margin-top:20px;font-size:14px;text-align:center;opacity:0.7;line-height:1.6" data-i18n="en">Materials will be reviewed by the administrator before publication.</p>
      <p class="muted" style="margin-top:20px;font-size:14px;text-align:center;opacity:0.7;line-height:1.6" data-i18n="it">I materiali saranno revisionati dall'amministratore prima della pubblicazione.</p>
      <p class="muted" style="margin-top:20px;font-size:14px;text-align:center;opacity:0.7;line-height:1.6" data-i18n="tr">Materyaller yayƒ±nlanmadan √∂nce y√∂netici tarafƒ±ndan incelenecektir.</p>
    </form>
  </div>
</section>

<section id="credits" class="container">
  <h3 class="section-title" data-i18n="ru">–ö—Ä–µ–¥–∏—Ç—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏</h3>
  <h3 class="section-title" data-i18n="en">Credits & sources</h3>
  <h3 class="section-title" data-i18n="it">Crediti e fonti</h3>
  <h3 class="section-title" data-i18n="tr">Krediler ve kaynaklar</h3>
  
  <div class="card pad">
    <h4 style="color:#ffb703;margin:0 0 16px" data-i18n="ru">–§–æ—Ç–æ –∏ –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏</h4>
    <h4 style="color:#ffb703;margin:0 0 16px" data-i18n="en">Photos & Illustrations</h4>
    <h4 style="color:#ffb703;margin:0 0 16px" data-i18n="it">Foto e Illustrazioni</h4>
    <h4 style="color:#ffb703;margin:0 0 16px" data-i18n="tr">Fotoƒüraflar ve ƒ∞ll√ºstrasyonlar</h4>
    <ul class="muted">
      <li data-i18n="en">Wikimedia Commons / Library of Congress</li>
      <li data-i18n="ru">Wikimedia Commons / –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ö–æ–Ω–≥—Ä–µ—Å—Å–∞ –°–®–ê</li>
      <li data-i18n="it">Wikimedia Commons / Biblioteca del Congresso</li>
      <li data-i18n="tr">Wikimedia Commons / Kongre K√ºt√ºphanesi</li>
      <li data-i18n="en">Chicago History Museum: <a href="https://images.chicagohistory.org/groupitem/164/" target="_blank" rel="noopener">images.chicagohistory.org</a></li>
      <li data-i18n="ru">–ß–∏–∫–∞–≥—Å–∫–∏–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –º—É–∑–µ–π: <a href="https://images.chicagohistory.org/groupitem/164/" target="_blank" rel="noopener">images.chicagohistory.org</a></li>
      <li data-i18n="it">Museo di Storia di Chicago: <a href="https://images.chicagohistory.org/groupitem/164/" target="_blank" rel="noopener">images.chicagohistory.org</a></li>
      <li data-i18n="tr">Chicago Tarih M√ºzesi: <a href="https://images.chicagohistory.org/groupitem/164/" target="_blank" rel="noopener">images.chicagohistory.org</a></li>
    </ul>
    
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="ru">–ê—É–¥–∏–æ –∏ –∑–≤—É–∫–∏</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="en">Audio & Sounds</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="it">Audio e Suoni</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="tr">Ses ve Sesler</h4>
    <ul class="muted">
      <li data-i18n="en">Fire sound effects: Wikimedia Commons (PDsounds)</li>
      <li data-i18n="ru">–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –æ–≥–Ω—è: Wikimedia Commons (PDsounds)</li>
      <li data-i18n="it">Effetti sonori del fuoco: Wikimedia Commons (PDsounds)</li>
      <li data-i18n="tr">Yangƒ±n ses efektleri: Wikimedia Commons (PDsounds)</li>
      <li data-i18n="en">"Voices of Fire" narration: Abdulaziz Abdumajidov & G√ºlcihan Sa√ßlƒ±</li>
      <li data-i18n="ru">–†–µ—á–∏—Ç–∞—Ü–∏—è "–ì–æ–ª–æ—Å–∞ –æ–≥–Ω—è": –ê–±–¥—É–ª–∞–∑–∏–∑ –ê–±–¥—É–º–∞–¥–∂–∏–¥–æ–≤ –∏ –ì—é–ª—å—á–∏—Ö–∞–Ω –°–∞—á–ª—ã</li>
      <li data-i18n="it">Narrazione "Voci del fuoco": Abdulaziz Abdumajidov & G√ºlcihan Sa√ßlƒ±</li>
      <li data-i18n="tr">"Yangƒ±nƒ±n Sesi" anlatƒ±mƒ±: Abdulaziz Abdumajidov & G√ºlcihan Sa√ßlƒ±</li>
    </ul>
    
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="ru">–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="en">Sources & Inspiration</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="it">Fonti e Ispirazione</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="tr">Kaynaklar ve ƒ∞lham</h4>
    <ul class="muted">
      <li data-i18n="en"><em>On the Side of Fire</em> by Fondazione Benetton Studi Ricerche (2024)</li>
      <li data-i18n="ru"><em>–ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –æ–≥–Ω—è</em>, Fondazione Benetton Studi Ricerche (2024)</li>
      <li data-i18n="it"><em>Dalla parte del fuoco</em>, Fondazione Benetton Studi Ricerche (2024)</li>
      <li data-i18n="tr"><em>Ate≈üin Tarafƒ±nda</em>, Fondazione Benetton Studi Ricerche (2024)</li>
      <li data-i18n="en">Essay: "Cities, Fires and New Urban Identity" by Rosa Tamborrino and Pelin Bolca</li>
      <li data-i18n="ru">–≠—Å—Å–µ: "–ì–æ—Ä–æ–¥–∞, –ø–æ–∂–∞—Ä—ã –∏ –Ω–æ–≤–∞—è –≥–æ—Ä–æ–¥—Å–∫–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å" –†–æ–∑—ã –¢–∞–º–±–æ—Ä—Ä–∏–Ω–æ –∏ –ü–µ–ª–∏–Ω –ë–æ–ª–¥–∂–∞</li>
      <li data-i18n="it">Saggio: "Citt√†, incendi e nuova identit√† urbana" di Rosa Tamborrino e Pelin Bolca</li>
      <li data-i18n="tr">Deneme: "≈ûehirler, Yangƒ±nlar ve Yeni Kentsel Kimlik" - Rosa Tamborrino ve Pelin Bolca</li>
      <li data-i18n="en">Chicago Landmarks: <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">Fire Origin Site Landmark</a></li>
      <li data-i18n="ru">–õ–µ–Ω–¥–º–∞—Ä–∫–∏ –ß–∏–∫–∞–≥–æ: <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">–ú–µ—Å—Ç–æ –Ω–∞—á–∞–ª–∞ –ø–æ–∂–∞—Ä–∞</a></li>
      <li data-i18n="it">Luoghi storici di Chicago: <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">Sito dell'origine dell'incendio</a></li>
      <li data-i18n="tr">Chicago tarihi yerler: <a href="https://webapps1.chicago.gov/landmarksweb/web/landmarkdetails.htm?lanId=1272" target="_blank" rel="noopener">Yangƒ±n kaynaƒüƒ± anƒ±tƒ±</a></li>
      <li data-i18n="en">Encyclopedia of Chicago: <a href="http://www.encyclopedia.chicagohistory.org/" target="_blank" rel="noopener">encyclopedia.chicagohistory.org</a></li>
      <li data-i18n="ru">–≠–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è –ß–∏–∫–∞–≥–æ: <a href="http://www.encyclopedia.chicagohistory.org/" target="_blank" rel="noopener">encyclopedia.chicagohistory.org</a></li>
      <li data-i18n="it">Enciclopedia di Chicago: <a href="http://www.encyclopedia.chicagohistory.org/" target="_blank" rel="noopener">encyclopedia.chicagohistory.org</a></li>
      <li data-i18n="tr">Chicago Ansiklopedisi: <a href="http://www.encyclopedia.chicagohistory.org/" target="_blank" rel="noopener">encyclopedia.chicagohistory.org</a></li>
      <li data-i18n="en">The Great Chicago Fire & The Web of Memory: <a href="https://greatchicagofire.org/" target="_blank" rel="noopener">greatchicagofire.org</a></li>
      <li data-i18n="ru">–í–µ–ª–∏–∫–∏–π —á–∏–∫–∞–≥—Å–∫–∏–π –ø–æ–∂–∞—Ä –∏ —Å–µ—Ç—å –ø–∞–º—è—Ç–∏: <a href="https://greatchicagofire.org/" target="_blank" rel="noopener">greatchicagofire.org</a></li>
      <li data-i18n="it">Il Grande Incendio di Chicago e La Rete della Memoria: <a href="https://greatchicagofire.org/" target="_blank" rel="noopener">greatchicagofire.org</a></li>
      <li data-i18n="tr">B√ºy√ºk Chicago Yangƒ±nƒ± ve Hafƒ±za Aƒüƒ±: <a href="https://greatchicagofire.org/" target="_blank" rel="noopener">greatchicagofire.org</a></li>
      <li data-i18n="en">The New York Times: <a href="https://www.nytimes.com/2021/10/19/arts/chicago-fire-1871-exhibition-museum.html" target="_blank" rel="noopener">Chicago Fire 1871 Exhibition Article</a></li>
      <li data-i18n="ru">The New York Times: <a href="https://www.nytimes.com/2021/10/19/arts/chicago-fire-1871-exhibition-museum.html" target="_blank" rel="noopener">–°—Ç–∞—Ç—å—è –æ –≤—ã—Å—Ç–∞–≤–∫–µ –ø–æ–∂–∞—Ä–∞ 1871</a></li>
      <li data-i18n="it">The New York Times: <a href="https://www.nytimes.com/2021/10/19/arts/chicago-fire-1871-exhibition-museum.html" target="_blank" rel="noopener">Articolo sulla mostra dell'incendio del 1871</a></li>
      <li data-i18n="tr">The New York Times: <a href="https://www.nytimes.com/2021/10/19/arts/chicago-fire-1871-exhibition-museum.html" target="_blank" rel="noopener">1871 Yangƒ±n Sergisi Makalesi</a></li>
      <li data-i18n="en">Encyclop√¶dia Britannica: <a href="https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141" target="_blank" rel="noopener">The Rookery Building and Chicago's Rebirth</a></li>
      <li data-i18n="ru">Encyclop√¶dia Britannica: <a href="https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141" target="_blank" rel="noopener">–ó–¥–∞–Ω–∏–µ Rookery –∏ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ –ß–∏–∫–∞–≥–æ</a></li>
      <li data-i18n="it">Encyclop√¶dia Britannica: <a href="https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141" target="_blank" rel="noopener">Rookery Building e la rinascita di Chicago</a></li>
      <li data-i18n="tr">Encyclop√¶dia Britannica: <a href="https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141" target="_blank" rel="noopener">Rookery Binasƒ± ve Chicago'nun Yeniden Doƒüu≈üu</a></li>
    </ul>
    
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="ru">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –¥–∏–∑–∞–π–Ω</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="en">Development & Design</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="it">Sviluppo e Design</h4>
    <h4 style="color:#ffb703;margin:24px 0 16px" data-i18n="tr">Geli≈ütirme ve Tasarƒ±m</h4>
    <p class="muted" data-i18n="en">Interactive multimedia storytelling project for educational purposes. All media files can be replaced with local assets for offline use.</p>
    <p class="muted" data-i18n="ru">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π. –í—Å–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.</p>
    <p class="muted" data-i18n="it">Progetto interattivo multimediale per scopi educativi. Tutti i file multimediali possono essere sostituiti con risorse locali per uso offline.</p>
    <p class="muted" data-i18n="tr">Eƒüitim ama√ßlƒ± interaktif multimedya hikaye anlatƒ±mƒ± projesi. T√ºm medya dosyalarƒ± √ßevrimdƒ±≈üƒ± kullanƒ±m i√ßin yerel varlƒ±klarla deƒüi≈ütirilebilir.</p>
  </div>
</section>

<!-- Background Image Section -->
<div style="margin:32px 0;width:100%;overflow:hidden">
  <img src="images/background.jpg" alt="Background" style="width:100%;height:auto;display:block">
</div>

<footer>
  <div data-i18n="ru"><strong>–ü—Ä–µ–¥–º–µ—Ç:</strong> –¶–∏—Ñ—Ä–æ–≤–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ | <strong>–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è:</strong> –ú–∏–∫—Ä–æ–ø—Ä–æ–µ–∫—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –Ω–∞—Å–ª–µ–¥–∏—è: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –í–µ–ª–∏–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞ –ß–∏–∫–∞–≥–æ (1871) —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–µ–±-—Å–∞–π—Ç, –∫–∞—Ä—Ç—É –∏ –º–∏–Ω–∏-–∏–≥—Ä—É</div>
  <div data-i18n="en"><strong>Subject:</strong> Digital Heritage | <strong>Project Title:</strong> Digital Heritage Microproject: Interpreting the Great Chicago Fire (1871) through an Interactive Website, Map, and Mini-Game<br><span style="margin-top:8px;display:block;font-size:0.9em;opacity:0.9">This work was carried out within the framework of the Digital Heritage course at Politecnico di Torino in the academic year 2025-2026.</span></div>
  <div data-i18n="it"><strong>Materia:</strong> Patrimonio Digitale | <strong>Titolo del Progetto:</strong> Microprogetto di Patrimonio Digitale: Interpretazione del Grande Incendio di Chicago (1871) attraverso un Sito Web Interattivo, Mappa e Mini-Gioco</div>
  <div data-i18n="tr"><strong>Konu:</strong> Dijital Miras | <strong>Proje Ba≈ülƒ±ƒüƒ±:</strong> Dijital Miras Mikro Projesi: B√ºy√ºk Chicago Yangƒ±nƒ±'nƒ±n (1871) ƒ∞nteraktif Web Sitesi, Harita ve Mini Oyun Yoluyla Yorumlanmasƒ±</div>
  <div style="margin-top:16px;padding-top:16px;border-top:1px solid rgba(255,255,255,0.1);opacity:0.7">Design & Development: <strong>Abdulaziz Abdumajidov</strong>, <strong>G√ºlcihan Sa√ßlƒ±</strong></div>
</footer>

<script>
  // Prevent page scroll on space/arrow keys
  window.addEventListener('keydown', (e)=>{
    const k = e.key.toLowerCase();
    if(k===' '||k==='spacebar'||k.startsWith('arrow')) e.preventDefault();
    if(k==='r') e.preventDefault();
  }, {passive:false});

  // Language switch
  const setLang=(l)=>{document.documentElement.setAttribute('data-lang',l);localStorage.setItem('lang',l);
    document.querySelectorAll('[data-setlang]').forEach(b=>b.classList.toggle('active',b.dataset.setlang===l));};
  (function(){
    setLang(localStorage.getItem('lang')||'it');
    document.querySelectorAll('[data-setlang]').forEach(b=>b.addEventListener('click',()=>setLang(b.dataset.setlang)));
    // Trigger visibility check after language is set
    setTimeout(() => {
      if (window.showAnimatedElements) window.showAnimatedElements();
    }, 200);
  })();

  // Sound Toggle - Button next to language buttons to mute/unmute all background sounds
  (function(){
    const soundBtn = document.getElementById('soundBtn');
    if(!soundBtn) return;
    
    let soundEnabled = localStorage.getItem('soundEnabled') !== 'false'; // Default to true
    
    // Update button state
    function updateSoundState() {
      if(soundEnabled) {
        soundBtn.classList.remove('muted');
        soundBtn.textContent = 'üîä';
      } else {
        soundBtn.classList.add('muted');
        soundBtn.textContent = 'üîá';
      }
      localStorage.setItem('soundEnabled', soundEnabled);
      
      // Dispatch event for all sound systems (fire sound, game sounds)
      window.dispatchEvent(new CustomEvent('soundToggle', { detail: { enabled: soundEnabled } }));
    }
    
    // Toggle sound function
    function toggleSound() {
      soundEnabled = !soundEnabled;
      updateSoundState();
    }
    
    // Toggle sound on button click
    soundBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleSound();
    });
    
    // Initialize button state
    updateSoundState();
    
    // Expose function to control sounds globally
    window.toggleAllSounds = function(enabled) {
      soundEnabled = enabled;
      updateSoundState();
    };
    
    // Expose current state
    window.isSoundEnabled = function() {
      return soundEnabled;
    };
    
    // Load saved state on init - dispatch event if sound is disabled
    if(!soundEnabled) {
      window.dispatchEvent(new CustomEvent('soundToggle', { detail: { enabled: false } }));
    }
  })();

  // Smooth scroll navigation
  (function(){
    document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        const href = this.getAttribute('href');
        if(href && href !== '#' && href !== '#top') {
          e.preventDefault();
          const target = document.querySelector(href);
          if(target) {
            const offsetTop = target.offsetTop - 80; // Account for header height
            window.scrollTo({
              top: offsetTop,
              behavior: 'smooth'
            });
          }
        }
      });
    });
  })();

  // Slider with Multiple Comparisons
  (function(){
    const root=document.getElementById('compare'); if(!root) return;
    const after=root.querySelector('.after'), handle=root.querySelector('.handle'), img=root.querySelector('.img');
    const beforeImg=document.getElementById('compareBeforeImg'), afterImg=document.getElementById('compareAfterImg');
    const beforeSource=document.getElementById('compareBeforeSource'), afterSource=document.getElementById('compareAfterSource');
    const beforeDesc=document.getElementById('compareBeforeDesc'), afterDesc=document.getElementById('compareAfterDesc');
    const beforeTitle=document.getElementById('compareBeforeTitle'), afterTitle=document.getElementById('compareAfterTitle');
    const prevBtn=document.getElementById('comparePrev'), nextBtn=document.getElementById('compareNext');
    const counter=document.getElementById('compareCounter');
    
    // Comparison data - 6 comparisons
    const comparisons = [
      {
        before: {
          img: 'images/before after/compare-1-before.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'View North on Pine Street (now Michigan Avenue) to the Water Tower before the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Pine Sokaƒüƒ±\'ndan (≈üimdi Michigan Avenue) Su Kulesi\'ne Yangƒ±n √ñncesi Kuzey G√∂r√ºn√ºm√º; P. B. Greene, Stereograf, 1871',
            ru: '–í–∏–¥ –Ω–∞ —Å–µ–≤–µ—Ä –ø–æ –ü–∞–π–Ω-—Å—Ç—Ä–∏—Ç (–Ω—ã–Ω–µ –ú–∏—á–∏–≥–∞–Ω-–∞–≤–µ–Ω—é) –∫ –í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–æ–π –±–∞—à–Ω–µ –¥–æ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Vista a nord su Pine Street (ora Michigan Avenue) verso la Water Tower prima dell\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'This area, now part of the Magnificent Mile, was at the time of the fire a favorite location for Old Settler Chicagoans who had arrived in the 1830s and 1840s. Several lived in large homes on grounds that took up most or all of a city block.',
            tr: 'Bu alan, ≈üimdi Magnificent Mile\'ƒ±n bir par√ßasƒ±, yangƒ±n zamanƒ±nda 1830\'lar ve 1840\'larda gelmi≈ü Eski Yerle≈üimci Chicago\'lularƒ±n favori konumuydu. Birka√ßƒ±, ≈üehir bloƒüunun √ßoƒüunu veya tamamƒ±nƒ± kaplayan arazilerde b√ºy√ºk evlerde ya≈üƒ±yordu.',
            ru: '–≠—Ç–æ—Ç —Ä–∞–π–æ–Ω, –Ω—ã–Ω–µ —á–∞—Å—Ç—å –í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ–π –º–∏–ª–∏, –≤–æ –≤—Ä–µ–º—è –ø–æ–∂–∞—Ä–∞ –±—ã–ª –∏–∑–ª—é–±–ª–µ–Ω–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –ø–æ—Å–µ–ª–µ–Ω—Ü–µ–≤ –ß–∏–∫–∞–≥–æ, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–µ—Ö–∞–ª–∏ –≤ 1830-—Ö –∏ 1840-—Ö –≥–æ–¥–∞—Ö. –ù–µ—Å–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –∂–∏–ª–∏ –≤ –±–æ–ª—å—à–∏—Ö –¥–æ–º–∞—Ö –Ω–∞ —É—á–∞—Å—Ç–∫–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞–ª–∏ –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –∏–ª–∏ –≤–µ—Å—å –≥–æ—Ä–æ–¥—Å–∫–æ–π –∫–≤–∞—Ä—Ç–∞–ª.',
            it: 'Questa area, ora parte della Magnificent Mile, era al momento dell\'incendio una posizione preferita per i vecchi coloni di Chicago arrivati negli anni 1830 e 1840. Diversi vivevano in grandi case su terreni che occupavano la maggior parte o l\'intero isolato cittadino.'
          }
        },
        after: {
          img: 'images/before after/compare-1-after.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'View North on Pine Street (now Michigan Avenue) to the Water Tower after the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Pine Sokaƒüƒ±\'ndan (≈üimdi Michigan Avenue) Su Kulesi\'ne Yangƒ±n Sonrasƒ± Kuzey G√∂r√ºn√ºm√º; P. B. Greene, Stereograf, 1871',
            ru: '–í–∏–¥ –Ω–∞ —Å–µ–≤–µ—Ä –ø–æ –ü–∞–π–Ω-—Å—Ç—Ä–∏—Ç (–Ω—ã–Ω–µ –ú–∏—á–∏–≥–∞–Ω-–∞–≤–µ–Ω—é) –∫ –í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–æ–π –±–∞—à–Ω–µ –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Vista a nord su Pine Street (ora Michigan Avenue) verso la Water Tower dopo l\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: '"And to think," marveled Frederick Francis Cook in Bygone Days in Chicago, "that in a single night all this wealth of nature disappeared as if it had never been!"',
            tr: '"Ve d√º≈ü√ºnmek," diye hayret etti Frederick Francis Cook Bygone Days in Chicago\'da, "bir gecede t√ºm bu doƒüa zenginliƒüinin hi√ß olmamƒ±≈ü gibi kaybolduƒüunu!"',
            ru: '"–ò –ø–æ–¥—É–º–∞—Ç—å —Ç–æ–ª—å–∫–æ," - —É–¥–∏–≤–ª—è–ª—Å—è –§—Ä–µ–¥–µ—Ä–∏–∫ –§—Ä—ç–Ω—Å–∏—Å –ö—É–∫ –≤ "–ü—Ä–æ—à–µ–¥—à–∏—Ö –¥–Ω—è—Ö –≤ –ß–∏–∫–∞–≥–æ", "—á—Ç–æ –∑–∞ –æ–¥–Ω—É –Ω–æ—á—å –≤—Å–µ —ç—Ç–æ –±–æ–≥–∞—Ç—Å—Ç–≤–æ –ø—Ä–∏—Ä–æ–¥—ã –∏—Å—á–µ–∑–ª–æ, –∫–∞–∫ –±—É–¥—Ç–æ –µ–≥–æ –Ω–∏–∫–æ–≥–¥–∞ –∏ –Ω–µ –±—ã–ª–æ!"',
            it: '"E pensare," si meravigli√≤ Frederick Francis Cook in Bygone Days in Chicago, "che in una sola notte tutta questa ricchezza della natura scomparve come se non fosse mai esistita!"'
          }
        }
      },
      {
        before: {
          img: 'images/before after/compare-2-before.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'George F. Rumsey House before the Fire; P. B. Greene, Stereograph, ca. 1871',
            tr: 'Yangƒ±n √ñncesi George F. Rumsey Evi; P. B. Greene, Stereograf, yak. 1871',
            ru: '–î–æ–º –î–∂–æ—Ä–¥–∂–∞ –§. –†–∞–º–∑–∏ –¥–æ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, –æ–∫. 1871',
            it: 'Casa di George F. Rumsey prima dell\'Incendio; P. B. Greene, Stereografo, ca. 1871'
          },
          desc: {
            en: 'Brothers George F. and Julian S. Rumsey arrived in Chicago in the 1830s and made their fortune in grain storage. Julian was elected mayor in 1861. They built gracious residences on Huron Street, across from St. James Episcopal Church. This image shows the "country" homes in the area, with large yards and gardens.',
            tr: 'George F. ve Julian S. Rumsey karde≈üler 1830\'larda Chicago\'ya geldiler ve tahƒ±l depolamada servet yaptƒ±lar. Julian 1861\'de belediye ba≈ükanƒ± se√ßildi. St. James Episcopal Kilisesi\'nin kar≈üƒ±sƒ±nda Huron Street\'te zarif konutlar in≈üa ettiler. Bu g√∂r√ºnt√º, b√ºy√ºk bah√ßeleri ve bah√ßeleri olan b√∂lgedeki "kƒ±rsal" evleri g√∂steriyor.',
            ru: '–ë—Ä–∞—Ç—å—è –î–∂–æ—Ä–¥–∂ –§. –∏ –î–∂—É–ª–∏–∞–Ω –°. –†–∞–º–∑–∏ –ø—Ä–∏–±—ã–ª–∏ –≤ –ß–∏–∫–∞–≥–æ –≤ 1830-—Ö –≥–æ–¥–∞—Ö –∏ —Å–∫–æ–ª–æ—Ç–∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∑–µ—Ä–Ω–∞. –î–∂—É–ª–∏–∞–Ω –±—ã–ª –∏–∑–±—Ä–∞–Ω –º—ç—Ä–æ–º –≤ 1861 –≥–æ–¥—É. –û–Ω–∏ –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ –∏–∑—è—â–Ω—ã–µ —Ä–µ–∑–∏–¥–µ–Ω—Ü–∏–∏ –Ω–∞ –•—å—é—Ä–æ–Ω-—Å—Ç—Ä–∏—Ç, –Ω–∞–ø—Ä–æ—Ç–∏–≤ —Ü–µ—Ä–∫–≤–∏ –°–≤—è—Ç–æ–≥–æ –ò–∞–∫–æ–≤–∞. –≠—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–∑–∞–≥–æ—Ä–æ–¥–Ω—ã–µ" –¥–æ–º–∞ –≤ —ç—Ç–æ–º —Ä–∞–π–æ–Ω–µ —Å –±–æ–ª—å—à–∏–º–∏ –¥–≤–æ—Ä–∞–º–∏ –∏ —Å–∞–¥–∞–º–∏.',
            it: 'I fratelli George F. e Julian S. Rumsey arrivarono a Chicago negli anni 1830 e fecero fortuna nello stoccaggio di grano. Julian fu eletto sindaco nel 1861. Costruirono graziose residenze su Huron Street, di fronte alla Chiesa Episcopale di St. James. Quest\'immagine mostra le case "di campagna" nella zona, con grandi cortili e giardini.'
          }
        },
        after: {
          img: 'images/before after/compare-2-after.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'George F. Rumsey Home after the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Yangƒ±n Sonrasƒ± George F. Rumsey Evi; P. B. Greene, Stereograf, 1871',
            ru: '–î–æ–º –î–∂–æ—Ä–¥–∂–∞ –§. –†–∞–º–∑–∏ –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Casa di George F. Rumsey dopo l\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'The Rumsey house, and a whole way of life among Old Settlers in the North Division, in devastation.',
            tr: 'Rumsey evi ve Kuzey B√∂l√ºm√º\'ndeki Eski Yerle≈üimciler arasƒ±nda bir ya≈üam tarzƒ±, yƒ±kƒ±m i√ßinde.',
            ru: '–î–æ–º –†–∞–º–∑–∏ –∏ —Ü–µ–ª—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ —Å—Ä–µ–¥–∏ —Å—Ç–∞—Ä—ã—Ö –ø–æ—Å–µ–ª–µ–Ω—Ü–µ–≤ –≤ –°–µ–≤–µ—Ä–Ω–æ–º –æ–∫—Ä—É–≥–µ, –≤ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–∏.',
            it: 'La casa Rumsey e un intero modo di vita tra i vecchi coloni nella Divisione Nord, in devastazione.'
          }
        }
      },
      {
        before: {
          img: 'images/before after/compare-3-before.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'St. James Episcopal Church before the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Yangƒ±n √ñncesi St. James Episcopal Kilisesi; P. B. Greene, Stereograf, 1871',
            ru: '–ï–ø–∏—Å–∫–æ–ø–∞–ª—å–Ω–∞—è —Ü–µ—Ä–∫–æ–≤—å –°–≤—è—Ç–æ–≥–æ –ò–∞–∫–æ–≤–∞ –¥–æ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Chiesa Episcopale di St. James prima dell\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'St. James was one of the most important North Division churches for the Old Settler community. The congregation\'s first building was constructed in 1837 on land donated by Chicago pioneer John Kinzie. The church moved to its current location at Cass and Huron in 1857, though it was not fully completed until 1870. The architect was Edward Burling.',
            tr: 'St. James, Eski Yerle≈üimci topluluƒüu i√ßin Kuzey B√∂l√ºm√º\'ndeki en √∂nemli kiliselerden biriydi. Cemaatin ilk binasƒ±, Chicago √∂nc√ºs√º John Kinzie tarafƒ±ndan baƒüƒ±≈ülanan arazide 1837\'de in≈üa edildi. Kilise, 1857\'de Cass ve Huron\'daki mevcut konumuna ta≈üƒ±ndƒ±, ancak 1870\'e kadar tamamen tamamlanmadƒ±. Mimar Edward Burling\'di.',
            ru: '–°–≤—è—Ç–æ–π –ò–∞–∫–æ–≤ –±—ã–ª –æ–¥–Ω–æ–π –∏–∑ —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö —Ü–µ—Ä–∫–≤–µ–π –°–µ–≤–µ—Ä–Ω–æ–≥–æ –æ–∫—Ä—É–≥–∞ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å—Ç–∞—Ä—ã—Ö –ø–æ—Å–µ–ª–µ–Ω—Ü–µ–≤. –ü–µ—Ä–≤–æ–µ –∑–¥–∞–Ω–∏–µ –∫–æ–Ω–≥—Ä–µ–≥–∞—Ü–∏–∏ –±—ã–ª–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –≤ 1837 –≥–æ–¥—É –Ω–∞ –∑–µ–º–ª–µ, –ø–æ–¥–∞—Ä–µ–Ω–Ω–æ–π —á–∏–∫–∞–≥—Å–∫–∏–º –ø–∏–æ–Ω–µ—Ä–æ–º –î–∂–æ–Ω–æ–º –ö–∏–Ω–∑–∏. –¶–µ—Ä–∫–æ–≤—å –ø–µ—Ä–µ–µ—Ö–∞–ª–∞ –Ω–∞ —Å–≤–æ–µ –Ω—ã–Ω–µ—à–Ω–µ–µ –º–µ—Å—Ç–æ –Ω–∞ –ö–∞—Å—Å –∏ –•—å—é—Ä–æ–Ω –≤ 1857 –≥–æ–¥—É, —Ö–æ—Ç—è –Ω–µ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –¥–æ 1870 –≥–æ–¥–∞. –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º –±—ã–ª –≠–¥–≤–∞—Ä–¥ –ë–µ—Ä–ª–∏–Ω–≥.',
            it: 'St. James era una delle chiese pi√π importanti della Divisione Nord per la comunit√† dei vecchi coloni. Il primo edificio della congregazione fu costruito nel 1837 su un terreno donato dal pioniere di Chicago John Kinzie. La chiesa si trasfer√¨ nella sua posizione attuale a Cass e Huron nel 1857, sebbene non fosse completamente completata fino al 1870. L\'architetto era Edward Burling.'
          }
        },
        after: {
          img: 'images/before after/compare-3-after.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'St. James Episcopal Church after the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Yangƒ±n Sonrasƒ± St. James Episcopal Kilisesi; P. B. Greene, Stereograf, 1871',
            ru: '–ï–ø–∏—Å–∫–æ–ø–∞–ª—å–Ω–∞—è —Ü–µ—Ä–∫–æ–≤—å –°–≤—è—Ç–æ–≥–æ –ò–∞–∫–æ–≤–∞ –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Chiesa Episcopale di St. James dopo l\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'The gutted church building. The 135-foot bell tower seems relatively unharmed in comparison to the rest of the structure.',
            tr: 'ƒ∞√ßi bo≈üaltƒ±lmƒ±≈ü kilise binasƒ±. 135 fitlik √ßan kulesi, yapƒ±nƒ±n geri kalanƒ±na kƒ±yasla nispeten zarar g√∂rmemi≈ü g√∂r√ºn√ºyor.',
            ru: '–í—ã–≥–æ—Ä–µ–≤—à–µ–µ –∑–¥–∞–Ω–∏–µ —Ü–µ—Ä–∫–≤–∏. 135-—Ñ—É—Ç–æ–≤–∞—è –∫–æ–ª–æ–∫–æ–ª—å–Ω—è –∫–∞–∂–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–≤—Ä–µ–¥–∏–º–æ–π –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ—Å—Ç–∞–ª—å–Ω–æ–π —á–∞—Å—Ç—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.',
            it: 'L\'edificio della chiesa svuotato. Il campanile di 135 piedi sembra relativamente illeso rispetto al resto della struttura.'
          }
        }
      },
      {
        before: {
          img: 'images/before after/compare-4-before.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'The Post Office and Custom House before the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Yangƒ±n √ñncesi Postane ve G√ºmr√ºk Evi; P. B. Greene, Stereograf, 1871',
            ru: '–ü–æ—á—Ç–æ–≤–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –∏ –¢–∞–º–æ–∂–Ω—è –¥–æ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Ufficio Postale e Dogana prima dell\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'These two important federal offices were consolidated in this building, which was constructed in the mid-1850s.',
            tr: 'Bu iki √∂nemli federal ofis, 1850\'lerin ortalarƒ±nda in≈üa edilen bu binada birle≈ütirildi.',
            ru: '–≠—Ç–∏ –¥–≤–∞ –≤–∞–∂–Ω—ã—Ö —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –æ—Ñ–∏—Å–∞ –±—ã–ª–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ —ç—Ç–æ–º –∑–¥–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1850-—Ö –≥–æ–¥–æ–≤.',
            it: 'Questi due importanti uffici federali furono consolidati in questo edificio, che fu costruito a met√† degli anni 1850.'
          }
        },
        after: {
          img: 'images/before after/compare-4-after.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'Post Office and Custom House after the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Yangƒ±n Sonrasƒ± Postane ve G√ºmr√ºk Evi; P. B. Greene, Stereograf, 1871',
            ru: '–ü–æ—á—Ç–æ–≤–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –∏ –¢–∞–º–æ–∂–Ω—è –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Ufficio Postale e Dogana dopo l\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'Francis William Test wrote that this building was considered fireproof, but a failing wall burst through the north windows. In less than five minutes, the first floor was in flames. The fire spread through wooden flooring that connected the floors, quickly consuming the interior despite iron shutters and doors.',
            tr: 'Francis William Test, bu binanƒ±n yangƒ±na dayanƒ±klƒ± olduƒüu d√º≈ü√ºn√ºlse de, √ß√∂ken bir duvarƒ±n kuzey pencerelerini patlattƒ±ƒüƒ±nƒ± yazdƒ±. Be≈ü dakikadan az bir s√ºre i√ßinde birinci kat alevler i√ßindeydi. Ate≈ü, katlarƒ± birbirine baƒülayan ah≈üap d√∂≈üemeden yayƒ±ldƒ± ve demir panjurlar ve kapƒ±lara raƒümen i√ßeriyi hƒ±zla t√ºketti.',
            ru: '–§—Ä—ç–Ω—Å–∏—Å –£–∏–ª—å—è–º –¢–µ—Å—Ç –ø–∏—Å–∞–ª, —á—Ç–æ —ç—Ç–æ –∑–¥–∞–Ω–∏–µ —Å—á–∏—Ç–∞–ª–æ—Å—å –æ–≥–Ω–µ—Å—Ç–æ–π–∫–∏–º, –Ω–æ –ø–∞–¥–∞—é—â–∞—è —Å—Ç–µ–Ω–∞ –ø—Ä–æ–±–∏–ª–∞ —Å–µ–≤–µ—Ä–Ω—ã–µ –æ–∫–Ω–∞. –ú–µ–Ω–µ–µ —á–µ–º –∑–∞ –ø—è—Ç—å –º–∏–Ω—É—Ç –ø–µ—Ä–≤—ã–π —ç—Ç–∞–∂ –±—ã–ª –≤ –æ–≥–Ω–µ. –ü–æ–∂–∞—Ä —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª—Å—è —á–µ—Ä–µ–∑ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–π –ø–æ–ª, —Å–æ–µ–¥–∏–Ω—è–≤—à–∏–π —ç—Ç–∞–∂–∏, –±—ã—Å—Ç—Ä–æ —É–Ω–∏—á—Ç–æ–∂–∏–≤ –∏–Ω—Ç–µ—Ä—å–µ—Ä, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∂–µ–ª–µ–∑–Ω—ã–µ —Å—Ç–∞–≤–Ω–∏ –∏ –¥–≤–µ—Ä–∏.',
            it: 'Francis William Test scrisse che questo edificio era considerato ignifugo, ma un muro che cedeva scoppi√≤ attraverso le finestre nord. In meno di cinque minuti, il primo piano era in fiamme. Il fuoco si diffuse attraverso il pavimento di legno che collegava i piani, consumando rapidamente l\'interno nonostante le persiane e le porte di ferro.'
          }
        }
      },
      {
        before: {
          img: 'images/before after/compare-5-before.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'View of Booksellers\' Row before the Fire; Lovejoy & Foster, Stereograph, ca. 1871',
            tr: 'Yangƒ±n √ñncesi Kitaplar√ßƒ±lar Sokaƒüƒ± G√∂r√ºn√ºm√º; Lovejoy & Foster, Stereograf, yak. 1871',
            ru: '–í–∏–¥ –Ω–∞ –ö–Ω–∏–∂–Ω—É—é —É–ª–∏—Ü—É –¥–æ –ø–æ–∂–∞—Ä–∞; Lovejoy & Foster, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, –æ–∫. 1871',
            it: 'Vista di Booksellers\' Row prima dell\'Incendio; Lovejoy & Foster, Stereografo, ca. 1871'
          },
          desc: {
            en: 'This five-story marble-front building, on the east side of State Street just north of Madison, was one of the major retail structures erected as part of the shift during the late 1860s of Chicago\'s upscale retail shopping area from Lake Street to State.',
            tr: 'Madison\'ƒ±n hemen kuzeyinde State Street\'in doƒüu tarafƒ±ndaki bu be≈ü katlƒ± mermer cepheli bina, 1860\'larƒ±n sonlarƒ±nda Chicago\'nun l√ºks perakende alƒ±≈üveri≈ü b√∂lgesinin Lake Street\'ten State\'e kaymasƒ±nƒ±n bir par√ßasƒ± olarak in≈üa edilen ba≈ülƒ±ca perakende yapƒ±larƒ±ndan biriydi.',
            ru: '–≠—Ç–æ –ø—è—Ç–∏—ç—Ç–∞–∂–Ω–æ–µ –∑–¥–∞–Ω–∏–µ —Å –º—Ä–∞–º–æ—Ä–Ω—ã–º —Ñ–∞—Å–∞–¥–æ–º –Ω–∞ –≤–æ—Å—Ç–æ—á–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –°—Ç–µ–π—Ç-—Å—Ç—Ä–∏—Ç, –∫ —Å–µ–≤–µ—Ä—É –æ—Ç –ú—ç–¥–∏—Å–æ–Ω, –±—ã–ª–æ –æ–¥–Ω–æ–π –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, –≤–æ–∑–≤–µ–¥–µ–Ω–Ω—ã—Ö –∫–∞–∫ —á–∞—Å—Ç—å —Å–¥–≤–∏–≥–∞ –≤ –∫–æ–Ω—Ü–µ 1860-—Ö –≥–æ–¥–æ–≤ —ç–ª–∏—Ç–Ω–æ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –ß–∏–∫–∞–≥–æ —Å –õ–µ–π–∫-—Å—Ç—Ä–∏—Ç –Ω–∞ –°—Ç–µ–π—Ç.',
            it: 'Questo edificio di cinque piani con facciata in marmo, sul lato est di State Street appena a nord di Madison, era una delle principali strutture commerciali erette come parte dello spostamento alla fine degli anni 1860 dell\'area commerciale di lusso di Chicago da Lake Street a State.'
          }
        },
        after: {
          img: 'images/before after/compare-5-after.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'Booksellers\' Row after the Chicago Fire; Lovejoy & Foster, Stereograph, 1871',
            tr: 'Chicago Yangƒ±nƒ± Sonrasƒ± Kitaplar√ßƒ±lar Sokaƒüƒ±; Lovejoy & Foster, Stereograf, 1871',
            ru: '–ö–Ω–∏–∂–Ω–∞—è —É–ª–∏—Ü–∞ –ø–æ—Å–ª–µ –í–µ–ª–∏–∫–æ–≥–æ —á–∏–∫–∞–≥—Å–∫–æ–≥–æ –ø–æ–∂–∞—Ä–∞; Lovejoy & Foster, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Booksellers\' Row dopo il Grande Incendio di Chicago; Lovejoy & Foster, Stereografo, 1871'
          },
          desc: {
            en: 'The loss of Booksellers\' Row was one of the much-mourned blows to Chicago\'s intellectual and cultural life suffered as a result of the fire.',
            tr: 'Kitaplar√ßƒ±lar Sokaƒüƒ±\'nƒ±n kaybƒ±, yangƒ±nƒ±n bir sonucu olarak Chicago\'nun entelekt√ºel ve k√ºlt√ºrel ya≈üamƒ±na verilen √ßok yas tutulan darbelerden biriydi.',
            ru: '–ü–æ—Ç–µ—Ä—è –ö–Ω–∏–∂–Ω–æ–π —É–ª–∏—Ü—ã –±—ã–ª–∞ –æ–¥–Ω–∏–º –∏–∑ –≥–ª—É–±–æ–∫–æ –æ–ø–ª–∞–∫–∏–≤–∞–µ–º—ã—Ö —É–¥–∞—Ä–æ–≤ –ø–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –∏ –∫—É–ª—å—Ç—É—Ä–Ω–æ–π –∂–∏–∑–Ω–∏ –ß–∏–∫–∞–≥–æ, –ø–æ–Ω–µ—Å–µ–Ω–Ω—ã—Ö –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–∂–∞—Ä–∞.',
            it: 'La perdita di Booksellers\' Row fu uno dei colpi molto rimpianti alla vita intellettuale e culturale di Chicago subiti a causa dell\'incendio.'
          }
        }
      },
      {
        before: {
          img: 'images/before after/compare-6-before.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'The Palmer House before the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Yangƒ±n √ñncesi Palmer House; P. B. Greene, Stereograf, 1871',
            ru: '–û—Ç–µ–ª—å –ü–∞–ª–º–µ—Ä –¥–æ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Palmer House prima dell\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'The first Palmer house was located on the northwest corner of State and Quincy streets. This was a four-story building designed by John M. Van Osdel, who had previously lived in a home on the same site. Pictured here is the second Palmer House, which opened a few blocks north, on the southeast corner of State and Monroe, in March of 1871.',
            tr: 'ƒ∞lk Palmer House, State ve Quincy caddelerinin kuzeybatƒ± k√∂≈üesinde yer alƒ±yordu. Bu, daha √∂nce aynƒ± yerde bir evde ya≈üamƒ±≈ü olan John M. Van Osdel tarafƒ±ndan tasarlanan d√∂rt katlƒ± bir binaydƒ±. Burada g√∂r√ºnt√ºlenen, Mart 1871\'de birka√ß blok kuzeyde, State ve Monroe\'nun g√ºneydoƒüu k√∂≈üesinde a√ßƒ±lan ikinci Palmer House\'dur.',
            ru: '–ü–µ—Ä–≤—ã–π –æ—Ç–µ–ª—å –ü–∞–ª–º–µ—Ä —Ä–∞—Å–ø–æ–ª–∞–≥–∞–ª—Å—è –Ω–∞ —Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–Ω–æ–º —É–≥–ª—É –°—Ç–µ–π—Ç –∏ –ö—É–∏–Ω—Å–∏-—Å—Ç—Ä–∏—Ç. –≠—Ç–æ –±—ã–ª–æ —á–µ—Ç—ã—Ä–µ—Ö—ç—Ç–∞–∂–Ω–æ–µ –∑–¥–∞–Ω–∏–µ, —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –î–∂–æ–Ω–æ–º –ú. –í–∞–Ω –û—Å–¥–µ–ª–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–Ω–µ–µ –∂–∏–ª –≤ –¥–æ–º–µ –Ω–∞ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ. –ó–¥–µ—Å—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω –≤—Ç–æ—Ä–æ–π –æ—Ç–µ–ª—å –ü–∞–ª–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–ª—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–≤–∞—Ä—Ç–∞–ª–∞–º–∏ —Å–µ–≤–µ—Ä–Ω–µ–µ, –Ω–∞ —é–≥–æ-–≤–æ—Å—Ç–æ—á–Ω–æ–º —É–≥–ª—É –°—Ç–µ–π—Ç –∏ –ú–æ–Ω—Ä–æ, –≤ –º–∞—Ä—Ç–µ 1871 –≥–æ–¥–∞.',
            it: 'Il primo Palmer House si trovava all\'angolo nord-ovest di State e Quincy streets. Questo era un edificio di quattro piani progettato da John M. Van Osdel, che aveva precedentemente vissuto in una casa sullo stesso sito. Qui raffigurato √® il secondo Palmer House, che apr√¨ alcuni isolati a nord, all\'angolo sud-est di State e Monroe, nel marzo del 1871.'
          }
        },
        after: {
          img: 'images/before after/compare-6-after.jpg',
          source: 'https://greatchicagofire.org/',
          title: {
            en: 'The Palmer House after the Fire; P. B. Greene, Stereograph, 1871',
            tr: 'Yangƒ±n Sonrasƒ± Palmer House; P. B. Greene, Stereograf, 1871',
            ru: '–û—Ç–µ–ª—å –ü–∞–ª–º–µ—Ä –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞; P. B. Greene, –°—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Palmer House dopo l\'Incendio; P. B. Greene, Stereografo, 1871'
          },
          desc: {
            en: 'The second Palmer House operated for only six months before being leveled by the fire. To protect his plans and records, architect John Van Osdel reportedly buried them in a basement pit covered with sand and clay. Their survival helped lead to the use of clay tile in fireproofing.',
            tr: 'ƒ∞kinci Palmer House, yangƒ±n tarafƒ±ndan yƒ±kƒ±lmadan √∂nce sadece altƒ± ay i≈ü yaptƒ±. Mimar John Van Osdel\'in planlarƒ±nƒ± ve kayƒ±tlarƒ±nƒ± korumak i√ßin, bunlarƒ± kum ve kil ile kaplƒ± bir bodrum √ßukuruna g√∂md√ºƒü√º bildirildi. Hayatta kalmalarƒ±, yangƒ±na dayanƒ±klƒ±lƒ±kta kil kiremit kullanƒ±mƒ±na yol a√ßmaya yardƒ±mcƒ± oldu.',
            ru: '–í—Ç–æ—Ä–æ–π –æ—Ç–µ–ª—å –ü–∞–ª–º–µ—Ä —Ä–∞–±–æ—Ç–∞–ª –≤—Å–µ–≥–æ —à–µ—Å—Ç—å –º–µ—Å—è—Ü–µ–≤, –ø—Ä–µ–∂–¥–µ —á–µ–º –±—ã–ª —Å—Ä–æ–≤–Ω–µ–Ω —Å –∑–µ–º–ª–µ–π –ø–æ–∂–∞—Ä–æ–º. –ß—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Å–≤–æ–∏ –ø–ª–∞–Ω—ã –∏ –∑–∞–ø–∏—Å–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –î–∂–æ–Ω –í–∞–Ω –û—Å–¥–µ–ª, –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º, –∑–∞–∫–æ–ø–∞–ª –∏—Ö –≤ –ø–æ–¥–≤–∞–ª—å–Ω—É—é —è–º—É, –ø–æ–∫—Ä—ã—Ç—É—é –ø–µ—Å–∫–æ–º –∏ –≥–ª–∏–Ω–æ–π. –ò—Ö –≤—ã–∂–∏–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–ª–æ –ø—Ä–æ–ª–æ–∂–∏—Ç—å –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≥–ª–∏–Ω—è–Ω–æ–π –ø–ª–∏—Ç–∫–∏ –≤ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–µ.',
            it: 'Il secondo Palmer House fece affari per soli sei mesi prima di essere raso al suolo dall\'incendio. Per proteggere i suoi piani e documenti, l\'architetto John Van Osdel li seppell√¨ presumibilmente in una fossa del seminterrato coperta di sabbia e argilla. La loro sopravvivenza aiut√≤ a spianare la strada all\'uso di piastrelle di argilla nella protezione antincendio.'
          }
        }
      }
    ];
    
    let currentIndex = 0;
    const lang = () => document.documentElement.getAttribute('data-lang') || 'en';
    
    function updateComparison(index) {
      if(index < 0 || index >= comparisons.length) return;
      currentIndex = index;
      const comp = comparisons[index];
      
      // Update images with fixed sizing to prevent zoom
      // Set styles before loading to prevent resize
      beforeImg.style.width = '100%';
      beforeImg.style.height = '100%';
      beforeImg.style.maxWidth = '100%';
      beforeImg.style.maxHeight = '100%';
      beforeImg.style.objectFit = 'contain';
      beforeImg.style.objectPosition = 'center';
      beforeImg.style.transform = 'none';
      beforeImg.style.scale = '1';
      beforeImg.style.position = 'absolute';
      beforeImg.style.top = '0';
      beforeImg.style.left = '0';
      beforeImg.style.right = '0';
      beforeImg.style.bottom = '0';
      beforeImg.style.filter = 'drop-shadow(2px 0 8px rgba(0,0,0,0.3))';
      
      afterImg.style.width = '100%';
      afterImg.style.height = '100%';
      afterImg.style.maxWidth = '100%';
      afterImg.style.maxHeight = '100%';
      afterImg.style.objectFit = 'contain';
      afterImg.style.objectPosition = 'center';
      afterImg.style.background = '#1a1a1a';
      afterImg.style.transform = 'none';
      afterImg.style.scale = '1';
      afterImg.style.position = 'absolute';
      afterImg.style.top = '0';
      afterImg.style.left = '0';
      
      // Load images
      beforeImg.src = comp.before.img;
      afterImg.src = comp.after.img;
      
      // Ensure images stay fixed after load
      beforeImg.onload = function() {
        this.style.width = '100%';
        this.style.height = '100%';
        this.style.objectFit = 'contain';
        this.style.objectPosition = 'center';
        this.style.transform = 'none';
        this.style.scale = '1';
        this.style.filter = 'drop-shadow(2px 0 8px rgba(0,0,0,0.3))';
      };
      afterImg.onload = function() {
        this.style.width = '100%';
        this.style.height = '100%';
        this.style.objectFit = 'contain';
        this.style.objectPosition = 'center';
        this.style.transform = 'none';
        this.style.scale = '1';
        this.style.background = '#1a1a1a';
      };
      
      // Update titles
      const l = lang();
      const beforeTitleText = comp.before.title ? (comp.before.title[l] || comp.before.title['en'] || '') : '';
      const afterTitleText = comp.after.title ? (comp.after.title[l] || comp.after.title['en'] || '') : '';
      beforeTitle.textContent = beforeTitleText;
      afterTitle.textContent = afterTitleText;
      beforeTitle.style.display = beforeTitleText ? 'block' : 'none';
      afterTitle.style.display = afterTitleText ? 'block' : 'none';
      
      // Update descriptions
      const beforeText = comp.before.desc[l] || comp.before.desc['en'] || '';
      const afterText = comp.after.desc[l] || comp.after.desc['en'] || '';
      
      // Clear existing spans and add new text
      beforeDesc.innerHTML = '';
      afterDesc.innerHTML = '';
      const beforeSpan = document.createElement('span');
      const afterSpan = document.createElement('span');
      beforeSpan.textContent = beforeText;
      afterSpan.textContent = afterText;
      beforeDesc.appendChild(beforeSpan);
      afterDesc.appendChild(afterSpan);
      
      // Update sources (at the end) - set as links
      if (comp.before.source) {
        beforeSource.href = comp.before.source;
      }
      if (comp.after.source) {
        afterSource.href = comp.after.source;
      }
      
      // Update counter
      counter.textContent = `${index + 1} / ${comparisons.length}`;
      
      // Update button states
      prevBtn.disabled = index === 0;
      nextBtn.disabled = index === comparisons.length - 1;
      
      // Update button styles for disabled state
      if(prevBtn.disabled) {
        prevBtn.style.opacity = '0.5';
        prevBtn.style.cursor = 'not-allowed';
        prevBtn.style.background = 'rgba(251,86,7,0.1)';
        prevBtn.style.borderColor = 'rgba(251,86,7,0.2)';
      } else {
        prevBtn.style.opacity = '1';
        prevBtn.style.cursor = 'pointer';
        prevBtn.style.background = 'linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))';
        prevBtn.style.borderColor = 'rgba(251,86,7,0.5)';
      }
      
      if(nextBtn.disabled) {
        nextBtn.style.opacity = '0.5';
        nextBtn.style.cursor = 'not-allowed';
        nextBtn.style.background = 'rgba(251,86,7,0.1)';
        nextBtn.style.borderColor = 'rgba(251,86,7,0.2)';
      } else {
        nextBtn.style.opacity = '1';
        nextBtn.style.cursor = 'pointer';
        nextBtn.style.background = 'linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))';
        nextBtn.style.borderColor = 'rgba(251,86,7,0.5)';
      }
      
      // Reset slider to center
      after.style.clipPath = 'inset(0 50% 0 0)';
      after.style.background = '#1a1a1a';
      handle.style.left = '50%';
      handle.style.display = 'block';
      handle.style.visibility = 'visible';
      handle.style.opacity = '1';
    }
    
    // Navigation
    prevBtn.addEventListener('click', () => {
      if(!prevBtn.disabled && currentIndex > 0) updateComparison(currentIndex - 1);
    });
    nextBtn.addEventListener('click', () => {
      if(!nextBtn.disabled && currentIndex < comparisons.length - 1) updateComparison(currentIndex + 1);
    });
    
    // Slider functionality - use clip-path instead of width to prevent image resize
    function setX(px){
      const r=img.getBoundingClientRect();
      const c=Math.max(0,Math.min(px-r.left,r.width));
      const pct=c/r.width*100;
      // Clamp percentage to keep handle visible (0.5% margin on each side)
      const clampedPct = Math.max(0.5, Math.min(99.5, pct));
      // Use clip-path instead of width to prevent before image from resizing
      after.style.clipPath=`inset(0 ${100-clampedPct}% 0 0)`;
      // Ensure after div covers the background completely
      after.style.background = '#1a1a1a';
      handle.style.left=clampedPct+'%';
      handle.style.display='block';
      handle.style.visibility='visible';
      handle.style.opacity='1';
    }
    // Only allow slider movement when handle is being dragged
    let isDragging = false;
    function onDown(e){
      e.preventDefault();
      e.stopPropagation();
      isDragging = true;
      document.addEventListener('mousemove',onMove);
      document.addEventListener('touchmove',onMove,{passive:false});
    }
    function onUp(e){
      e.preventDefault();
      e.stopPropagation();
      isDragging = false;
      document.removeEventListener('mousemove',onMove);
      document.removeEventListener('touchmove',onMove);
    }
    function onMove(e){ 
      if(!isDragging) return;
      e.preventDefault();
      e.stopPropagation();
      if(e.buttons!==1 && e.type==='mousemove') return; 
      setX(e.touches?e.touches[0].clientX:e.clientX); 
    }
    handle.addEventListener('mousedown',onDown);
    handle.addEventListener('touchstart',onDown,{passive:false});
    document.addEventListener('mouseup',onUp);
    document.addEventListener('touchend',onUp);
    
    // Initialize
    updateComparison(0);
    
    // Update on language change
    const langObserver = new MutationObserver(() => {
      updateComparison(currentIndex);
    });
    langObserver.observe(document.documentElement, { 
      attributes: true, 
      attributeFilter: ['data-lang'] 
    });
  })();

  // Slider with Multiple Comparisons for sc4 (Ruin Cult to Industrial Hope)
  (function(){
    const root=document.getElementById('compare4'); if(!root) return;
    const after=root.querySelector('.after'), handle=root.querySelector('.handle'), img=root.querySelector('.img');
    const beforeImg=document.getElementById('compare4BeforeImg'), afterImg=document.getElementById('compare4AfterImg');
    const beforeSource=document.getElementById('compare4BeforeSource'), afterSource=document.getElementById('compare4AfterSource');
    const beforeDesc=document.getElementById('compare4BeforeDesc'), afterDesc=document.getElementById('compare4AfterDesc');
    const beforeTitle=document.getElementById('compare4BeforeTitle'), afterTitle=document.getElementById('compare4AfterTitle');
    const prevBtn=document.getElementById('compare4Prev'), nextBtn=document.getElementById('compare4Next');
    const counter=document.getElementById('compare4Counter');
    
    // Comparison data - 2 comparisons (4 photos total)
    const comparisons = [
      {
        before: {
          img: 'images/before after/hope/comparison1-after.jpg',
          source: 'https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141',
          title: {
            en: 'Chicago Waterworks after the Fire; from a Stereograph, 1871',
            tr: 'Yangƒ±n Sonrasƒ± Chicago Su ƒ∞≈üleri; Stereograf, 1871',
            ru: '–ß–∏–∫–∞–≥—Å–∫–∏–µ –≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥–Ω—ã–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞; —Å—Ç–µ—Ä–µ–æ–≥—Ä–∞—Ñ, 1871',
            it: 'Acquedotto di Chicago dopo l\'Incendio; da uno Stereografo, 1871'
          },
          desc: {
            en: '',
            tr: '',
            ru: '',
            it: ''
          }
        },
        after: {
          img: 'images/before after/hope/comparison1-before.jpg',
          source: 'https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141',
          title: {
            en: 'The Water Tower; Kaufman & Fabry, Photograph, 1929',
            tr: 'Su Kulesi; Kaufman & Fabry, Fotoƒüraf, 1929',
            ru: '–í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–∞—è –±–∞—à–Ω—è; Kaufman & Fabry, –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è, 1929',
            it: 'La Water Tower; Kaufman & Fabry, Fotografia, 1929'
          },
          desc: {
            en: '',
            tr: '',
            ru: '',
            it: ''
          }
        }
      },
      {
        before: {
          img: 'images/before after/hope/comparison2-after.jpg',
          source: 'https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141',
          title: {
            en: 'From Water Tank to The Rookery (1888): the same LaSalle‚ÄìAdams corner',
            tr: 'Su Tankƒ±ndan Rookery\'ye (1888): Aynƒ± LaSalle‚ÄìAdams K√∂≈üesi',
            ru: '–û—Ç –≤–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–æ–π –±–∞—à–Ω–∏ –∫ Rookery (1888): —Ç–æ—Ç –∂–µ —É–≥–æ–ª LaSalle‚ÄìAdams',
            it: 'Dalla Water Tank al Rookery (1888): lo stesso angolo LaSalle‚ÄìAdams'
          },
          desc: {
            en: '',
            tr: '',
            ru: '',
            it: ''
          }
        },
        after: {
          img: 'images/before after/hope/comparison2-before.jpg',
          source: 'https://www.britannica.com/video/discussion-city-rebuilding-construction-Chicago-fire-Rookery-1871/-212141',
          title: {
            en: 'Rookery Building (1888) ‚Äî symbol of rebirth from ashes. First fireproof terracotta building in Chicago\'s new fire zone.',
            tr: 'Rookery Binasƒ± (1888) ‚Äî k√ºllerden yeniden doƒüu≈üun sembol√º. Chicago\'nun yeni yangƒ±n b√∂lgesindeki ilk terrakota yangƒ±n dayanƒ±klƒ± bina.',
            ru: '–ó–¥–∞–Ω–∏–µ Rookery (1888) ‚Äî —Å–∏–º–≤–æ–ª –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è –∏–∑ –ø–µ–ø–ª–∞. –ü–µ—Ä–≤–æ–µ –æ–≥–Ω–µ—Å—Ç–æ–π–∫–æ–µ –∑–¥–∞–Ω–∏–µ –∏–∑ —Ç–µ—Ä—Ä–∞–∫–æ—Ç—ã –≤ –Ω–æ–≤–æ–π –ø–æ–∂–∞—Ä–Ω–æ–π –∑–æ–Ω–µ –ß–∏–∫–∞–≥–æ.',
            it: 'Rookery Building (1888) ‚Äî simbolo di rinascita dalle ceneri. Primo edificio ignifugo in terracotta nella nuova zona antincendio di Chicago.'
          },
          desc: {
            en: '',
            tr: '',
            ru: '',
            it: ''
          }
        }
      }
    ];
    
    let currentIndex = 0;
    const lang = () => document.documentElement.getAttribute('data-lang') || 'en';
    
    function updateComparison(index) {
      if(index < 0 || index >= comparisons.length) return;
      currentIndex = index;
      const comp = comparisons[index];
      
      // Update images with fixed sizing to prevent zoom
      // Set styles before loading to prevent resize
      beforeImg.style.width = '100%';
      beforeImg.style.height = '100%';
      beforeImg.style.maxWidth = '100%';
      beforeImg.style.maxHeight = '100%';
      beforeImg.style.objectFit = 'contain';
      beforeImg.style.objectPosition = 'center';
      beforeImg.style.transform = 'none';
      beforeImg.style.scale = '1';
      beforeImg.style.position = 'absolute';
      beforeImg.style.top = '0';
      beforeImg.style.left = '0';
      beforeImg.style.right = '0';
      beforeImg.style.bottom = '0';
      beforeImg.style.filter = 'drop-shadow(2px 0 8px rgba(0,0,0,0.3))';
      
      afterImg.style.width = '100%';
      afterImg.style.height = '100%';
      afterImg.style.maxWidth = '100%';
      afterImg.style.maxHeight = '100%';
      afterImg.style.objectFit = 'contain';
      afterImg.style.objectPosition = 'center';
      afterImg.style.background = '#1a1a1a';
      afterImg.style.transform = 'none';
      afterImg.style.scale = '1';
      afterImg.style.position = 'absolute';
      afterImg.style.top = '0';
      afterImg.style.left = '0';
      
      // Load images
      beforeImg.src = comp.before.img;
      afterImg.src = comp.after.img;
      
      // Ensure images stay fixed after load
      beforeImg.onload = function() {
        this.style.width = '100%';
        this.style.height = '100%';
        this.style.objectFit = 'contain';
        this.style.objectPosition = 'center';
        this.style.transform = 'none';
        this.style.scale = '1';
        this.style.filter = 'drop-shadow(2px 0 8px rgba(0,0,0,0.3))';
      };
      afterImg.onload = function() {
        this.style.width = '100%';
        this.style.height = '100%';
        this.style.objectFit = 'contain';
        this.style.objectPosition = 'center';
        this.style.transform = 'none';
        this.style.scale = '1';
        this.style.background = '#1a1a1a';
      };
      
      // Update titles
      const l = lang();
      const beforeTitleText = comp.before.title ? (comp.before.title[l] || comp.before.title['en'] || '') : '';
      const afterTitleText = comp.after.title ? (comp.after.title[l] || comp.after.title['en'] || '') : '';
      beforeTitle.textContent = beforeTitleText;
      afterTitle.textContent = afterTitleText;
      beforeTitle.style.display = beforeTitleText ? 'block' : 'none';
      afterTitle.style.display = afterTitleText ? 'block' : 'none';
      
      // Update descriptions
      const beforeText = comp.before.desc[l] || comp.before.desc['en'] || '';
      const afterText = comp.after.desc[l] || comp.after.desc['en'] || '';
      
      // Clear existing spans and add new text
      beforeDesc.innerHTML = '';
      afterDesc.innerHTML = '';
      const beforeSpan = document.createElement('span');
      const afterSpan = document.createElement('span');
      beforeSpan.textContent = beforeText;
      afterSpan.textContent = afterText;
      beforeDesc.appendChild(beforeSpan);
      afterDesc.appendChild(afterSpan);
      
      // Update sources (at the end) - set as links
      if (comp.before.source) {
        beforeSource.href = comp.before.source;
      }
      if (comp.after.source) {
        afterSource.href = comp.after.source;
      }
      
      // Update counter
      counter.textContent = `${index + 1} / ${comparisons.length}`;
      
      // Update button states
      prevBtn.disabled = index === 0;
      nextBtn.disabled = index === comparisons.length - 1;
      
      // Update button styles for disabled state
      if(prevBtn.disabled) {
        prevBtn.style.opacity = '0.5';
        prevBtn.style.cursor = 'not-allowed';
        prevBtn.style.background = 'rgba(251,86,7,0.1)';
        prevBtn.style.borderColor = 'rgba(251,86,7,0.2)';
      } else {
        prevBtn.style.opacity = '1';
        prevBtn.style.cursor = 'pointer';
        prevBtn.style.background = 'linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))';
        prevBtn.style.borderColor = 'rgba(251,86,7,0.5)';
      }
      
      if(nextBtn.disabled) {
        nextBtn.style.opacity = '0.5';
        nextBtn.style.cursor = 'not-allowed';
        nextBtn.style.background = 'rgba(251,86,7,0.1)';
        nextBtn.style.borderColor = 'rgba(251,86,7,0.2)';
      } else {
        nextBtn.style.opacity = '1';
        nextBtn.style.cursor = 'pointer';
        nextBtn.style.background = 'linear-gradient(135deg, rgba(251,86,7,0.2), rgba(251,86,7,0.1))';
        nextBtn.style.borderColor = 'rgba(251,86,7,0.5)';
      }
      
      // Reset slider to center
      after.style.clipPath = 'inset(0 50% 0 0)';
      after.style.background = '#1a1a1a';
      handle.style.left = '50%';
      handle.style.display = 'block';
      handle.style.visibility = 'visible';
      handle.style.opacity = '1';
    }
    
    // Navigation
    prevBtn.addEventListener('click', () => {
      if(!prevBtn.disabled && currentIndex > 0) updateComparison(currentIndex - 1);
    });
    nextBtn.addEventListener('click', () => {
      if(!nextBtn.disabled && currentIndex < comparisons.length - 1) updateComparison(currentIndex + 1);
    });
    
    // Slider functionality - use clip-path instead of width to prevent image resize
    function setX(px){
      const r=img.getBoundingClientRect();
      const c=Math.max(0,Math.min(px-r.left,r.width));
      const pct=c/r.width*100;
      // Clamp percentage to keep handle visible (0.5% margin on each side)
      const clampedPct = Math.max(0.5, Math.min(99.5, pct));
      // Use clip-path instead of width to prevent before image from resizing
      after.style.clipPath=`inset(0 ${100-clampedPct}% 0 0)`;
      // Ensure after div covers the background completely
      after.style.background = '#1a1a1a';
      handle.style.left=clampedPct+'%';
      handle.style.display='block';
      handle.style.visibility='visible';
      handle.style.opacity='1';
    }
    // Only allow slider movement when handle is being dragged
    let isDragging = false;
    function onDown(e){
      e.preventDefault();
      e.stopPropagation();
      isDragging = true;
      document.addEventListener('mousemove',onMove);
      document.addEventListener('touchmove',onMove,{passive:false});
    }
    function onUp(e){
      e.preventDefault();
      e.stopPropagation();
      isDragging = false;
      document.removeEventListener('mousemove',onMove);
      document.removeEventListener('touchmove',onMove);
    }
    function onMove(e){ 
      if(!isDragging) return;
      e.preventDefault();
      e.stopPropagation();
      if(e.buttons!==1 && e.type==='mousemove') return; 
      setX(e.touches?e.touches[0].clientX:e.clientX); 
    }
    handle.addEventListener('mousedown',onDown);
    handle.addEventListener('touchstart',onDown,{passive:false});
    document.addEventListener('mouseup',onUp);
    document.addEventListener('touchend',onUp);
    
    // Initialize
    updateComparison(0);
    
    // Update on language change
    const langObserver = new MutationObserver(() => {
      updateComparison(currentIndex);
    });
    langObserver.observe(document.documentElement, { 
      attributes: true, 
      attributeFilter: ['data-lang'] 
    });
  })();

  // üî• Smoke & sparks overlay
  (function(){
    const flamesCanvas=document.getElementById('flamesCanvas');
    const sparksCanvas=document.getElementById('sparksCanvas');
    const ashCanvas=document.getElementById('ashCanvas');
    const DPR = Math.min(2, window.devicePixelRatio || 1);
    let sw=innerWidth, sh=innerHeight;
    function resize(){sw=innerWidth; sh=innerHeight; [flamesCanvas,sparksCanvas,ashCanvas].forEach(cv=>{cv.width=sw*DPR; cv.height=sh*DPR; cv.style.width=sw+'px'; cv.style.height=sh+'px';});}
    resize(); addEventListener('resize', resize);
    const fctx=flamesCanvas.getContext('2d'); const pctx=sparksCanvas.getContext('2d'); const actx=ashCanvas.getContext('2d');
    fctx.globalCompositeOperation='lighter'; pctx.globalCompositeOperation='lighter'; actx.globalCompositeOperation='lighter';
    const FLAMES_COUNT = Math.floor(40 * (sw*sh/ (1280*720))); const flames=[];
    function makeFlame(){const x=Math.random()*sw; const y=sh+Math.random()*50; const w=80+Math.random()*200; const h=150+Math.random()*300; const vx=(Math.random()-0.5)*0.5; const vy=0.4+Math.random()*1.2; const life=150+Math.random()*250; const intensity=0.7+Math.random()*0.3; const flicker=Math.random()*Math.PI*2; const waveSpeed=0.02+Math.random()*0.03; return {x,y,w,h,vx,vy,life,intensity,flicker,waveSpeed,baseY:y,baseX:x};}
    for(let i=0;i<FLAMES_COUNT;i++) flames.push(makeFlame());
    const SPARKS_COUNT = Math.floor(30 * (sw*sh/ (1280*720))); const sparks=[];
    function makeSpark(){const x=sw*0.1+Math.random()*sw*0.8; const y=sh+Math.random()*80; const v=0.5+Math.random()*0.8; const a=-Math.PI/2+(Math.random()-0.5)*0.4; const vx=Math.cos(a)*v; const vy=Math.sin(a)*v; const life=200+Math.random()*300; const r=1.2+Math.random()*2.5; const hue=20+Math.random()*30; return {x,y,vx,vy,life,r,hue,trail:[],fade:1};}
    for(let i=0;i<SPARKS_COUNT;i++) sparks.push(makeSpark());
    const ASH_COUNT = Math.floor(80 * (sw*sh/ (1280*720))); const ash=[];
    function makeAsh(){const x=Math.random()*sw; const y=-10-Math.random()*200; const r=1+Math.random()*3; const vy=0.8+Math.random()*1.5; const vx=(Math.random()-0.5)*0.4; const life=300+Math.random()*400; const rot=Math.random()*Math.PI*2; const rotSpeed=(Math.random()-0.5)*0.02; return {x,y,r,vy,vx,life,rot,rotSpeed};}
    for(let i=0;i<ASH_COUNT;i++) ash.push(makeAsh());


    function step(){
      fctx.clearRect(0,0,sw*DPR,sh*DPR); fctx.save(); fctx.scale(DPR,DPR);
      for(const f of flames){
        f.flicker+=f.waveSpeed; f.x=f.baseX+(Math.sin(f.flicker*0.5)*5); f.y+=f.vy; f.life-=1;
        const wave1=Math.sin(f.flicker)*f.w*0.15; const wave2=Math.sin(f.flicker+Math.PI*0.5)*f.w*0.1; const wave3=Math.sin(f.flicker+Math.PI)*f.w*0.08;
        const alpha=Math.max(0,f.life/400)*f.intensity;
        fctx.beginPath();
        const gradient=fctx.createLinearGradient(f.x,f.y+f.h*0.7,f.x,f.y);
        gradient.addColorStop(0,`rgba(50,0,0,${alpha*0.4})`);
        gradient.addColorStop(0.2,`rgba(200,50,0,${alpha*0.9})`);
        gradient.addColorStop(0.4,`rgba(255,140,0,${alpha})`);
        gradient.addColorStop(0.6,`rgba(255,200,50,${alpha*0.95})`);
        gradient.addColorStop(0.8,`rgba(255,240,150,${alpha*0.7})`);
        gradient.addColorStop(1,`rgba(255,255,220,${alpha*0.3})`);
        fctx.fillStyle=gradient;
        fctx.moveTo(f.x-wave1*0.4,f.y+f.h*0.9);
        fctx.quadraticCurveTo(f.x+wave2*0.3,f.y+f.h*0.65,f.x+wave1*0.8,f.y+f.h*0.5);
        fctx.quadraticCurveTo(f.x+wave3,f.y+f.h*0.3,f.x+wave1*0.6,f.y+f.h*0.15);
        fctx.quadraticCurveTo(f.x+wave2*0.2,f.y+f.h*0.02,f.x-wave1*0.3,f.y);
        fctx.quadraticCurveTo(f.x-wave2*0.5,f.y+f.h*0.05,f.x-wave1*0.7,f.y+f.h*0.2);
        fctx.quadraticCurveTo(f.x-wave3*0.9,f.y+f.h*0.4,f.x-wave1*0.5,f.y+f.h*0.65);
        fctx.closePath(); fctx.fill();
        
        fctx.beginPath();
        const glowGradient=fctx.createRadialGradient(f.x,f.y+f.h*0.3,0,f.x,f.y+f.h*0.3,f.h*0.4);
        glowGradient.addColorStop(0,`rgba(255,200,100,${alpha*0.2})`);
        glowGradient.addColorStop(1,`rgba(255,100,0,0)`);
        fctx.fillStyle=glowGradient;
        fctx.arc(f.x,f.y+f.h*0.3,f.h*0.4,0,Math.PI*2);
        fctx.fill();
        
        if(f.life<=0||f.y<-f.h||f.x<-f.w*2||f.x>sw+f.w*2) Object.assign(f,makeFlame());
      }
      fctx.restore();
      pctx.clearRect(0,0,sw*DPR,sh*DPR); pctx.save(); pctx.scale(DPR,DPR);
      for(const sp of sparks){sp.x+=sp.vx; sp.y+=sp.vy; sp.vx*=0.998; sp.vy-=0.01; sp.life-=1; sp.fade*=(sp.life>50?1:0.98);
                  // Add to trail
          sp.trail.push({x:sp.x, y:sp.y, life:sp.life, fade:sp.fade});
          if(sp.trail.length > 15) sp.trail.shift();
        
        // Draw trail
        for(let i=0; i<sp.trail.length-1; i++){
          const t = sp.trail[i];
          const alpha = (t.life/500) * t.fade * 0.4;
          pctx.beginPath(); pctx.strokeStyle=`hsla(${sp.hue},100%,70%,${alpha})`; 
          pctx.lineWidth=Math.max(0.5, sp.r*0.4); pctx.moveTo(t.x,t.y); 
          if(i<sp.trail.length-1) pctx.lineTo(sp.trail[i+1].x, sp.trail[i+1].y);
          pctx.stroke();
        }
        
        // Draw spark
        const sparkAlpha = sp.fade * Math.max(0,sp.life/500);
        pctx.beginPath(); pctx.fillStyle=`hsla(${sp.hue},100%,70%,${sparkAlpha})`; 
        pctx.arc(sp.x,sp.y,sp.r,0,Math.PI*2); pctx.fill();
        
        // Glow effect
        pctx.beginPath(); pctx.fillStyle=`hsla(${sp.hue},100%,80%,${sparkAlpha*0.6})`; 
        pctx.arc(sp.x,sp.y,sp.r*0.6,0,Math.PI*2); pctx.fill();
        
        if(sp.life<=0||sp.y<-20||sp.x<-50||sp.x>sw+50) Object.assign(sp,makeSpark());
      } pctx.restore();
      actx.clearRect(0,0,sw*DPR,sh*DPR); actx.save(); actx.scale(DPR,DPR);
      for(const a of ash){
        a.x+=a.vx; a.y+=a.vy; a.rot+=a.rotSpeed; a.life-=1;
        const alpha=Math.max(0,a.life/700)*0.4;
        actx.save(); actx.translate(a.x,a.y); actx.rotate(a.rot);
        actx.beginPath(); actx.fillStyle=`rgba(200,200,200,${alpha})`;
        actx.ellipse(0,0,a.r,a.r*0.6,0,0,Math.PI*2);
        actx.fill(); actx.restore();
        if(a.y>sh+a.r||a.x<-100||a.x>sw+100||a.life<=0) Object.assign(a,makeAsh());
      } actx.restore(); requestAnimationFrame(step);
    } step();
  })();

  // üé¨ Timeline Animation Controller
  (function(){
    const timelineVideo = document.getElementById('timelineAnimation');
    if(!timelineVideo) return;
    
    const timelineSection = document.getElementById('timeline-animation');
    if(!timelineSection) return;
    
    const timelineContainer = document.getElementById('timelineAnimationContainer');
    if(!timelineContainer) return;
    
    let isTimelineVisible = false;
    let observer;
    
    function adjustContainerSize(){
      if(timelineVideo.videoWidth && timelineVideo.videoHeight){
        const videoAspect = timelineVideo.videoWidth / timelineVideo.videoHeight;
        const containerWidth = timelineContainer.offsetWidth;
        
        // Calculate optimal height based on video aspect ratio
        const optimalHeight = Math.min(containerWidth / videoAspect, window.innerHeight * 0.6);
        
        timelineContainer.style.height = optimalHeight + 'px';
        console.log('üé¨ Timeline container adjusted:', optimalHeight + 'px (video: ' + timelineVideo.videoWidth + 'x' + timelineVideo.videoHeight + ', aspect: ' + videoAspect.toFixed(2) + ')');
      }
    }
    
    function handleVisibility(){
      const rect = timelineSection.getBoundingClientRect();
      const inView = rect.top < window.innerHeight && rect.bottom > 0;
      
      if(inView && !isTimelineVisible){
        console.log('üé¨ Timeline animation entering view');
        isTimelineVisible = true;
        timelineVideo.load();
        timelineVideo.play().catch(e => console.log('Timeline autoplay prevented:', e));
      }else if(!inView && isTimelineVisible){
        console.log('üé¨ Timeline animation leaving view');
        isTimelineVisible = false;
        timelineVideo.pause();
      }
    }
    
    if('IntersectionObserver' in window){
      observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            handleVisibility();
          }
        });
      }, {threshold: 0.1});
      observer.observe(timelineSection);
    }else{
      addEventListener('scroll', handleVisibility);
      addEventListener('resize', handleVisibility);
      handleVisibility();
    }
    
    timelineVideo.addEventListener('loadedmetadata', () => {
      console.log('üé¨ Timeline animation metadata loaded:', timelineVideo.videoWidth, 'x', timelineVideo.videoHeight);
      adjustContainerSize();
      // Force play on load
      timelineVideo.play().catch(e => console.log('Timeline video autoplay prevented:', e));
    });
    
    timelineVideo.addEventListener('loadeddata', () => {
      console.log('üé¨ Timeline animation loaded');
      adjustContainerSize();
      // Force play on data load
      timelineVideo.play().catch(e => console.log('Timeline video autoplay prevented:', e));
    });
    
    timelineVideo.addEventListener('canplay', () => {
      console.log('üé¨ Timeline animation can play');
      // Force play when ready
      timelineVideo.play().catch(e => console.log('Timeline video autoplay prevented:', e));
    });
    
    timelineVideo.addEventListener('error', (e) => {
      console.log('üé¨ Timeline animation error:', e);
    });
    
    // Adjust on window resize
    addEventListener('resize', adjustContainerSize);
    
    document.addEventListener('visibilitychange', () => {
      if(document.hidden){
        timelineVideo.pause();
      }else if(isTimelineVisible){
        timelineVideo.play();
      }
    });
  })();

  // üêÑ Mrs. O'Leary's Cow Myth Video (YouTube Embed)
  (function(){
    const cowMythVideo = document.getElementById('cowMythVideo');
    if(!cowMythVideo) return;
    
    // YouTube iframe optimization
    cowMythVideo.addEventListener('load', () => {
      console.log('üêÑ Cow myth YouTube video loaded');
    });
  })();

  // üé¨ Places Animation Controller - Cycles through 7 animations
  (function(){
    const placesVideo = document.getElementById('placesAnimation');
    const placesContainer = document.getElementById('placesAnimationContainer');
    const placesCounter = document.getElementById('placesAnimationCounter');
    if(!placesVideo || !placesContainer) return;
    
    // List of 7 animation files - PUT YOUR ANIMATION FILES IN: videos/places/
    const animations = [
      'videos/places/places-animation1.mp4',
      'videos/places/places-animation2.mp4',
      'videos/places/places-animation3.mp4',
      'videos/places/places-animation4.mp4',
      'videos/places/places-animation5.mp4',
      'videos/places/places-animation6.mp4',
      'videos/places/places-animation7.mp4'
    ];
    
    let currentIndex = 0;
    const animationDuration = 8000; // 8 seconds per animation (adjust as needed)
    let isPlacesVisible = false;
    let observer;
    
    function updateCounter(index){
      if(placesCounter){
        placesCounter.textContent = `${index + 1} / ${animations.length}`;
      }
    }
    
    function loadAnimation(index){
      if(index >= animations.length) index = 0;
      if(index < 0) index = animations.length - 1;
      
      currentIndex = index;
      const src = animations[index];
      
      // Clear existing sources
      placesVideo.innerHTML = '';
      
      // Add new source
      const source = document.createElement('source');
      source.src = src;
      source.type = 'video/mp4';
      placesVideo.appendChild(source);
      
      // Load and play
      placesVideo.load();
      if(isPlacesVisible){
        placesVideo.play().catch(e => {
          console.log('Places video autoplay prevented:', e);
          setTimeout(() => placesVideo.play().catch(() => {}), 100);
        });
      }
      
      updateCounter(index);
    }
    
    // When video ends, switch to next
    placesVideo.addEventListener('ended', function(){
      loadAnimation(currentIndex + 1);
    });
    
    // Also use timer as backup (in case video doesn't fire 'ended' event)
    setInterval(function(){
      if(isPlacesVisible && (placesVideo.ended || (placesVideo.paused && placesVideo.currentTime > 0))){
        loadAnimation(currentIndex + 1);
      }
    }, animationDuration);
    
    function adjustPlacesContainerSize(){
      if(placesVideo.videoWidth && placesVideo.videoHeight){
        const videoAspect = placesVideo.videoWidth / placesVideo.videoHeight;
        placesContainer.style.paddingBottom = (100 / videoAspect) + '%';
        console.log('üé¨ Places container adjusted:', (100 / videoAspect).toFixed(2) + '% (video: ' + placesVideo.videoWidth + 'x' + placesVideo.videoHeight + ', aspect: ' + videoAspect.toFixed(2) + ')');
      }
    }
    
    function handlePlacesVisibility(){
      const rect = placesContainer.getBoundingClientRect();
      const inView = rect.top < window.innerHeight && rect.bottom > 0;
      
      if(inView && !isPlacesVisible){
        console.log('üé¨ Places animation entering view');
        isPlacesVisible = true;
        placesVideo.play().catch(e => console.log('Places autoplay prevented:', e));
      }else if(!inView && isPlacesVisible){
        console.log('üé¨ Places animation leaving view');
        isPlacesVisible = false;
        placesVideo.pause();
      }
    }
    
    if('IntersectionObserver' in window){
      observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            handlePlacesVisibility();
          }
        });
      }, {threshold: 0.1});
      observer.observe(placesContainer);
    }else{
      addEventListener('scroll', handlePlacesVisibility);
      addEventListener('resize', handlePlacesVisibility);
      handlePlacesVisibility();
    }
    
    placesVideo.addEventListener('loadedmetadata', () => {
      console.log('üé¨ Places animation metadata loaded:', placesVideo.videoWidth, 'x', placesVideo.videoHeight);
      adjustPlacesContainerSize();
    });
    
    placesVideo.addEventListener('loadeddata', () => {
      console.log('üé¨ Places animation loaded');
      adjustPlacesContainerSize();
    });
    
    placesVideo.addEventListener('error', (e) => {
      console.log('üé¨ Places animation error:', e);
    });
    
    // Adjust on window resize
    addEventListener('resize', adjustPlacesContainerSize);
    
    document.addEventListener('visibilitychange', () => {
      if(document.hidden){
        placesVideo.pause();
      }else if(isPlacesVisible){
        placesVideo.play();
      }
    });
    
    // Initial load
    loadAnimation(0);
  })();

  // üé¨ Background Animation Controller
  (function(){
    const canvas = document.getElementById('backgroundAnimationCanvas');
    if (!canvas) {
      console.log('üé¨ ERROR: Canvas not found!');
      return;
    }
    
    const ctx = canvas.getContext('2d');
    if (!ctx) {
      console.log('üé¨ ERROR: Cannot get 2d context!');
      return;
    }
    
    const video = document.createElement('video');
    const playBtn = document.getElementById('videoPlayBtn');
    const DPR = Math.min(2, window.devicePixelRatio || 1);
    let cw = innerWidth, ch = innerHeight;
    
    console.log('üé¨ Background Animation Controller starting...');
    
    // Video setup
    video.src = 'videos/background-animation.mov';
    video.muted = true;
    video.loop = true;
    video.playsInline = true;
    video.preload = 'auto';
    
    // Play button click handler
    if (playBtn) {
      playBtn.addEventListener('click', () => {
        console.log('üé¨ Play button clicked');
        video.play().then(() => {
          console.log('üé¨ Video playing');
          playBtn.classList.add('playing');
          startAnimation();
        }).catch(e => {
          console.log('üé¨ Video play failed:', e);
        });
      });
    }
    
    // Force play immediately
    video.play().catch(e => console.log('Initial video autoplay prevented:', e));
    
    // Canvas setup - heavily optimized
    let resizeTimeout;
    function resizeCanvas() {
      // Debounce resize to prevent excessive calls
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        const banner = document.querySelector('.animation-banner');
        if (!banner) return;
        
        const rect = banner.getBoundingClientRect();
        cw = Math.floor(rect.width);
        ch = Math.floor(rect.height);
        
        // Keep full width, only limit height for performance
        const maxHeight = 720;  // Only limit height
        
        if (ch > maxHeight) {
          ch = maxHeight;
        }
        
        // Use lower DPR for better performance
        const performanceDPR = Math.min(1.5, window.devicePixelRatio || 1);
        
        canvas.width = cw * performanceDPR;
        canvas.height = ch * performanceDPR;
        canvas.style.width = cw + 'px';
        canvas.style.height = ch + 'px';
        ctx.scale(performanceDPR, performanceDPR);
      }, 100);
    }
    
    resizeCanvas();
    addEventListener('resize', resizeCanvas);
    
    // Animation control
    let isVisible = true;
    let animationId = null;
    
    function checkVisibility() {
      const banner = document.querySelector('.animation-banner');
      if (!banner) {
        console.log('üé¨ Animation banner not found');
        return;
      }
      
      const rect = banner.getBoundingClientRect();
      const isInView = rect.top < window.innerHeight && rect.bottom > 0;
      
      console.log('üé¨ Visibility check:', {
        bannerTop: rect.top,
        bannerBottom: rect.bottom,
        windowHeight: window.innerHeight,
        isInView: isInView,
        currentlyVisible: isVisible
      });
      
      if (isInView && !isVisible) {
        // Show animation
        console.log('üé¨ Starting background animation');
        isVisible = true;
        video.play().catch(e => console.log('Background video autoplay prevented:', e));
        startAnimation();
      } else if (!isInView && isVisible) {
        // Hide animation
        console.log('üé¨ Stopping background animation');
        isVisible = false;
        video.pause();
        if (animationId) {
          cancelAnimationFrame(animationId);
          animationId = null;
        }
      }
    }
    
    function startAnimation() {
      console.log('üé¨ Starting heavily optimized animation loop');
      let lastTime = 0;
      let frameCount = 0;
      const targetFPS = 24; // Reduced to 24 FPS for better performance
      const frameInterval = 1000 / targetFPS;
      
      // Pre-calculate video dimensions to avoid recalculation
      let videoAspect, canvasAspect, drawWidth, drawHeight, drawX, drawY;
      let dimensionsCalculated = false;
      
      function calculateDimensions() {
        if (video.readyState >= 2 && !dimensionsCalculated) {
          videoAspect = video.videoWidth / video.videoHeight;
          canvasAspect = cw / ch;
          
          if (videoAspect > canvasAspect) {
            drawHeight = ch;
            drawWidth = ch * videoAspect;
            drawX = (cw - drawWidth) / 2;
            drawY = 0;
          } else {
            drawWidth = cw;
            drawHeight = cw / videoAspect;
            drawX = 0;
            drawY = (ch - drawHeight) / 2;
          }
          dimensionsCalculated = true;
        }
      }
      
      function animate(currentTime) {
        if (!isVisible) return;
        
        // Monitor performance
        monitorPerformance();
        
        // Throttle to target FPS
        if (currentTime - lastTime < frameInterval) {
          animationId = requestAnimationFrame(animate);
          return;
        }
        lastTime = currentTime;
        frameCount++;
        
        // Skip frames for even better performance
        const skipFrames = performanceMode ? 3 : 2;
        if (frameCount % skipFrames === 0) {
          animationId = requestAnimationFrame(animate);
          return;
        }
        
        calculateDimensions();
        
        if (video.readyState >= 2 && dimensionsCalculated) {
          // Use clearRect only when necessary
          const clearInterval = performanceMode ? 20 : 10;
          if (frameCount % clearInterval === 0) {
            ctx.clearRect(0, 0, cw, ch);
          }
          
          // Draw video frame
          ctx.drawImage(video, drawX, drawY, drawWidth, drawHeight);
          
          // Minimal overlay - only every few frames
          const overlayInterval = performanceMode ? 10 : 5;
          if (frameCount % overlayInterval === 0) {
            ctx.fillStyle = 'rgba(15, 17, 21, 0.1)';
            ctx.fillRect(0, 0, cw, ch);
          }
        }
        
        animationId = requestAnimationFrame(animate);
      }
      
      animate(0);
    }
    
    // Event listeners - optimized
    video.addEventListener('play', () => {
      console.log('üé¨ Video is now playing');
      if (playBtn) {
        playBtn.classList.add('playing');
      }
    });
    
    video.addEventListener('playing', () => {
      console.log('üé¨ Video is actually playing');
      if (playBtn) {
        playBtn.classList.add('playing');
      }
    });

    video.addEventListener('loadeddata', () => {
      console.log('üé¨ Background animation loaded');
      console.log('Video dimensions:', video.videoWidth, 'x', video.videoHeight);
      // Preload first frame for smoother start
      video.currentTime = 0;
      // Force play on load
      video.play().catch(e => console.log('Video autoplay prevented on loadeddata:', e));
    });

    video.addEventListener('loadedmetadata', () => {
      console.log('üé¨ Video metadata loaded, starting playback');
      video.play().catch(e => console.log('Video autoplay prevented on loadedmetadata:', e));
    });

    video.addEventListener('error', (e) => {
      console.log('üé¨ Background animation error:', e);
      console.log('Video error details:', video.error);
      if (video.error) {
        console.log('Error code:', video.error.code);
        console.log('Error message:', video.error.message);
      }
    });

    video.addEventListener('canplay', () => {
      console.log('üé¨ Background animation can play');
      video.play().catch(e => console.log('Video autoplay prevented on canplay:', e));
    });
    
    video.addEventListener('canplaythrough', () => {
      console.log('üé¨ Background animation can play through');
      video.play().catch(e => console.log('Video autoplay prevented on canplaythrough:', e));
    });
    
    // Try to load the video immediately
    video.load();
    
    // Check if video is playing after a delay
    setTimeout(() => {
      console.log('üé¨ Video state check after 2 seconds:');
      console.log('  - paused:', video.paused);
      console.log('  - readyState:', video.readyState);
      console.log('  - currentTime:', video.currentTime);
      console.log('  - src:', video.src);
    }, 2000);
    
    // Performance optimization: pause when tab is not visible
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        video.pause();
        if (animationId) {
          cancelAnimationFrame(animationId);
          animationId = null;
        }
      } else if (isVisible) {
        video.play().catch(e => console.log('Video resume prevented:', e));
        startAnimation();
      }
    });
    
    // Additional performance optimizations
    let performanceMode = false;
    
    // Detect low-end devices and enable performance mode
    const isLowEndDevice = navigator.hardwareConcurrency <= 2 || 
                          navigator.deviceMemory <= 4 ||
                          /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isLowEndDevice) {
      performanceMode = true;
      console.log('üé¨ Performance mode enabled for low-end device');
    }
    
    // Monitor performance and adjust accordingly
    let frameDropCount = 0;
    let lastFrameTime = 0;
    
    function monitorPerformance() {
      const now = performance.now();
      if (lastFrameTime > 0) {
        const frameTime = now - lastFrameTime;
        if (frameTime > 50) { // Frame took longer than 50ms
          frameDropCount++;
        }
      }
      lastFrameTime = now;
      
      // If too many dropped frames, reduce quality (keep width)
      if (frameDropCount > 10) {
        console.log('üé¨ Performance issues detected, reducing quality');
        // Only reduce height, keep full width
        ch = Math.floor(ch * 0.8);
        frameDropCount = 0;
      }
    }
    
    // Check visibility on scroll and load
    addEventListener('scroll', checkVisibility, { passive: true });
    addEventListener('load', checkVisibility);
    
    // Initial check
    setTimeout(() => {
      console.log('üé¨ Initial visibility check');
      checkVisibility();
      
      // Debug: Force animation to be visible
      console.log('üé¨ DEBUG: Making animation more visible');
      isVisible = true;
      video.play().catch(e => console.log('Debug video autoplay prevented:', e));
      startAnimation();
    }, 100);
    
    console.log('üé¨ Background Animation Controller initialized');
  })();

  // üéµ Background Sound of Burning Wood Crackling - Site-wide ambient sound
  (function(){
    let siteAudioContext = null;
    let cracklingSoundSource = null;
    let cracklingGain = null;
    let isCracklingSoundEnabled = localStorage.getItem('soundEnabled') !== 'false'; // Check saved state
    let cracklingSoundInitialized = false;
    
    // Initialize site background audio
    function initSiteBackgroundAudio() {
      try {
        siteAudioContext = new (window.AudioContext || window.webkitAudioContext)();
        cracklingGain = siteAudioContext.createGain();
        cracklingGain.connect(siteAudioContext.destination);
        // Set volume based on saved state
        cracklingGain.gain.value = isCracklingSoundEnabled ? 0.25 : 0; // Volume for crackling fire sound
        console.log('üéµ Site audio context initialized');
      } catch(e) {
        console.log('Site background audio not supported:', e);
        isCracklingSoundEnabled = false;
      }
    }
    
    // Start sound of fire (crackling, roaring fire sound)
    function startCracklingSound() {
      // Check if sound is enabled via global state
      const globalSoundEnabled = window.isSoundEnabled && window.isSoundEnabled();
      if(!isCracklingSoundEnabled || !globalSoundEnabled || !siteAudioContext) {
        console.log('üéµ Cannot start: audio not enabled or context missing');
        return;
      }
      
      if(cracklingSoundSource) {
        console.log('üéµ Fire sound already playing');
        return;
      }
      
      try {
        // Create fire sound - combination of crackling, roaring, and hissing
        const bufferSize = siteAudioContext.sampleRate * 6; // 6 seconds buffer
        const buffer = siteAudioContext.createBuffer(1, bufferSize, siteAudioContext.sampleRate);
        const data = buffer.getChannelData(0);
        
        // Generate fire sound with multiple layers
        let lastOut = 0.0;
        let crackleTimer = 0;
        let crackleIntensity = 0;
        
        for(let i = 0; i < bufferSize; i++) {
          // Base fire roar - brown noise (low frequency rumble)
          const white = Math.random() * 2 - 1;
          lastOut = (lastOut + white * 0.04) * 0.96;
          const roar = lastOut * 0.4;
          
          // Crackling pops (wood snapping)
          crackleTimer += 1 / siteAudioContext.sampleRate;
          if(crackleTimer > 0.2 + Math.random() * 0.4) {
            crackleIntensity = 0.7 + Math.random() * 0.5;
            crackleTimer = 0;
          }
          if(crackleIntensity > 0) {
            crackleIntensity *= 0.94;
          }
          const crackle = crackleIntensity > 0.1 ? 
            (Math.random() * 2 - 1) * crackleIntensity * Math.exp(-crackleIntensity * 4) : 0;
          
          // Hissing/sparking (high frequency component)
          const hiss = (Math.random() * 2 - 1) * 0.15;
          
          // Combine all fire elements
          data[i] = (roar + crackle * 0.4 + hiss * 0.2) * 0.7;
        }
        
        cracklingSoundSource = siteAudioContext.createBufferSource();
        cracklingSoundSource.buffer = buffer;
        cracklingSoundSource.loop = true;
        
        // Filter for realistic fire sound - emphasize mid frequencies for crackling
        const filter = siteAudioContext.createBiquadFilter();
        filter.type = 'bandpass';
        filter.frequency.value = 1000; // Emphasize crackling frequencies
        filter.Q.value = 1.2;
        
        // Add slight high boost for hissing/sparking
        const highBoost = siteAudioContext.createBiquadFilter();
        highBoost.type = 'highshelf';
        highBoost.frequency.value = 2500;
        highBoost.gain.value = 2;
        
        cracklingSoundSource.connect(filter);
        filter.connect(highBoost);
        highBoost.connect(cracklingGain);
        
        cracklingSoundSource.start(0);
        console.log('üéµ Fire sound started successfully');
      } catch(e) {
        console.log('Fire sound error:', e);
      }
    }
    
    // Stop crackling sound
    function stopCracklingSound() {
      if(cracklingSoundSource) {
        try {
          cracklingSoundSource.stop();
          cracklingSoundSource = null;
          console.log('üéµ Crackling sound stopped');
        } catch(e) {
          console.log('Error stopping crackling sound:', e);
        }
      }
    }
    
    // Initialize on first user interaction (browser autoplay policy)
    function initCracklingSoundOnInteraction() {
      if(cracklingSoundInitialized) {
        console.log('üéµ Already initialized');
        return;
      }
      
      console.log('üéµ User interaction detected, initializing crackling sound...');
      
      if(!siteAudioContext) {
        initSiteBackgroundAudio();
      }
      
      if(siteAudioContext && siteAudioContext.state === 'suspended') {
        siteAudioContext.resume().then(() => {
          console.log('üéµ Audio context resumed');
          startCracklingSound();
          cracklingSoundInitialized = true;
        }).catch(e => {
          console.log('Could not resume audio context:', e);
        });
      } else if(siteAudioContext) {
        startCracklingSound();
        cracklingSoundInitialized = true;
      }
    }
    
    // Initialize audio context on page load
    initSiteBackgroundAudio();
    
    // Start on first user interaction (click, touch, keypress, mousemove)
    document.addEventListener('click', initCracklingSoundOnInteraction, { once: true });
    document.addEventListener('touchstart', initCracklingSoundOnInteraction, { once: true });
    document.addEventListener('keydown', initCracklingSoundOnInteraction, { once: true });
    document.addEventListener('mousemove', initCracklingSoundOnInteraction, { once: true });
    document.addEventListener('scroll', initCracklingSoundOnInteraction, { once: true });
    
    // Also try to start after a short delay (some browsers allow this)
    setTimeout(() => {
      if(!cracklingSoundInitialized && siteAudioContext) {
        try {
          if(siteAudioContext.state === 'running') {
            startCracklingSound();
            cracklingSoundInitialized = true;
            console.log('üéµ Auto-started after delay');
          }
        } catch(e) {
          console.log('üéµ Auto-start failed, will start on interaction:', e);
        }
      }
    }, 2000);
    
    // Handle page visibility changes
    document.addEventListener('visibilitychange', () => {
      if(document.hidden) {
        // Pause when page is hidden
        if(cracklingGain) {
          cracklingGain.gain.value = 0;
          console.log('üéµ Crackling sound paused (page hidden)');
        }
      } else {
        // Resume when page is visible (only if sound is enabled)
        if(cracklingGain && window.isSoundEnabled && window.isSoundEnabled()) {
          cracklingGain.gain.value = 0.25;
          console.log('üéµ Crackling sound resumed (page visible)');
        }
        if(!cracklingSoundInitialized) {
          initCracklingSoundOnInteraction();
        }
      }
    });
    
    // Listen for sound toggle events
    window.addEventListener('soundToggle', (e) => {
      const enabled = e.detail.enabled;
      isCracklingSoundEnabled = enabled;
      if(cracklingGain) {
        cracklingGain.gain.value = enabled ? 0.25 : 0;
        console.log('üéµ Fire sound', enabled ? 'enabled' : 'disabled');
      }
    });
    
    // Expose control functions
    window.controlFireSound = function(enabled) {
      isCracklingSoundEnabled = enabled;
      if(cracklingGain) {
        cracklingGain.gain.value = enabled ? 0.25 : 0;
      }
    };
    
    console.log('üéµ Background Sound of Burning Wood Crackling initialized');
  })();

  // üéÆ Game with levels, wind, hydrants, labels
  (function(){
    const cvs = document.getElementById('gameCanvas');
    const ctx = cvs.getContext('2d');
    const W = cvs.width, H = cvs.height;
    
    // Progressive map sizing - starts small and grows with levels
    let baseCOLS = 12, baseROWS = 7; // Starting size (small)
    let COLS = baseCOLS, ROWS = baseROWS;
    let CELL = Math.floor(Math.min(W/COLS, H/ROWS));
    let offsetX = Math.floor((W - CELL*COLS)/2);
    let offsetY = Math.floor((H - CELL*ROWS)/2);
    
    // Game state
    let gameStarted = false;
    let playerRole = 'firefighter'; // 'firefighter' or 'oleary'
    
    // Character images
    let cowImage = new Image();
    let mrsOlearyImage = new Image();
    let imagesLoaded = { cow: false, oleary: false };
    
    // Load character images
    cowImage.onload = function() {
      imagesLoaded.cow = true;
      console.log('üêÑ Cow image loaded');
    };
    cowImage.onerror = function() {
      console.log('‚ö†Ô∏è Failed to load cow image');
    };
    cowImage.src = 'images/cow.png';
    
    mrsOlearyImage.onload = function() {
      imagesLoaded.oleary = true;
      console.log('üë© Mrs. O\'Leary image loaded');
    };
    mrsOlearyImage.onerror = function() {
      console.log('‚ö†Ô∏è Failed to load Mrs. O\'Leary image');
    };
    mrsOlearyImage.src = 'images/mrs-oleary.png';
    
    // Building images - multiple variants for variety
    let buildingNormalImages = [];
    let buildingBurningImage = new Image();
    let buildingImagesLoaded = { normal: [], burning: false };
    
    // Load multiple normal building images for variety
    const buildingImagePaths = [
      'images/game/building-normal-1 .png',
      'images/game/building-normal-2 .png',
      'images/game/building-normal-3.png',
      'images/game/building-normal-4.png'
    ];
    
    // Initialize building variants array (stores which image variant to use for each building)
    let buildingVariants = [];
    
    for(let i = 0; i < buildingImagePaths.length; i++) {
      const img = new Image();
      const index = i;
      buildingNormalImages.push(img);
      buildingImagesLoaded.normal.push(false);
      
      img.onload = function() {
        buildingImagesLoaded.normal[index] = true;
        console.log(`üè¢ Normal building image ${index + 1} loaded`);
      };
      img.onerror = function() {
        console.log(`‚ö†Ô∏è Failed to load normal building image ${index + 1}`);
      };
      img.src = buildingImagePaths[i];
    }
    
    buildingBurningImage.onload = function() {
      buildingImagesLoaded.burning = true;
      console.log('üî• Burning building image loaded');
    };
    buildingBurningImage.onerror = function() {
      console.log('‚ö†Ô∏è Failed to load burning building image');
    };
    buildingBurningImage.src = 'images/building-burning.png';
    
    // Lake animation video
    let lakeVideo = document.createElement('video');
    lakeVideo.src = 'videos/lake-animation.mp4';
    lakeVideo.loop = true;
    lakeVideo.muted = true;
    lakeVideo.playsInline = true;
    lakeVideo.style.display = 'none';
    document.body.appendChild(lakeVideo);
    
    // Try to play the video (may need user interaction)
    lakeVideo.addEventListener('loadeddata', function() {
      lakeVideo.play().catch(e => {
        console.log('Lake video autoplay prevented, will play on user interaction:', e);
      });
      console.log('üåä Lake animation video loaded');
    });
    
    lakeVideo.addEventListener('error', function() {
      console.log('‚ö†Ô∏è Failed to load lake animation video, using fallback');
    });
    
    // Ship images
    let shipNormalImage = new Image();
    let shipBurningImage = new Image();
    let shipImagesLoaded = { normal: false, burning: false };
    
    // Load ship images
    shipNormalImage.onload = function() {
      shipImagesLoaded.normal = true;
      console.log('‚õµ Normal ship image loaded');
    };
    shipNormalImage.onerror = function() {
      console.log('‚ö†Ô∏è Failed to load normal ship image');
    };
    shipNormalImage.src = 'images/ship-normal.png';
    
    shipBurningImage.onload = function() {
      shipImagesLoaded.burning = true;
      console.log('üî• Burning ship image loaded');
    };
    shipBurningImage.onerror = function() {
      console.log('‚ö†Ô∏è Failed to load burning ship image');
    };
    shipBurningImage.src = 'images/ship-burning.png';
    
    // Fire truck (fire engine) image
    let fireTruckImage = new Image();
    let fireTruckImageLoaded = false;
    
    // Load fire truck image
    fireTruckImage.onload = function() {
      fireTruckImageLoaded = true;
      console.log('üöí Fire truck image loaded');
    };
    fireTruckImage.onerror = function() {
      console.log('‚ö†Ô∏è Failed to load fire truck image');
    };
    fireTruckImage.src = 'images/fire-truck.png';
    
    // Water Tower image
    let waterTowerImage = new Image();
    let waterTowerImageLoaded = false;
    
    // Load Water Tower image
    waterTowerImage.onload = function() {
      waterTowerImageLoaded = true;
      console.log('üèõÔ∏è Water Tower image loaded');
    };
    waterTowerImage.onerror = function() {
      console.log('‚ö†Ô∏è Failed to load Water Tower image');
    };
    waterTowerImage.src = 'images/game/water tower.png';

    const Lang = {
      ru:{tip:'–ù–∞–≤–µ–¥–∏ –º—ã—à—å ‚Äî —Ç—É—à–∏ –ø–æ–∂–∞—Ä! –õ–ö–ú: –≤–æ–¥–∞. –£—Ä–æ–≤–Ω–∏ —Å –≤–µ—Ç—Ä–æ–º –∏ –≥–∏–¥—Ä–∞–Ω—Ç–∞–º–∏.', level:'–£—Ä–æ–≤–µ–Ω—å', wind:'–í–µ—Ç–µ—Ä', score:'–°—á—ë—Ç', burned:'–°–≥–æ—Ä–µ–ª–æ', time:'–í—Ä–µ–º—è', water:'–í–æ–¥–∞', win:'–ü–æ–±–µ–¥–∞! –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω', allwin:'–í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!', lose:'–ü–æ—Ä–∞–∂–µ–Ω–∏–µ‚Ä¶ –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–≥–æ—Ä–µ–ª–æ', pressR:'–ù–∞–∂–º–∏—Ç–µ R –¥–ª—è —Ä–µ—Å—Ç–∞—Ä—Ç–∞'},
      en:{tip:'Move mouse ‚Äî fight fire! LMB: water. Levels with wind & hydrants.', level:'Level', wind:'Wind', score:'Score', burned:'Burned', time:'Time', water:'Water', win:'Victory! Level complete', allwin:'All levels complete!', lose:'Defeat‚Ä¶ Too many blocks burned', pressR:'Press R to restart'},
      it:{tip:'Muovi il mouse ‚Äî combatti il fuoco! Tasto sinistro: acqua. Livelli con vento e idranti.', level:'Livello', wind:'Vento', score:'Punti', burned:'Bruciati', time:'Tempo', water:'Acqua', win:'Vittoria! Livello completato', allwin:'Tutti i livelli completati!', lose:'Sconfitta‚Ä¶ Troppi isolati bruciati', pressR:'Premi R per riavviare'}
    };
    const windNames = {
      ru:['–®', '–°', '–í', '–Æ', '–ó', '–°–í', '–°–ó', '–Æ–í', '–Æ–ó'],
      en:['Calm','N','E','S','W','NE','NW','SE','SW'],
      it:['Calmo','N','E','S','O','NE','NO','SE','SO']
    };
    function t(key){const l=document.documentElement.getAttribute('data-lang')||'ru'; return Lang[l][key];}
    function tWind(code){const l=document.documentElement.getAttribute('data-lang')||'ru'; return windNames[l][code];}

    const hud = {
      tip: document.getElementById('hudTip'),
      level: document.getElementById('hudLevel'),
      wind: document.getElementById('hudWind'),
      score: document.getElementById('hudScore'),
      burned: document.getElementById('hudBurned'),
      time: document.getElementById('hudTime'),
      water: document.getElementById('hudWater'),
      btnRestart: document.getElementById('btnRestart')
    };
    
    // Add new HUD elements
    const hudLives = document.createElement('span');
    hudLives.className = 'badge';
    hudLives.id = 'hudLives';
    hud.btnRestart.parentNode.insertBefore(hudLives, hud.btnRestart);
    
    const hudRescued = document.createElement('span');
    hudRescued.className = 'badge';
    hudRescued.id = 'hudRescued';
    hud.btnRestart.parentNode.insertBefore(hudRescued, hud.btnRestart);
    
    const hudCombo = document.createElement('span');
    hudCombo.className = 'badge';
    hudCombo.id = 'hudCombo';
    hud.btnRestart.parentNode.insertBefore(hudCombo, hud.btnRestart);

    const hudExtinguished = document.createElement('span');
    hudExtinguished.className = 'badge';
    hudExtinguished.id = 'hudExtinguished';
    hud.btnRestart.parentNode.insertBefore(hudExtinguished, hud.btnRestart);

    // Street information database - expanded with all 10 streets
    const streetInfo = {
      ru: {
        'DeKoven Street': {name: 'DeKoven Street', desc: '–ú–µ—Å—Ç–æ –Ω–∞—á–∞–ª–∞ –ø–æ–∂–∞—Ä–∞. –í–æ –¥–≤–æ—Ä–µ –ü–∞—Ç—Ä–∏–∫–∞ –∏ –ö—ç—Ç—Ä–∏–Ω –û\'–õ–∏—Ä–∏ (‚Ññ 137 DeKoven St). –° —ç—Ç–æ–≥–æ —Å–∞—Ä–∞—è –æ–≥–æ–Ω—å –¥–≤–∏–Ω—É–ª—Å—è –Ω–∞ —Å–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ–∫. "–£–ª–∏—Ü–∞, –≥–¥–µ —Ä–æ–¥–∏–ª—Å—è –∞–¥".'},
        'Canal/Jefferson/Clinton': {name: 'Canal/Jefferson/Clinton', desc: '–Æ–∂–Ω–æ-–∑–∞–ø–∞–¥–Ω–∞—è —á–∞—Å—Ç—å –æ—á–∞–≥–∞. –ü–µ—Ä–≤—ã–µ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã–µ –º–æ—Å—Ç—ã –∏ —Å–∫–ª–∞–¥—ã –≤–¥–æ–ª—å —Ä–µ–∫–∏. "–°–∫–ª–∞–¥—ã –Ω–∞ Clinton –∏ Canal –ø–∞–ª–∏ –≤ –ø—ã–ª–∞—é—â–∏—Ö —Ä—É–∏–Ω–∞—Ö –∫ –ø–æ–ª—É–Ω–æ—á–∏".'},
        'LaSalle Street': {name: 'LaSalle Street', desc: '–ì–ª–∞–≤–Ω–∞—è –¥–µ–ª–æ–≤–∞—è –∞—Ä—Ç–µ—Ä–∏—è. –í—ã–≥–æ—Ä–µ–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç Monroe St –¥–æ Chicago Ave. –£–Ω–∏—á—Ç–æ–∂–µ–Ω—ã –±–∞–Ω–∫–∏, –±–∏—Ä–∂–∏, —Å—Ç—Ä–∞—Ö–æ–≤—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏. "–§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –∫–ª–∞–¥–±–∏—â–µ".'},
        'Dearborn Street': {name: 'Dearborn/State Streets', desc: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ —Å–µ—Ä–¥—Ü–µ –≥–æ—Ä–æ–¥–∞. –ü–µ—Ä–≤—ã–µ –º–Ω–æ–≥–æ—ç—Ç–∞–∂–Ω—ã–µ –æ—Ç–µ–ª–∏, –º–∞–≥–∞–∑–∏–Ω—ã –∏ –æ—Ñ–∏—Å—ã. "–§—Ä–æ–Ω—Ç Dearborn –±—ã–ª —Å–ø–ª–æ—à–Ω–æ–π —Å—Ç–µ–Ω–æ–π –ø–ª–∞–º–µ–Ω–∏".'},
        'Wabash Avenue': {name: 'Wabash/Michigan Avenues', desc: '–°–∞–º—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ –±—É–ª—å–≤–∞—Ä—ã. –í—ã–≥–æ—Ä–µ–ª–∏ –¥–æ—Ç–ª–∞. Tremont House, Palmer House, Michigan Central Depot. "–†—É–∏–Ω—ã –≤ —Ä–∏–º—Å–∫–æ–º —Å—Ç–∏–ª–µ".'},
        'Randolph/Madison/Monroe': {name: 'Randolph/Madison/Monroe', desc: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–æ—Ä–∏–¥–æ—Ä—ã. –í—Å–µ –∑–¥–∞–Ω–∏—è –º–µ–∂–¥—É —Ä–µ–∫–æ–π –∏ Wabash Ave –ø–æ—Ç–µ—Ä—è–Ω—ã. Tribune Building —Å–≥–æ—Ä–µ–ª.'},
        'Chicago Avenue': {name: 'Chicago Avenue', desc: '–ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–∫—Ä–µ–ø–ª–µ–Ω–∏—è. Chicago Water Tower –∏ Pump House. –û–¥–Ω–æ –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö —É—Ü–µ–ª–µ–≤—à–∏—Ö –∑–¥–∞–Ω–∏–π.'},
        'Clark Street': {name: 'Clark Street', desc: '–ì–ª–∞–≤–Ω–∞—è —É–ª–∏—Ü–∞ –°–µ–≤–µ—Ä–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã. –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞. –ñ–∏—Ç–µ–ª–∏ –±–µ–∂–∞–ª–∏ –∫ –æ–∑–µ—Ä—É. "–£–ª–∏—Ü–∞ —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–≥–æ –¥—ã–º–∞".'},
        'Kinzie Street': {name: 'Kinzie Street', desc: '–û–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö –º–æ—Å—Ç–æ–≤. –ü–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–≥–æ–Ω—å –ø–µ—Ä–µ—Å—ë–∫ —Ä–µ–∫—É. –ì–æ—Ä—è—â–∏–µ —â–µ–ø–∫–∏ –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–ª–∏—Å—å –≤–µ—Ç—Ä–æ–º.'},
        'North/Lincoln Avenues': {name: 'North/Lincoln Avenues', desc: '–°–µ–≤–µ—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è. –û–≥—Ä–æ–º–Ω—ã–π –ª–∞–≥–µ—Ä—å –±–µ–∂–µ–Ω—Ü–µ–≤ (–¥–æ 100,000 —á–µ–ª–æ–≤–µ–∫).'}
      },
      en: {
        'DeKoven Street': {name: 'DeKoven Street', desc: 'The place where the fire began. In the barn of Patrick and Catherine O\'Leary (No. 137 DeKoven St). From this shed, the fire spread northeast. "The street where Hell began".'},
        'Canal/Jefferson/Clinton': {name: 'Canal/Jefferson/Clinton', desc: 'Southwestern origin zone. First destroyed bridges and warehouses along the river. "Warehouses on Clinton and Canal fell in glowing ruins by midnight".'},
        'LaSalle Street': {name: 'LaSalle Street', desc: 'Main financial artery. Burned completely from Monroe St to Chicago Ave. Banks, exchanges, insurance companies destroyed. "The financial graveyard".'},
        'Dearborn Street': {name: 'Dearborn/State Streets', desc: 'Commercial heart of the city. First multi-story hotels, shops, and offices. "The Dearborn front was a continuous wall of flame".'},
        'Wabash Avenue': {name: 'Wabash/Michigan Avenues', desc: 'Most beautiful boulevards. Completely reduced to ashes. Tremont House, Palmer House, Michigan Central Depot. "Roman-style ruins".'},
        'Randolph/Madison/Monroe': {name: 'Randolph/Madison/Monroe', desc: 'Central corridors. Every building between the river and Wabash Ave lost. Tribune Building burned.'},
        'Chicago Avenue': {name: 'Chicago Avenue', desc: 'Last line of defense. Chicago Water Tower and Pump House. One of the few surviving structures.'},
        'Clark Street': {name: 'Clark Street', desc: 'Main street of the North Side. Completely destroyed. Residents fled toward the lake. "Street of violet smoke".'},
        'Kinzie Street': {name: 'Kinzie Street', desc: 'One of the first bridges. By which the fire crossed the river. Burning debris carried by wind.'},
        'North/Lincoln Avenues': {name: 'North/Lincoln Avenues', desc: 'Northern boundary of destruction. Vast refugee camp (up to 100,000 people).'}
      },
      it: {
        'DeKoven Street': {name: 'DeKoven Street', desc: 'Il luogo dove inizi√≤ l\'incendio. Nel fienile di Patrick e Catherine O\'Leary (No. 137 DeKoven St). Da questo capannone, l\'incendio si diffuse a nord-est. "La strada dove nacque l\'inferno".'},
        'Canal/Jefferson/Clinton': {name: 'Canal/Jefferson/Clinton', desc: 'Zona di origine sud-occidentale. Primi ponti e magazzini distrutti lungo il fiume. "I magazzini su Clinton e Canal caddero in rovine ardenti a mezzanotte".'},
        'LaSalle Street': {name: 'LaSalle Street', desc: 'Principale arteria finanziaria. Bruciata completamente da Monroe St a Chicago Ave. Banche, borse, compagnie assicurative distrutte. "Il cimitero finanziario".'},
        'Dearborn Street': {name: 'Dearborn/State Streets', desc: 'Cuore commerciale della citt√†. Primi hotel, negozi e uffici multi-piano. "Il fronte Dearborn era un muro continuo di fiamme".'},
        'Wabash Avenue': {name: 'Wabash/Michigan Avenues', desc: 'I viali pi√π belli. Completamente ridotti in cenere. Tremont House, Palmer House, Michigan Central Depot. "Rovine in stile romano".'},
        'Randolph/Madison/Monroe': {name: 'Randolph/Madison/Monroe', desc: 'Corridoi centrali. Ogni edificio tra il fiume e Wabash Ave perso. Tribune Building bruciato.'},
        'Chicago Avenue': {name: 'Chicago Avenue', desc: 'Ultima linea di difesa. Chicago Water Tower e Pump House. Una delle poche strutture sopravvissute.'},
        'Clark Street': {name: 'Clark Street', desc: 'Strada principale del North Side. Completamente distrutta. I residenti fuggirono verso il lago. "Strada del fumo viola".'},
        'Kinzie Street': {name: 'Kinzie Street', desc: 'Uno dei primi ponti. Attraverso il quale l\'incendio attravers√≤ il fiume. Detriti ardenti trasportati dal vento.'},
        'North/Lincoln Avenues': {name: 'North/Lincoln Avenues', desc: 'Confine settentrionale della distruzione. Vasto campo profughi (fino a 100.000 persone).'}
      },
      tr: {
        'DeKoven Street': {name: 'DeKoven Sokaƒüƒ±', desc: 'Yangƒ±nƒ±n ba≈üladƒ±ƒüƒ± yer. Patrick ve Catherine O\'Leary\'nin ahƒ±rƒ±nda (No. 137 DeKoven St). Bu ahƒ±rdan yangƒ±n kuzeydoƒüuya yayƒ±ldƒ±. "Cehennemin ba≈üladƒ±ƒüƒ± sokak".'},
        'Canal/Jefferson/Clinton': {name: 'Canal/Jefferson/Clinton', desc: 'G√ºneybatƒ± k√∂ken b√∂lgesi. Nehir boyunca ilk yƒ±kƒ±lan k√∂pr√ºler ve depolar. "Clinton ve Canal\'daki depolar gece yarƒ±sƒ±na kadar parlayan harabelere d√∂n√º≈üt√º".'},
        'LaSalle Street': {name: 'LaSalle Sokaƒüƒ±', desc: 'Ana finansal arter. Monroe St\'den Chicago Ave\'ye kadar tamamen yandƒ±. Bankalar, borsalar, sigorta ≈üirketleri yok oldu. "Finansal mezarlƒ±k".'},
        'Dearborn Street': {name: 'Dearborn/State Sokaklarƒ±', desc: '≈ûehrin ticari kalbi. ƒ∞lk √ßok katlƒ± oteller, maƒüazalar ve ofisler. "Dearborn cephesi s√ºrekli bir alev duvarƒ±ydƒ±".'},
        'Wabash Avenue': {name: 'Wabash/Michigan Bulvarlarƒ±', desc: 'En g√ºzel bulvarlar. Tamamen k√ºle d√∂n√º≈üt√º. Tremont House, Palmer House, Michigan Central Depot. "Roma tarzƒ± harabeler".'},
        'Randolph/Madison/Monroe': {name: 'Randolph/Madison/Monroe', desc: 'Merkezi koridorlar. Nehir ile Wabash Ave arasƒ±ndaki t√ºm binalar kayboldu. Tribune Building yandƒ±.'},
        'Chicago Avenue': {name: 'Chicago Bulvarƒ±', desc: 'Son savunma hattƒ±. Chicago Water Tower ve Pump House. Hayatta kalan birka√ß yapƒ±dan biri.'},
        'Clark Street': {name: 'Clark Sokaƒüƒ±', desc: 'Kuzey Yakasƒ±nƒ±n ana sokaƒüƒ±. Tamamen yok edildi. Sakinler g√∂le doƒüru ka√ßtƒ±. "Mor duman sokaƒüƒ±".'},
        'Kinzie Street': {name: 'Kinzie Sokaƒüƒ±', desc: 'ƒ∞lk k√∂pr√ºlerden biri. Yangƒ±nƒ±n nehri ge√ßtiƒüi k√∂pr√º. Yanan enkazlar r√ºzgar tarafƒ±ndan ta≈üƒ±ndƒ±.'},
        'North/Lincoln Avenues': {name: 'North/Lincoln Bulvarlarƒ±', desc: 'Yƒ±kƒ±mƒ±n kuzey sƒ±nƒ±rƒ±. Geni≈ü m√ºlteci kampƒ± (100.000\'e kadar ki≈üi).'}
      }
    };

    function getStreetInfo(streetName) {
      const lang = document.documentElement.getAttribute('data-lang') || 'en';
      return streetInfo[lang] && streetInfo[lang][streetName] ? streetInfo[lang][streetName] : {name: streetName, desc: ''};
    }

    function getStreetNameFromCell(c, r) {
      // Map cell coordinates to street names using only active streets for current level
      // On level 1: 1 street, level 2: 2 streets, etc. up to 10 streets
      // Split streets between vertical and horizontal to avoid duplication
      const activeStreetCount = Math.min(currentLevel + 1, streetKeys.length);
      const activeStreets = streetKeys.slice(0, activeStreetCount);
      const halfCount = Math.ceil(activeStreets.length / 2);
      const verticalStreets = activeStreets.slice(0, halfCount);
      const horizontalStreets = activeStreets.slice(halfCount);
      
      // Map coordinates to street names - each street appears only once
      if(c % 2 === 0 && r % 2 === 0) {
        // Intersection - prefer column-based street (vertical)
        const colIndex = Math.floor(c / 2);
        if(colIndex < verticalStreets.length) {
          return verticalStreets[colIndex];
        }
      } else if(c % 2 === 0) {
        // North-south street (vertical)
        const colIndex = Math.floor(c / 2);
        if(colIndex < verticalStreets.length) {
          return verticalStreets[colIndex];
        }
      } else if(r % 2 === 0) {
        // East-west street (horizontal)
        const rowIndex = Math.floor(r / 2);
        if(rowIndex < horizontalStreets.length) {
          return horizontalStreets[rowIndex];
        }
      }
      return null;
    }

    function resizeMap(level) {
      // Progressive map growth: gradually increases with each level
      // Base size for level 0, then +1 column every 2 levels, +1 row every 3 levels
      const baseCOLS = 10;
      const baseROWS = 6;
      const colsIncrease = Math.floor(level / 2); // +1 column every 2 levels
      const rowsIncrease = Math.floor(level / 3); // +1 row every 3 levels
      
      COLS = baseCOLS + colsIncrease;
      ROWS = baseROWS + rowsIncrease;
      
      // Cap maximum size
      COLS = Math.min(COLS, 18);
      ROWS = Math.min(ROWS, 11);
      
      CELL = Math.floor(Math.min(W/COLS, H/ROWS));
      offsetX = Math.floor((W - CELL*COLS)/2);
      offsetY = Math.floor((H - CELL*ROWS)/2);
    }

    function createGrid() {
      return Array.from({length:ROWS}, (_,r)=>Array.from({length:COLS},(_,c)=> {
      // –û–∑–µ—Ä–æ –ú–∏—á–∏–≥–∞–Ω –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Å—Ç–æ–ª–±—Ü–∞ - —Ç–∞–º –Ω–µ—Ç –∑–¥–∞–Ω–∏–π
      const lakeStartCol = Math.max(COLS - 2, 0); // Lake starts 2 columns from the end
      if(c >= lakeStartCol) return 0; // –í–æ–¥–∞ –æ–∑–µ—Ä–∞
      return (r%2===1 && c%2===1) ? 1 : 0; // 1 building, 0 street
    }));
    }

    let grid = createGrid();
    let fire = Array.from({length:ROWS},()=>Array(COLS).fill(0)); // 0 none,1 smolder,2 burning,3 ruin
    let fireStartTime = Array.from({length:ROWS},()=>Array(COLS).fill(0)); // Track when each building started burning
    
    // Water Tower - the only building that doesn't burn
    let waterTower = {
      x: offsetX + CELL * 6.5, // Centered in cell (6, 4)
      y: offsetY + CELL * 4.5, // 2 squares lower
      size: CELL * 0.6, // Smaller size
      active: true,
      refillRate: 30 // Faster refill than hydrants
    };

    const player = {x: offsetX + CELL*0.5, y: offsetY + CELL*1.5, speed: 240, water:100, maxWater:100, cooldown:0, score:0, burned:0, lives:12, powerUps:[], rescued:0, combo:0, maxCombo:0, extinguished:0};
    const mouse = {x: player.x, y: player.y, down:false};
    
    // Automatic fire trucks (only active when player is cow)
    let autoFireTrucks = [];
    let cowFireCooldown = 0; // Cooldown for cow to start fires
    let fireTrucksActivated = false; // Track if fire trucks are activated (after 5 seconds from first fire)
    let fireTrucksActivationTimer = 0; // Timer for 5 second delay after cow starts first fire
    let firstFireStarted = false; // Track if cow has started first fire
    let firstFireTime = 0; // Time when cow started first fire
    let fireTrucksExtinguished = 0; // Count of fires extinguished by fire trucks
    
    // üéµ Sound System
    let audioContext = null;
    let backgroundMusicGain = null;
    let soundEffectsGain = null;
    let backgroundOscillator = null;
    let isSoundEnabled = localStorage.getItem('soundEnabled') !== 'false'; // Check saved state
    let lastStepSound = 0;
    
    // Initialize Web Audio API
    function initAudio() {
      try {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        backgroundMusicGain = audioContext.createGain();
        soundEffectsGain = audioContext.createGain();
        backgroundMusicGain.connect(audioContext.destination);
        soundEffectsGain.connect(audioContext.destination);
        // Set volume based on sound enabled state
        backgroundMusicGain.gain.value = isSoundEnabled ? 0.15 : 0; // Background music volume
        soundEffectsGain.gain.value = isSoundEnabled ? 0.3 : 0; // Sound effects volume
      } catch(e) {
        console.log('Audio not supported:', e);
        isSoundEnabled = false;
      }
    }
    
    // Listen for sound toggle events
    window.addEventListener('soundToggle', (e) => {
      const enabled = e.detail.enabled;
      isSoundEnabled = enabled;
      if(backgroundMusicGain) {
        backgroundMusicGain.gain.value = enabled ? 0.15 : 0;
      }
      if(soundEffectsGain) {
        soundEffectsGain.gain.value = enabled ? 0.3 : 0;
      }
      console.log('üéµ Game sounds', enabled ? 'enabled' : 'disabled');
    });
    
    // Start background music (ambient fire sound)
    function startBackgroundMusic() {
      if(!isSoundEnabled || !audioContext) return;
      
      try {
        // Create a low-frequency ambient sound (fire crackling)
        backgroundOscillator = audioContext.createOscillator();
        const noise = audioContext.createBufferSource();
        const bufferSize = audioContext.sampleRate * 2;
        const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
        const data = buffer.getChannelData(0);
        
        // Generate brown noise (fire-like sound)
        let lastOut = 0.0;
        for(let i = 0; i < bufferSize; i++) {
          const white = Math.random() * 2 - 1;
          lastOut = (lastOut + white * 0.02) * 0.98;
          data[i] = lastOut * 0.3;
        }
        
        noise.buffer = buffer;
        noise.loop = true;
        
        // Add filter for fire-like sound
        const filter = audioContext.createBiquadFilter();
        filter.type = 'bandpass';
        filter.frequency.value = 800;
        filter.Q.value = 1;
        
        noise.connect(filter);
        filter.connect(backgroundMusicGain);
        noise.start(0);
        
        // Store reference for stopping later
        backgroundOscillator = noise;
      } catch(e) {
        console.log('Background music error:', e);
      }
    }
    
    // Stop background music
    function stopBackgroundMusic() {
      if(backgroundOscillator) {
        try {
          backgroundOscillator.stop();
          backgroundOscillator = null;
        } catch(e) {}
      }
    }
    
    // Play sound effect
    function playSound(type, frequency = 440, duration = 0.1) {
      if(!isSoundEnabled || !audioContext) return;
      
      try {
        const osc = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        osc.connect(gainNode);
        gainNode.connect(soundEffectsGain);
        
        switch(type) {
          case 'step':
            // Footstep sound - short click
            osc.type = 'sine';
            osc.frequency.value = 200;
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.05);
            osc.start();
            osc.stop(audioContext.currentTime + 0.05);
            break;
            
          case 'water':
            // Water spray sound - white noise burst
            const bufferSize = audioContext.sampleRate * 0.1;
            const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
            const data = buffer.getChannelData(0);
            for(let i = 0; i < bufferSize; i++) {
              data[i] = (Math.random() * 2 - 1) * 0.2;
            }
            const source = audioContext.createBufferSource();
            source.buffer = buffer;
            const filter = audioContext.createBiquadFilter();
            filter.type = 'highpass';
            filter.frequency.value = 1000;
            source.connect(filter);
            filter.connect(soundEffectsGain);
            source.start();
            source.stop(audioContext.currentTime + 0.1);
            break;
            
          case 'extinguish':
            // Extinguish sound - descending tone
            osc.type = 'sine';
            osc.frequency.setValueAtTime(600, audioContext.currentTime);
            osc.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.2);
            gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            osc.start();
            osc.stop(audioContext.currentTime + 0.2);
            break;
            
          case 'powerup':
            // Power-up collection - ascending tone
            osc.type = 'sine';
            osc.frequency.setValueAtTime(300, audioContext.currentTime);
            osc.frequency.exponentialRampToValueAtTime(800, audioContext.currentTime + 0.15);
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
            osc.start();
            osc.stop(audioContext.currentTime + 0.15);
            break;
            
          case 'rescue':
            // Rescue sound - pleasant chime
            osc.type = 'sine';
            osc.frequency.setValueAtTime(523, audioContext.currentTime); // C5
            gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            osc.start();
            osc.stop(audioContext.currentTime + 0.3);
            break;
            
          case 'explosion':
            // Explosion - low rumble
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(80, audioContext.currentTime);
            osc.frequency.exponentialRampToValueAtTime(40, audioContext.currentTime + 0.3);
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            osc.start();
            osc.stop(audioContext.currentTime + 0.3);
            break;
            
          case 'fire':
            // Fire crackling - short burst
            const fireBufferSize = audioContext.sampleRate * 0.05;
            const fireBuffer = audioContext.createBuffer(1, fireBufferSize, audioContext.sampleRate);
            const fireData = fireBuffer.getChannelData(0);
            for(let i = 0; i < fireBufferSize; i++) {
              fireData[i] = (Math.random() * 2 - 1) * 0.15;
            }
            const fireSource = audioContext.createBufferSource();
            fireSource.buffer = fireBuffer;
            const fireFilter = audioContext.createBiquadFilter();
            fireFilter.type = 'bandpass';
            fireFilter.frequency.value = 1200;
            fireSource.connect(fireFilter);
            fireFilter.connect(soundEffectsGain);
            fireSource.start();
            fireSource.stop(audioContext.currentTime + 0.05);
            break;
        }
      } catch(e) {
        console.log('Sound error:', e);
      }
    }
    
    // Initialize audio on first user interaction
    let audioInitialized = false;
    function initAudioOnInteraction() {
      if(!audioInitialized && audioContext && audioContext.state === 'suspended') {
        audioContext.resume().then(() => {
          startBackgroundMusic();
        });
        audioInitialized = true;
      }
      // Also try to play lake video on user interaction
      if(lakeVideo && lakeVideo.paused) {
        lakeVideo.play().catch(e => {
          console.log('Lake video play prevented:', e);
        });
      }
    }
    
    // Power-ups system
    let powerUps = [];
    let civilians = [];
    let explosions = [];
    let weather = {wind: 1, rain: 0, fog: 0};
    let achievements = {firstRescue: false, combo10: false, perfectLevel: false, speedRun: false};
    
    // Ships in Lake Michigan
    let ships = [];
    function createShips(){
      const lakeStartCol = Math.max(COLS - 2, 0);
      // Position ships dynamically in the lake area (last 2 columns)
      const shipCol1 = lakeStartCol + 0.2; // First ship position in lake
      const shipCol2 = lakeStartCol + 1.2; // Second ship position in lake
      ships = [
        {x: offsetX + CELL*shipCol1, y: offsetY + CELL*1.5, size: CELL*0.8, fireIntensity: 0.8, maxFire: 0.8, id: 0, baseX: offsetX + CELL*shipCol1, baseY: offsetY + CELL*1.5, swayX: 0, swayY: 0, burned: false},
        {x: offsetX + CELL*shipCol2, y: offsetY + CELL*2.8, size: CELL*1.2, fireIntensity: 1.0, maxFire: 1.0, id: 1, baseX: offsetX + CELL*shipCol2, baseY: offsetY + CELL*2.8, swayX: 0, swayY: 0, burned: false},
        {x: offsetX + CELL*shipCol1, y: offsetY + CELL*4.5, size: CELL*0.9, fireIntensity: 0.6, maxFire: 0.6, id: 2, baseX: offsetX + CELL*shipCol1, baseY: offsetY + CELL*4.5, swayX: 0, swayY: 0, burned: false},
        {x: offsetX + CELL*shipCol2, y: offsetY + CELL*5.2, size: CELL*1.0, fireIntensity: 0.9, maxFire: 0.9, id: 3, baseX: offsetX + CELL*shipCol2, baseY: offsetY + CELL*5.2, swayX: 0, swayY: 0, burned: false}
      ];
    }

    // Hydrants on streets
    let hydrants = [];
    // Central hydrant - always at the center of the map
    let centralHydrant = null;
    
    function placeHydrants(n){
      hydrants = [];
      while(hydrants.length<n){
        const r = Math.floor(Math.random()*ROWS);
        const c = Math.floor(Math.random()*COLS);
        if(grid[r][c]===0){ // street
          const key = r+','+c;
          if(!hydrants.find(h=>h.key===key)){
            hydrants.push({r,c,x:offsetX+c*CELL+CELL/2,y:offsetY+r*CELL+CELL/2,key});
          }
        }
      }
      
      // Place central hydrant at the exact center of the map (X and Y axis)
      // Calculate exact center coordinates
      const centerX = offsetX + (COLS * CELL) / 2;
      const centerY = offsetY + (ROWS * CELL) / 2;
      
      // Find the cell closest to center
      const centerCol = Math.floor((centerX - offsetX) / CELL);
      const centerRow = Math.floor((centerY - offsetY) / CELL);
      
      // Ensure it's on a street (if center is a building, move to nearest street)
      let hydrantCol = centerCol;
      let hydrantRow = centerRow;
      if(grid[hydrantRow] && grid[hydrantRow][hydrantCol] === 1) {
        // If center is a building, find nearest street
        if(centerCol > 0 && grid[centerRow][centerCol-1] === 0) hydrantCol = centerCol - 1;
        else if(centerCol < COLS-1 && grid[centerRow][centerCol+1] === 0) hydrantCol = centerCol + 1;
        else if(centerRow > 0 && grid[centerRow-1][centerCol] === 0) hydrantRow = centerRow - 1;
        else if(centerRow < ROWS-1 && grid[centerRow+1][centerCol] === 0) hydrantRow = centerRow + 1;
      }
      
      // Use exact center coordinates for positioning
      centralHydrant = {
        r: hydrantRow,
        c: hydrantCol,
        x: centerX,
        y: centerY,
        key: 'central'
      };
    }

    // Power-ups spawning
    function spawnPowerUp(){
      const types = ['waterBoost', 'fireResist', 'speedBoost', 'extinguisher', 'shield'];
      const type = types[Math.floor(Math.random() * types.length)];
      
      // Try to find a valid street location (with retries)
      let attempts = 0;
      const maxAttempts = 50;
      while(attempts < maxAttempts){
        attempts++;
      const r = Math.floor(Math.random()*ROWS);
      const c = Math.floor(Math.random()*COLS);
        if(grid[r] && grid[r][c] === 0){ // street
          // Check if there's already a power-up at this location
          const key = r+','+c;
          if(!powerUps.find(pu => {
            const puR = Math.floor((pu.y - offsetY)/CELL);
            const puC = Math.floor((pu.x - offsetX)/CELL);
            return puR === r && puC === c;
          })){
        powerUps.push({
          x: offsetX + c*CELL + CELL/2,
          y: offsetY + r*CELL + CELL/2,
          type: type,
              life: 600, // 10 seconds at 60fps (increased from 5)
          collected: false
        });
            return; // Successfully spawned
          }
        }
      }
    }

    // Civilian rescue system
    function spawnCivilians(n){
      civilians = [];
      while(civilians.length < n){
        const r = Math.floor(Math.random()*ROWS);
        const c = Math.floor(Math.random()*COLS);
        if(grid[r][c]===1 && fire[r][c]===0){ // building without fire
          civilians.push({
            x: offsetX + c*CELL + CELL/2,
            y: offsetY + r*CELL + CELL/2,
            rescued: false,
            panic: 0,
            type: Math.random() < 0.7 ? 'adult' : 'child'
          });
        }
      }
    }

    // Explosion effects
    function createExplosion(x, y, intensity = 1){
      playSound('explosion');
      explosions.push({
        x: x,
        y: y,
        radius: 0,
        maxRadius: 20 * intensity,
        life: 60,
        particles: []
      });
    }

    // Enhanced levels with more mechanics and increasing difficulty
    // Each level uses a street name from the database, fires double each level (2, 4, 8, 16...)
    const streetKeys = ['DeKoven Street', 'Canal/Jefferson/Clinton', 'LaSalle Street', 'Dearborn Street', 'Wabash Avenue', 
                        'Randolph/Madison/Monroe', 'Chicago Avenue', 'Clark Street', 'Kinzie Street', 'North/Lincoln Avenues'];
    
    const levels = [
      {fires:2, time:12, spread:0.35, ember:0.25, burnOut:0.04, waterUse:1.0, wind:[1,0.4], civilians:2, powerUps:1, streetKey:streetKeys[0]},
      {fires:4, time:15, spread:0.40, ember:0.30, burnOut:0.05, waterUse:1.1, wind:[4,0.6], civilians:3, powerUps:2, streetKey:streetKeys[1]},
      {fires:8, time:20, spread:0.45, ember:0.35, burnOut:0.06, waterUse:1.2, wind:[8,0.8], civilians:4, powerUps:2, streetKey:streetKeys[2]},
      {fires:16, time:25,  spread:0.50, ember:0.40, burnOut:0.07, waterUse:1.3, wind:[7,1.0], civilians:5, powerUps:3, streetKey:streetKeys[3]},
      {fires:32, time:30,  spread:0.55, ember:0.45, burnOut:0.08, waterUse:1.4, wind:[8,1.2], civilians:6, powerUps:3, streetKey:streetKeys[4]},
      {fires:64, time:35, spread:0.60, ember:0.50, burnOut:0.09, waterUse:1.5, wind:[8,1.4], civilians:7, powerUps:4, streetKey:streetKeys[5]},
      {fires:128, time:40, spread:0.65, ember:0.55, burnOut:0.10, waterUse:1.6, wind:[8,1.6], civilians:8, powerUps:4, streetKey:streetKeys[6]},
      {fires:256, time:45, spread:0.70, ember:0.60, burnOut:0.11, waterUse:1.7, wind:[8,1.8], civilians:9, powerUps:5, streetKey:streetKeys[7]},
      {fires:512, time:45, spread:0.75, ember:0.65, burnOut:0.12, waterUse:1.8, wind:[8,2.0], civilians:10, powerUps:5, streetKey:streetKeys[8]},
      {fires:1024, time:55, spread:0.80, ember:0.70, burnOut:0.13, waterUse:1.9, wind:[8,2.2], civilians:12, powerUps:6, streetKey:streetKeys[9]}
    ];
    // wind codes: 0 Calm,1 N,2 E,3 S,4 W,5 NE,6 NW,7 SE,8 SW
    function windVector(code, mag){
      const dirs = {
        0:[0,0], 1:[0,-1], 2:[1,0], 3:[0,1], 4:[-1,0],
        5:[Math.SQRT1_2, -Math.SQRT1_2], 6:[-Math.SQRT1_2, -Math.SQRT1_2],
        7:[Math.SQRT1_2, Math.SQRT1_2], 8:[-Math.SQRT1_2, Math.SQRT1_2]
      };
      const v = dirs[code] || [0,0];
      return [v[0]*mag, v[1]*mag];
    }

    let currentLevel = 0;
    let windCode = levels[currentLevel].wind[0];
    let windMag = levels[currentLevel].wind[1];
    let windVec = windVector(windCode, windMag);
    let timeLeft = levels[currentLevel].time;
    let fireSpawnTimer = 0; // Timer for spawning new fires
    let levelStartTime = 0; // Track when level started (for building burn time)
    let running = true;
    let last = performance.now();
    let spreadTimer = 0;
    let endMessage = '';

    function setHUD(){
      hud.tip.textContent = t('tip');
      // Get street name from database
      const streetData = getStreetInfo(levels[currentLevel].streetKey);
      hud.level.textContent = `${t('level')}: ${currentLevel+1}/10 - ${streetData.name}`;
      hud.wind.textContent = `${t('wind')}: ${tWind(windCode)} (${windMag})`;
      hud.score.textContent = `${t('score')}: ${player.score}`;
      hud.burned.textContent = `${t('burned')}: ${player.burned}`;
      // Show time until next fire spawn (or elapsed time if no fires left)
      let active = 0;
      for(let r=0;r<ROWS;r++){ for(let c=0;c<COLS;c++){ if(fire[r][c]===1||fire[r][c]===2) active++; } }
      if(active > 0) {
        const timeUntilNextFire = Math.max(0, levels[currentLevel].time - fireSpawnTimer);
        hud.time.textContent = `${t('time')}: ${Math.ceil(timeUntilNextFire)}s (next fire)`;
      } else {
        hud.time.textContent = `${t('time')}: --`;
      }
      // Show different info based on player role
      if(playerRole === 'cow') {
        // Count active fires for cow
        let activeFires = 0;
        for(let r=0;r<ROWS;r++){ 
          for(let c=0;c<COLS;c++){ 
            if(fire[r][c]===1||fire[r][c]===2) activeFires++; 
          } 
        }
        hud.water.textContent = `üî• Yangƒ±nlar: ${activeFires}`;
      } else {
      hud.water.textContent = `${t('water')}: ${Math.round(player.water)}`;
      }
      hudLives.textContent = `‚ù§Ô∏è: ${player.lives}`;
      hudRescued.textContent = `üë•: ${player.rescued}`;
      hudCombo.textContent = `üî•: ${player.combo}`;
      // Show different extinguished count based on player role
      if(playerRole === 'cow') {
        hudExtinguished.textContent = `üíß: ${fireTrucksExtinguished}/${levels[currentLevel].fires}`;
      } else {
      hudExtinguished.textContent = `üíß: ${player.extinguished}/${levels[currentLevel].fires}`;
      }
    }

    // Mouse controls
    function canvasPos(e){
      const rect = cvs.getBoundingClientRect();
      const sx = cvs.width / rect.width;
      const sy = cvs.height / rect.height;
      return {x: (e.clientX - rect.left)*sx, y: (e.clientY - rect.top)*sy};
    }
    // Intro modal and map preview handlers
    const introModal = document.getElementById('gameIntroModal');
    const mapPreview = document.getElementById('gameMapPreview');
    const mapPreviewCanvas = document.getElementById('mapPreviewCanvas');
    const btnStartGame = document.getElementById('btnStartGame');
    const btnStartFromMap = document.getElementById('btnStartFromMap');
    const roleSelect = document.getElementById('gameRoleSelect');
    const streetInfoDisplay = document.getElementById('streetInfoDisplay');
    const streetInfoName = document.getElementById('streetInfoName');
    const streetInfoDesc = document.getElementById('streetInfoDesc');
    
    // Update role select options based on current language
    function updateRoleSelectLanguage() {
      if(!roleSelect) return;
      const lang = document.documentElement.getAttribute('data-lang') || 'en';
      const options = roleSelect.querySelectorAll('option');
      
      options.forEach(option => {
        const optionLang = option.getAttribute('data-i18n');
        if(optionLang === lang) {
          option.style.display = '';
          // Update the selected option text if it's currently selected
          if(option.selected) {
            roleSelect.value = option.value;
          }
        } else {
          option.style.display = 'none';
        }
      });
      
      // If current selected option is hidden, select the first visible option
      const selectedOption = roleSelect.options[roleSelect.selectedIndex];
      if(selectedOption && selectedOption.style.display === 'none') {
        for(let i = 0; i < options.length; i++) {
          if(options[i].style.display !== 'none') {
            roleSelect.selectedIndex = i;
            break;
          }
        }
      }
    }
    
    // Update role select on language change
    if(roleSelect) {
      updateRoleSelectLanguage();
      const roleSelectObserver = new MutationObserver(() => {
        updateRoleSelectLanguage();
      });
      roleSelectObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['data-lang']
      });
    }
    
    // Pre-round modal elements
    const preRoundModal = document.getElementById('preRoundModal');
    const preRoundTitle = document.getElementById('preRoundTitle');
    const preRoundStreetName = document.getElementById('preRoundStreetName');
    const preRoundStreetDesc = document.getElementById('preRoundStreetDesc');
    const btnStartRound = document.getElementById('btnStartRound');
    
    let currentPreRoundLevel = 0;

    // Show intro modal on page load (if game section is visible)
    function checkGameVisibility() {
      const gameSection = document.getElementById('game');
      if(gameSection) {
        const rect = gameSection.getBoundingClientRect();
        if(rect.top < window.innerHeight && rect.bottom > 0 && !gameStarted) {
          // Game section is visible, show intro if not started
          if(introModal && introModal.style.display !== 'none') {
            // Modal already shown or will be shown
          }
        }
      }
    }

    // Draw map preview
    function drawMapPreview() {
      if(!mapPreviewCanvas) return;
      const previewCtx = mapPreviewCanvas.getContext('2d');
      const previewW = mapPreviewCanvas.width;
      const previewH = mapPreviewCanvas.height;
      const previewCOLS = 16, previewROWS = 9;
      const previewCELL = Math.min(previewW/previewCOLS, previewH/previewROWS);
      const previewOffsetX = (previewW - previewCELL*previewCOLS)/2;
      const previewOffsetY = (previewH - previewCELL*previewROWS)/2;

      // Clear
      previewCtx.fillStyle = '#0a0d14';
      previewCtx.fillRect(0, 0, previewW, previewH);

      // Draw grid
      for(let r=0; r<previewROWS; r++) {
        for(let c=0; c<previewCOLS; c++) {
          const x = previewOffsetX + c*previewCELL;
          const y = previewOffsetY + r*previewCELL;
          if(c >= 12) {
            // Lake Michigan
            previewCtx.fillStyle = 'rgba(30,144,255,0.3)';
          } else if(r%2===1 && c%2===1) {
            // Buildings
            previewCtx.fillStyle = 'rgba(139,69,19,0.4)';
          } else {
            // Streets
            previewCtx.fillStyle = 'rgba(40,40,40,0.6)';
          }
          previewCtx.fillRect(x, y, previewCELL, previewCELL);
        }
      }

      // Draw Water Tower (red marker - historical building that didn't burn)
      const towerX = previewOffsetX + previewCELL * 6;
      const towerY = previewOffsetY + previewCELL * 2;
      previewCtx.fillStyle = '#dc3c3c';
      previewCtx.beginPath();
      previewCtx.arc(towerX, towerY, previewCELL*0.8, 0, Math.PI*2);
      previewCtx.fill();
      previewCtx.strokeStyle = '#ffb703';
      previewCtx.lineWidth = 3;
      previewCtx.stroke();

      // Draw sample hydrants (red dots)
      previewCtx.fillStyle = '#fb5607';
      for(let i=0; i<6; i++) {
        const hx = previewOffsetX + previewCELL * (2 + i*2);
        const hy = previewOffsetY + previewCELL * (1 + (i%2)*2);
        previewCtx.beginPath();
        previewCtx.arc(hx, hy, previewCELL*0.15, 0, Math.PI*2);
        previewCtx.fill();
      }

      // Label
      previewCtx.fillStyle = '#ffb703';
      previewCtx.font = 'bold 16px system-ui';
      previewCtx.textAlign = 'center';
      previewCtx.fillText('Water Tower', towerX, towerY - previewCELL*1.2);
    }

    // Event handlers
    if(btnStartGame) {
      btnStartGame.addEventListener('click', () => {
        playerRole = roleSelect ? roleSelect.value : 'firefighter';
        if(introModal) introModal.style.display = 'none';
        if(mapPreview) {
          drawMapPreview();
          mapPreview.style.display = 'flex';
        }
      });
    }

    if(btnStartFromMap) {
      btnStartFromMap.addEventListener('click', () => {
        gameStarted = true;
        if(mapPreview) mapPreview.style.display = 'none';
        // Start with pre-round cutscene
        startLevel(0);
      });
    }

    // Update water tower position when map resizes
    function updateWaterTowerPosition() {
      // Position water tower in the middle-left area of the map, adapting to map size
      // Center it exactly in a grid cell, 2 squares lower
      const towerCol = Math.min(6, Math.floor(COLS * 0.4)); // 40% from left, max column 6
      const towerRow = Math.min(4, Math.floor(ROWS * 0.3) + 2); // 2 squares lower, max row 4
      waterTower.x = offsetX + CELL * (towerCol + 0.5); // Center in cell
      waterTower.y = offsetY + CELL * (towerRow + 0.5); // Center in cell
      waterTower.size = CELL * 0.6; // Smaller minimalist size
    }

    cvs.addEventListener('pointermove', (e)=>{ 
      const p=canvasPos(e); 
      mouse.x=p.x; 
      mouse.y=p.y;
      initAudioOnInteraction();
    });
    cvs.addEventListener('pointerdown', (e)=>{ 
      if(e.button===0){
        mouse.down=true; 
        cvs.setPointerCapture(e.pointerId);
      }
      initAudioOnInteraction();
    });
    cvs.addEventListener('pointerup', (e)=>{ if(e.button===0){mouse.down=false; cvs.releasePointerCapture(e.pointerId);} });
    cvs.addEventListener('contextmenu', e=>e.preventDefault());
    window.addEventListener('keydown', (e)=>{ if(e.key.toLowerCase()==='r'){ startLevel(currentLevel); } });

    hud.btnRestart.addEventListener('click', ()=>startLevel(currentLevel));
    
    // Previous Level button - allows going back to previous level
    const btnPreviousLevel = document.getElementById('btnPreviousLevel');
    btnPreviousLevel.addEventListener('click', ()=>{
      if(currentLevel > 0){
        startLevel(currentLevel - 1);
      }
    });
    
    // Next Level button - allows skipping to next level without winning
    const btnNextLevel = document.getElementById('btnNextLevel');
    btnNextLevel.addEventListener('click', ()=>{
      if(currentLevel < levels.length - 1){
        advanceLevel();
      } else {
        alert('You are on the last level!');
      }
    });
    
    // Function to update Previous/Next level button states
    function updateLevelButtons(){
      if(currentLevel === 0){
        btnPreviousLevel.disabled = true;
        btnPreviousLevel.style.opacity = '0.5';
        btnPreviousLevel.style.cursor = 'not-allowed';
        btnPreviousLevel.style.background = 'rgba(100,100,100,0.6)';
      } else {
        btnPreviousLevel.disabled = false;
        btnPreviousLevel.style.opacity = '1';
        btnPreviousLevel.style.cursor = 'pointer';
        btnPreviousLevel.style.background = 'rgba(255,183,3,0.8)';
      }
      
      if(currentLevel >= levels.length - 1){
        btnNextLevel.disabled = true;
        btnNextLevel.style.opacity = '0.5';
        btnNextLevel.style.cursor = 'not-allowed';
      } else {
        btnNextLevel.disabled = false;
        btnNextLevel.style.opacity = '1';
        btnNextLevel.style.cursor = 'pointer';
      }
    }

    function neighborsRC(r,c){
      return [[r-1,c],[r+1,c],[r,c-1],[r,c+1]].filter(([rr,cc])=>rr>=0&&rr<ROWS&&cc>=0&&cc<COLS);
    }

    function seedFires(n){
      let placed=0;
      let attempts=0;
      const maxAttempts = n * 20; // Prevent infinite loops
      
      // Always start the first fire in the bottom-left corner
      if(n > 0) {
        // Find the bottom-left building position
        // Buildings are at odd indices (r%2===1 && c%2===1)
        // Bottom = maximum odd row index, Left = minimum odd column index
        let bottomRow = 1; // Start with first building row
        for(let r = ROWS - 1; r >= 0; r--) {
          if(r % 2 === 1 && grid[r] && grid[r][1] === 1) {
            bottomRow = r;
            break;
          }
        }
        const leftCol = 1; // Leftmost building column (always 1)
        
        // Place first fire at bottom-left
        if(grid[bottomRow] && grid[bottomRow][leftCol] === 1 && fire[bottomRow][leftCol] === 0) {
          fire[bottomRow][leftCol] = 2;
          fireStartTime[bottomRow][leftCol] = (performance.now() - levelStartTime) / 1000;
          placed++;
          console.log(`üî• First fire seeded at bottom-left: row ${bottomRow}, col ${leftCol}`);
        }
      }
      
      // Place remaining fires randomly
      while(placed<n && attempts < maxAttempts){
        attempts++;
        const r=1+2*Math.floor(Math.random()*Math.floor(ROWS/2));
        const c=1+2*Math.floor(Math.random()*Math.floor(COLS/2));
        // Ensure fire only spawns on buildings (grid[r][c] === 1)
        if(grid[r][c]===1 && fire[r][c]===0){
          fire[r][c]=2; 
          fireStartTime[r][c] = (performance.now() - levelStartTime) / 1000; // Record when fire started (in seconds)
          placed++;
      }
      }
      
      console.log(`üî• Seeded ${placed} fires on buildings (attempts: ${attempts})`);
    }

    // Show pre-round cutscene
    function showPreRoundCutscene(lvl) {
      currentPreRoundLevel = lvl;
      const L = levels[lvl];
      const streetKey = L.streetKey;
      const streetData = getStreetInfo(streetKey);
      const lang = document.documentElement.getAttribute('data-lang') || 'en';
      
      // Update modal content with language support
      if(preRoundTitle) {
        const roundTitles = {
          ru: `–†–∞—É–Ω–¥ ${lvl + 1} –∏–∑ 10`,
          en: `Round ${lvl + 1} of 10`,
          it: `Round ${lvl + 1} di 10`,
          tr: `10'dan ${lvl + 1}. Tur`
        };
        preRoundTitle.textContent = roundTitles[lang] || roundTitles.en;
      }
      
      if(preRoundStreetName) {
        const nameSpan = preRoundStreetName.querySelector('span:last-child');
        if(nameSpan) {
          nameSpan.textContent = streetData.name;
        } else {
          preRoundStreetName.textContent = streetData.name;
        }
      }
      
      if(preRoundStreetDesc) {
        preRoundStreetDesc.textContent = streetData.desc;
      }
      
      // Show modal
      if(preRoundModal) {
        preRoundModal.style.display = 'flex';
      }
    }
    
    // Update pre-round modal when language changes
    function updatePreRoundModalLanguage() {
      if(preRoundModal && preRoundModal.style.display === 'flex' && currentPreRoundLevel !== undefined) {
        showPreRoundCutscene(currentPreRoundLevel);
      }
    }
    
    // Play button handler
    if(btnStartRound) {
      // Update button text based on current language
      function updatePlayButtonText() {
        const lang = document.documentElement.getAttribute('data-lang') || 'en';
        const playTexts = {
          ru: '–ò–≥—Ä–∞—Ç—å',
          en: 'Play',
          it: 'Gioca',
          tr: 'Oyna'
        };
        btnStartRound.textContent = playTexts[lang] || playTexts.en;
      }
      
      // Update on language change
      const playButtonObserver = new MutationObserver(() => {
        updatePlayButtonText();
      });
      playButtonObserver.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ['data-lang']
      });
      
      // Initial update
      updatePlayButtonText();
      
      btnStartRound.addEventListener('click', () => {
        if(preRoundModal) preRoundModal.style.display = 'none';
        startLevelActual(currentPreRoundLevel);
      });
    }
    
    function startLevelActual(lvl){
      currentLevel = lvl;
      const L = levels[lvl];
      
      // Initialize audio on first level start
      if(!audioContext) {
        initAudio();
      }
      if(audioContext && audioContext.state === 'suspended') {
        audioContext.resume();
      }
      if(!backgroundOscillator) {
        startBackgroundMusic();
      }
      
      // Resize map based on level
      resizeMap(lvl);
      grid = createGrid();
      fire = Array.from({length:ROWS},()=>Array(COLS).fill(0));
      fireStartTime = Array.from({length:ROWS},()=>Array(COLS).fill(0)); // Reset fire start times
      
      // Initialize building variants - assign random image variant to each building
      buildingVariants = Array.from({length:ROWS}, (_,r)=>Array.from({length:COLS},(_,c)=> {
        if(grid[r][c] === 1) {
          // Randomly select one of the 4 building variants (0-3)
          return Math.floor(Math.random() * buildingImagePaths.length);
        }
        return -1; // Not a building
      }));
      updateWaterTowerPosition();
      
      player.x = offsetX + CELL*0.5; player.y = offsetY + CELL*1.5;
      // Levels 6-10 (lvl >= 5): 20 lives and 250 water; Levels 1-5: 12 lives and 100 water
      if(lvl >= 5){
        player.lives = 20;
        player.maxWater = 250;
        player.water = 250;
      } else {
        player.lives = 12;
        player.maxWater = 100;
        player.water = 100;
      }
      player.cooldown=0; player.score=0; player.burned=0; player.rescued=0; player.combo=0; player.extinguished=0;
      timeLeft=L.time; fireSpawnTimer=0; levelStartTime=performance.now(); running=true; spreadTimer=0; endMessage='';
      windCode=L.wind[0]; windMag=L.wind[1]; windVec=windVector(windCode, windMag);
      placeHydrants(6);
      spawnCivilians(L.civilians);
      powerUps = [];
      // Spawn initial power-ups at level start
      for(let i = 0; i < L.powerUps; i++){
        spawnPowerUp();
      }
      explosions = [];
      createShips();
      
      // Initialize automatic fire trucks if player is cow
      if(playerRole === 'cow') {
        initializeAutoFireTrucks();
        // Don't seed fires for cow mode - fires should only start from cow's actions
      } else {
        autoFireTrucks = [];
        seedFires(L.fires); // Only seed fires for firefighter/oleary modes
      }
      
      cowFireCooldown = 0;
      firstFireStarted = false;
      firstFireTime = 0;
      fireTrucksActivated = false;
      fireTrucksActivationTimer = 0;
      fireTrucksExtinguished = 0; // Reset extinguished count
      setHUD();
      
      // Update level navigation buttons
      updateLevelButtons();
      
      // Hide street info
      if(streetInfoDisplay) streetInfoDisplay.style.display = 'none';
    }
    
    // Initialize automatic fire trucks (3 for levels 1-5, 7 for level 6+)
    function initializeAutoFireTrucks() {
      autoFireTrucks = [];
      fireTrucksActivated = false;
      fireTrucksActivationTimer = 0;
      
      // Determine number of trucks based on level
      const truckCount = currentLevel >= 5 ? 7 : 3; // 7 trucks from level 6 onwards (index 5+)
      
      for(let i = 0; i < truckCount; i++) {
        // Position trucks at different starting locations on streets
        // Find valid street positions - better distribution for more trucks
        let startX, startY;
        let attempts = 0;
        do {
          // Better distribution: spread trucks across the map
          if(truckCount <= 3) {
            // For 3 trucks: use original distribution
            const col = 2 + (i * 2) % (COLS - 2);
            const row = 1 + (i % 2) * 2;
            startX = offsetX + CELL * (col + 0.5);
            startY = offsetY + CELL * (row + 0.5);
          } else {
            // For 7 trucks: better distribution across the map
            const colsPerTruck = Math.floor((COLS - 2) / truckCount);
            const rowsPerTruck = Math.floor((ROWS - 2) / Math.ceil(truckCount / 2));
            const col = 1 + (i % Math.ceil(truckCount / 2)) * colsPerTruck;
            const row = 1 + Math.floor(i / Math.ceil(truckCount / 2)) * rowsPerTruck;
            startX = offsetX + CELL * (col + 0.5);
            startY = offsetY + CELL * (row + 0.5);
          }
          
          // Check if it's a street
          const r = Math.floor((startY - offsetY)/CELL);
          const c = Math.floor((startX - offsetX)/CELL);
          if(r >= 0 && r < ROWS && c >= 0 && c < COLS && grid[r][c] === 0) {
            break;
          }
          attempts++;
        } while(attempts < 30);
        
        autoFireTrucks.push({
          x: startX,
          y: startY,
          targetX: startX,
          targetY: startY,
          speed: 60, // Slow, smooth movement speed
          water: 100,
          maxWater: 100,
          cooldown: 0,
          targetFire: null, // Current fire target
          refillCooldown: 0,
          lastTargetUpdate: 0, // Track when target was last updated
          active: true, // Can move immediately
          canExtinguish: false // Can only extinguish after 5 seconds
        });
      }
    }
    
    function startLevel(lvl){
      // Show pre-round cutscene first
      showPreRoundCutscene(lvl);
    }

    function advanceLevel(){
      if(currentLevel<levels.length-1){
        startLevel(currentLevel+1);
      }else{
        running=false; endMessage = t('allwin')+' ‚Äî '+t('pressR');
      }
    }

    // Power-up effects
    function applyPowerUp(type){
      switch(type){
        case 'waterBoost':
          player.water = Math.min(player.maxWater, player.water + 50);
          break;
        case 'fireResist':
          player.powerUps.push({type: 'fireResist', duration: 300});
          break;
        case 'speedBoost':
          player.powerUps.push({type: 'speedBoost', duration: 180});
          break;
        case 'extinguisher':
          player.powerUps.push({type: 'extinguisher', duration: 120});
          break;
        case 'shield':
          player.powerUps.push({type: 'shield', duration: 240});
          break;
      }
    }

    function step(dt){
      if(!running) return;
      const L = levels[currentLevel];
      
      // Process active power-ups (decrease duration and apply effects)
      for(let i = player.powerUps.length - 1; i >= 0; i--){
        const pu = player.powerUps[i];
        pu.duration -= dt * 60; // Decrease duration (dt is in seconds, convert to frames)
        if(pu.duration <= 0){
          player.powerUps.splice(i, 1);
        }
      }
      
      // Calculate effective speed (with speedBoost)
      const hasSpeedBoost = player.powerUps.some(pu => pu.type === 'speedBoost');
      const effectiveSpeed = hasSpeedBoost ? player.speed * 1.5 : player.speed;
      
      // Move toward mouse with collision detection
      const vx = mouse.x - player.x, vy = mouse.y - player.y, d = Math.hypot(vx,vy);
      if(d>1){ 
        const s = Math.min(effectiveSpeed*dt, d); 
        const newX = player.x + vx/d*s;
        const newY = player.y + vy/d*s;
        
        // Check collision with buildings
        const playerR = Math.floor((newY - offsetY)/CELL);
        const playerC = Math.floor((newX - offsetX)/CELL);
        
        // Allow movement only on streets (grid[r][c] === 0)
        // But visually, brown squares are streets, dark lines are buildings
        if(playerR >= 0 && playerR < ROWS && playerC >= 0 && playerC < COLS) {
          if(grid[playerR][playerC] === 0) { // street
            const oldX = player.x, oldY = player.y;
            player.x = newX;
            player.y = newY;
            
            // Play step sound occasionally when moving
            const now = performance.now();
            if(now - lastStepSound > 200) { // Every 200ms
              playSound('step');
              lastStepSound = now;
            }
          }
        }
      }

      // Power-up collection
      for(let i = powerUps.length - 1; i >= 0; i--){
        const pu = powerUps[i];
        pu.life--;
        if(pu.life <= 0) {
          powerUps.splice(i, 1);
          continue;
        }
        const dx = pu.x - player.x, dy = pu.y - player.y;
        if(Math.hypot(dx,dy) < CELL*0.8){
          // Collect power-up
          applyPowerUp(pu.type);
          powerUps.splice(i, 1);
          player.score += 50;
          playSound('powerup');
        }
      }

      // Civilian rescue
      for(let i = civilians.length - 1; i >= 0; i--){
        const civ = civilians[i];
        if(civ.rescued) continue;
        
        // Check if civilian is in danger (only if building is actively burning, not ruins)
        const r = Math.floor((civ.y - offsetY)/CELL);
        const c = Math.floor((civ.x - offsetX)/CELL);
        // Only count actively burning buildings (value 2), not smoldering (1) or ruins (3)
        if(fire[r] && fire[r][c] === 2) {
          civ.panic++;
          // Shield power-up protects civilians from dying
          const hasShield = player.powerUps.some(pu => pu.type === 'shield');
          const panicThreshold = hasShield ? 120 : 60; // Shield doubles panic time
          if(civ.panic > panicThreshold) {
            // Civilian dies (unless protected by shield and player is nearby)
            if(!hasShield || Math.hypot(civ.x - player.x, civ.y - player.y) > CELL * 2) {
            civilians.splice(i, 1);
            player.lives--;
            createExplosion(civ.x, civ.y, 0.5);
            continue;
            }
          }
        }
        
        // Check if player is close enough to rescue
        const dx = civ.x - player.x, dy = civ.y - player.y;
        if(Math.hypot(dx,dy) < CELL*1.2){
          civ.rescued = true;
          player.rescued++;
          player.score += civ.type === 'child' ? 100 : 75;
          player.combo++;
          if(player.combo > player.maxCombo) player.maxCombo = player.combo;
          civilians.splice(i, 1);
          playSound('rescue');
        }
      }

      // Spawn power-ups occasionally (increased probability)
      if(Math.random() < 0.003 && powerUps.length < levels[currentLevel].powerUps * 2) {
        spawnPowerUp();
      }

      // Cow character: start fires instead of extinguishing
      if(playerRole === 'cow') {
        cowFireCooldown = Math.max(0, cowFireCooldown - dt);
        
        // Cow can start fires by clicking - find nearest building to click
        if(mouse.down && cowFireCooldown <= 0) {
          const clickR = Math.floor((mouse.y - offsetY)/CELL);
          const clickC = Math.floor((mouse.x - offsetX)/CELL);
          
          // Search for nearest building within 3 cells radius
          let nearestBuilding = null;
          let nearestDist = Infinity;
          
          for(let dr = -3; dr <= 3; dr++) {
            for(let dc = -3; dc <= 3; dc++) {
              const r = clickR + dr;
              const c = clickC + dc;
              if(r >= 0 && r < ROWS && c >= 0 && c < COLS) {
                // Check if it's a building and not on fire
                if(grid[r][c] === 1 && fire[r][c] === 0) {
                  const dist = Math.hypot(dr, dc);
                  if(dist < nearestDist) {
                    nearestDist = dist;
                    nearestBuilding = {r, c};
                  }
                }
              }
            }
          }
          
          // Start fire on nearest building - start with smoldering (stage 1)
          if(nearestBuilding && nearestDist <= 3) {
            fire[nearestBuilding.r][nearestBuilding.c] = 1; // Start as smoldering (light fire)
            fireStartTime[nearestBuilding.r][nearestBuilding.c] = (performance.now() - levelStartTime) / 1000;
            playSound('fire');
            cowFireCooldown = 0.3;
            player.score += 10; // Score for starting fires
            
            // Track first fire started by cow
            if(!firstFireStarted) {
              firstFireStarted = true;
              firstFireTime = performance.now();
              console.log('üî• Cow started first fire! Fire trucks will activate in 5 seconds.');
            }
            
            // Create explosion effect at fire location
            const fireX = offsetX + CELL * (nearestBuilding.c + 0.5);
            const fireY = offsetY + CELL * (nearestBuilding.r + 0.5);
            createExplosion(fireX, fireY, 0.6); // Smaller explosion for smoldering fire
          }
        }
      }

      // Automatic fire trucks AI (only when player is cow)
      if(playerRole === 'cow' && autoFireTrucks.length > 0) {
        // Enable extinguishing after 5 seconds from when cow started first fire
        if(!fireTrucksActivated && firstFireStarted) {
          const timeSinceFirstFire = (performance.now() - firstFireTime) / 1000;
          if(timeSinceFirstFire >= 5.0) {
            fireTrucksActivated = true;
            for(let truck of autoFireTrucks) {
              truck.canExtinguish = true;
            }
            console.log('üöí Fire trucks can now extinguish fires after 5 seconds from first fire!');
          }
        }
        
        for(let truck of autoFireTrucks) {
          if(!truck.active) continue;
          // Update cooldown
          truck.cooldown = Math.max(0, truck.cooldown - dt);
          truck.refillCooldown = Math.max(0, truck.refillCooldown - dt);
          truck.lastTargetUpdate += dt;
          
          // Update target more frequently (every 0.3 seconds) to ensure trucks keep moving
          let shouldUpdateTarget = truck.lastTargetUpdate >= 0.3 || !truck.targetFire;
          
          // Find nearest fire
          let nearestFire = null;
          let nearestDist = Infinity;
          
          for(let r = 0; r < ROWS; r++) {
            for(let c = 0; c < COLS; c++) {
              if(fire[r][c] === 1 || fire[r][c] === 2) {
                const fireX = offsetX + CELL * (c + 0.5);
                const fireY = offsetY + CELL * (r + 0.5);
                const dist = Math.hypot(truck.x - fireX, truck.y - fireY);
                if(dist < nearestDist) {
                  nearestDist = dist;
                  nearestFire = {r, c, x: fireX, y: fireY};
                }
              }
            }
          }
          
          // Always update target if needed
          if(shouldUpdateTarget) {
            if(nearestFire) {
              // Move towards fire
              truck.targetX = nearestFire.x;
              truck.targetY = nearestFire.y;
              truck.targetFire = nearestFire;
              truck.lastTargetUpdate = 0;
            } else {
              // No fire found, move to nearest hydrant or water tower for refill
              let nearestRefill = null;
              let nearestRefillDist = Infinity;
              
              // Check water tower
              const towerDist = Math.hypot(truck.x - waterTower.x, truck.y - waterTower.y);
              if(towerDist < nearestRefillDist) {
                nearestRefillDist = towerDist;
                nearestRefill = {x: waterTower.x, y: waterTower.y, isTower: true};
              }
              
              // Check hydrants
              for(let h of hydrants) {
                const hDist = Math.hypot(truck.x - h.x, truck.y - h.y);
                if(hDist < nearestRefillDist) {
                  nearestRefillDist = hDist;
                  nearestRefill = {x: h.x, y: h.y, isTower: false};
                }
              }
              
              if(nearestRefill) {
                truck.targetX = nearestRefill.x;
                truck.targetY = nearestRefill.y;
                truck.targetFire = null;
                truck.lastTargetUpdate = 0;
              } else {
                // If no refill point, patrol - move to random street location
                const currentR = Math.floor((truck.y - offsetY)/CELL);
                const currentC = Math.floor((truck.x - offsetX)/CELL);
                
                // Find a random street cell to move to
                let patrolTarget = null;
                for(let attempts = 0; attempts < 10; attempts++) {
                  const randR = Math.floor(Math.random() * ROWS);
                  const randC = Math.floor(Math.random() * COLS);
                  if(grid[randR][randC] === 0) {
                    patrolTarget = {
                      x: offsetX + CELL * (randC + 0.5),
                      y: offsetY + CELL * (randR + 0.5)
                    };
                    break;
                  }
                }
                
                if(patrolTarget) {
                  truck.targetX = patrolTarget.x;
                  truck.targetY = patrolTarget.y;
                  truck.targetFire = null;
                  truck.lastTargetUpdate = 0;
                }
              }
            }
          }
          
          // Move truck towards target - smooth, slow movement
          const dx = truck.targetX - truck.x;
          const dy = truck.targetY - truck.y;
          const dist = Math.hypot(dx, dy);
          
          // Get current cell position
          const currentR = Math.floor((truck.y - offsetY)/CELL);
          const currentC = Math.floor((truck.x - offsetX)/CELL);
          
          // Smooth movement towards target
          if(dist > 2 && currentR >= 0 && currentR < ROWS && currentC >= 0 && currentC < COLS) {
            // Check if we're on a street
            if(grid[currentR][currentC] === 0) {
              // Smooth movement towards target
              const moveSpeed = truck.speed * dt;
              const moveDist = Math.min(moveSpeed, dist);
              
              // Calculate new position
              let newX = truck.x + (dx / dist) * moveDist;
              let newY = truck.y + (dy / dist) * moveDist;
              
              // Check if new position is on a street
              const newR = Math.floor((newY - offsetY)/CELL);
              const newC = Math.floor((newX - offsetX)/CELL);
              
              if(newR >= 0 && newR < ROWS && newC >= 0 && newC < COLS && grid[newR][newC] === 0) {
                // Can move smoothly
                truck.x = newX;
                truck.y = newY;
              } else {
                // Path blocked, try to move along one axis only
                // Try horizontal first
                newX = truck.x + (dx / dist) * moveDist;
                newY = truck.y;
                const newR2 = Math.floor((newY - offsetY)/CELL);
                const newC2 = Math.floor((newX - offsetX)/CELL);
                
                if(newR2 >= 0 && newR2 < ROWS && newC2 >= 0 && newC2 < COLS && grid[newR2][newC2] === 0) {
                  truck.x = newX;
                } else {
                  // Try vertical
                  newX = truck.x;
                  newY = truck.y + (dy / dist) * moveDist;
                  const newR3 = Math.floor((newY - offsetY)/CELL);
                  const newC3 = Math.floor((newX - offsetX)/CELL);
                  
                  if(newR3 >= 0 && newR3 < ROWS && newC3 >= 0 && newC3 < COLS && grid[newR3][newC3] === 0) {
                    truck.y = newY;
                  }
                }
              }
            } else {
              // Not on a street, find nearest street and move there smoothly
              let nearestStreet = null;
              let nearestDist = Infinity;
              
              for(let dr = -2; dr <= 2; dr++) {
                for(let dc = -2; dc <= 2; dc++) {
                  const checkR = currentR + dr;
                  const checkC = currentC + dc;
                  if(checkR >= 0 && checkR < ROWS && checkC >= 0 && checkC < COLS && grid[checkR][checkC] === 0) {
                    const streetX = offsetX + CELL * (checkC + 0.5);
                    const streetY = offsetY + CELL * (checkR + 0.5);
                    const streetDist = Math.hypot(truck.x - streetX, truck.y - streetY);
                    if(streetDist < nearestDist) {
                      nearestDist = streetDist;
                      nearestStreet = {x: streetX, y: streetY};
                    }
                  }
                }
              }
              
              if(nearestStreet) {
                // Smooth movement towards nearest street
                const streetDx = nearestStreet.x - truck.x;
                const streetDy = nearestStreet.y - truck.y;
                const streetDist = Math.hypot(streetDx, streetDy);
                
                if(streetDist > 1) {
                  const moveSpeed = truck.speed * dt;
                  const moveDist = Math.min(moveSpeed, streetDist);
                  truck.x += (streetDx / streetDist) * moveDist;
                  truck.y += (streetDy / streetDist) * moveDist;
                } else {
                  truck.x = nearestStreet.x;
                  truck.y = nearestStreet.y;
                }
              }
            }
          }
          
          // Refill water at hydrants or water tower
          const towerDist = Math.hypot(truck.x - waterTower.x, truck.y - waterTower.y);
          if(towerDist < waterTower.size && waterTower.active) {
            truck.water = Math.min(truck.maxWater, truck.water + waterTower.refillRate * dt);
          }
          
          for(let h of hydrants) {
            const hDist = Math.hypot(truck.x - h.x, truck.y - h.y);
            if(hDist < CELL * 0.7) {
              truck.water = Math.min(truck.maxWater, truck.water + 25 * dt);
            }
          }
          
          // Extinguish fires when close enough (only after 5 seconds) - highly effective
          if(truck.canExtinguish && truck.targetFire && truck.water > 0) {
            const fireDist = Math.hypot(truck.x - truck.targetFire.x, truck.y - truck.targetFire.y);
            if(fireDist < CELL * 4) {
              const r = truck.targetFire.r;
              const c = truck.targetFire.c;
              
              // Check if fire still exists
              if(fire[r] && fire[r][c] && (fire[r][c] === 1 || fire[r][c] === 2)) {
                // Extinguish fire effectively - use water (more efficient)
                truck.water = Math.max(0, truck.water - 5 * dt);
                
                // Maximum effectiveness extinguishing - extremely fast and reliable
                if(fire[r][c] === 2) {
                  // Burning fire - reduce intensity extremely quickly
                  // Very high probability for very fast extinguishing
                  if(Math.random() < 0.95 * dt) { // 95% chance per second (maximum effectiveness)
                    fire[r][c] = 1; // Burning -> smoldering
                    if(truck.cooldown <= 0) {
                      playSound('extinguish');
                      truck.cooldown = 0.08;
                    }
                  }
                } else if(fire[r][c] === 1) {
                  // Smoldering fire - extinguish extremely quickly
                  if(Math.random() < 0.98 * dt) { // 98% chance per second (maximum effectiveness)
                    // Only count if this was a real fire (had fireStartTime > 0)
                    const wasRealFire = fireStartTime[r][c] > 0;
                    if(wasRealFire) {
                      fireTrucksExtinguished++; // Count extinguished fire
                      console.log(`üöí Fire truck extinguished fire! Count: ${fireTrucksExtinguished}/${levels[currentLevel].fires}`);
                    }
                    fire[r][c] = 0; // Smoldering -> extinguished
                    fireStartTime[r][c] = 0;
                    if(truck.cooldown <= 0) {
                      playSound('extinguish');
                      truck.cooldown = 0.08;
                    }
                    
                    // Clear target so truck will find new fire
                    truck.targetFire = null;
                    truck.lastTargetUpdate = 0.6; // Force immediate update
                  }
                }
              } else {
                // Fire already extinguished, clear target
                truck.targetFire = null;
                truck.lastTargetUpdate = 0.6;
              }
            }
          }
        }
      }

      // Water spray (only for firefighter and oleary roles)
      if(playerRole !== 'cow' && mouse.down && player.cooldown<=0 && player.water>0){
        const angle = Math.atan2(mouse.y - player.y, mouse.x - player.x);
        // Extinguisher power-up increases range and effectiveness
        const hasExtinguisher = player.powerUps.some(pu => pu.type === 'extinguisher');
        const range = hasExtinguisher ? CELL * 5.5 : CELL * 3.8;
        const steps = hasExtinguisher ? 50 : 34;
        const w = hasExtinguisher ? 1.2 : 0.75;
        let streetInfoShown = false;
        let fireExtinguished = false; // Track if any fire was extinguished
        
        // Play water spray sound
        playSound('water');
        for(let i=1;i<=steps;i++){
          const px = player.x + Math.cos(angle) * (range * i/steps);
          const py = player.y + Math.sin(angle) * (range * i/steps);
          const c = Math.floor((px - offsetX)/CELL);
          const r = Math.floor((py - offsetY)/CELL);
          if(r<0||r>=ROWS||c<0||c>=COLS) break;
          for(let rr=r-1; rr<=r+1; rr++){
            for(let cc=c-1; cc<=c+1; cc++){
              if(rr<0||rr>=ROWS||cc<0||cc>=COLS) continue;
              const dx=cc-c, dy=rr-r;
              if(Math.hypot(dx,dy) <= w){
                // Only extinguish buildings that are actually on fire (not streets, not already extinguished, not ruins)
                // Check if it's a building (grid[rr][cc] === 1) and has active fire (fire[rr][cc] === 1 or 2, not 0 or 3)
                if(grid[rr][cc] === 1 && (fire[rr][cc] === 1 || fire[rr][cc] === 2)){
                  // Save original fire state before changing it
                  const originalFireState = fire[rr][cc];
                  const hasExtinguisher = player.powerUps.some(pu => pu.type === 'extinguisher');
                  
                  if(fire[rr][cc]===2){ 
                    // Extinguisher can directly extinguish burning buildings much more effectively
                    if(hasExtinguisher){
                      // With extinguisher: 80% chance to directly extinguish, 20% to smolder
                      if(Math.random() < 0.8){
                        fire[rr][cc]=0; 
                        fireStartTime[rr][cc]=0; 
                        player.score+=15; 
                        player.extinguished++; 
                        if(!fireExtinguished) {
                          playSound('extinguish');
                          fireExtinguished = true;
                        }
                      } else {
                        fire[rr][cc]=1; 
                        fireStartTime[rr][cc]=0; 
                        player.score+=10; 
                      }
                    } else {
                      // Normal water: burning -> smolder
                      fire[rr][cc]=1; 
                      fireStartTime[rr][cc]=0; 
                      player.score+=8; 
                    }
                  }
                  else if(fire[rr][cc]===1){ 
                    // Extinguisher instantly extinguishes smoldering buildings
                    if(hasExtinguisher){
                      fire[rr][cc]=0; 
                      fireStartTime[rr][cc]=0; 
                      player.score+=8; 
                      player.extinguished++; 
                    } else {
                      fire[rr][cc]=0; 
                      fireStartTime[rr][cc]=0; 
                      player.score+=4; 
                      player.extinguished++; 
                    }
                    if(!fireExtinguished) {
                      playSound('extinguish');
                      fireExtinguished = true;
                    }
                  }
                
                  // Show street info when extinguishing fire (use original state before change)
                  if(!streetInfoShown && (originalFireState === 2 || originalFireState === 1)) {
                  const streetName = getStreetNameFromCell(cc, rr);
                  if(streetName && streetInfoDisplay) {
                    const info = getStreetInfo(streetName);
                    streetInfoName.textContent = info.name;
                    streetInfoDesc.textContent = info.desc;
                    streetInfoDisplay.style.display = 'block';
                    streetInfoShown = true;
                    // Hide after 5 seconds
                    setTimeout(() => {
                      if(streetInfoDisplay) streetInfoDisplay.style.display = 'none';
                    }, 5000);
                    }
                  }
                }
              }
            }
          }
        }
        
        // Ship extinguishing
        for(let ship of ships) {
          const distance = Math.hypot(player.x - ship.x, player.y - ship.y);
          if(distance <= CELL * 4 && ship.fireIntensity > 0 && !ship.burned) {
            // Check if water spray hits the ship
            const sprayX = player.x + Math.cos(angle) * (range * 0.7);
            const sprayY = player.y + Math.sin(angle) * (range * 0.7);
            const shipDistance = Math.hypot(sprayX - ship.x, sprayY - ship.y);
            
            if(shipDistance <= ship.size) {
              const wasBurning = ship.fireIntensity > 0.1; // Check if ship was significantly burning
              // Extinguisher is much more effective on ships
              const extinguisherPower = hasExtinguisher ? 0.4 : 0.2;
              ship.fireIntensity = Math.max(0, ship.fireIntensity - extinguisherPower);
              player.score += 15; // –ë–æ–ª—å—à–µ –æ—á–∫–æ–≤ –∑–∞ —Ç—É—à–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª—è
              player.combo++;
              player.maxCombo = Math.max(player.maxCombo, player.combo);
              
              // If ship is fully extinguished, count it
              if(ship.fireIntensity <= 0 && wasBurning && !ship.burned) {
                player.extinguished++;
                // Ship is extinguished (fireIntensity = 0, burned = false means extinguished, not burned)
            }
          }
        }
        }
        
        // FireResist power-up reduces water usage
        const hasFireResist = player.powerUps.some(pu => pu.type === 'fireResist');
        const waterUse = hasFireResist ? L.waterUse * 0.7 : L.waterUse;
        player.water = Math.max(0, player.water - waterUse);
        player.cooldown = 0.07;
      }

      // Water Tower refill (fastest)
      const towerDx = waterTower.x - player.x, towerDy = waterTower.y - player.y;
      if(Math.hypot(towerDx, towerDy) < waterTower.size && waterTower.active) {
        player.water = Math.min(player.maxWater, player.water + waterTower.refillRate*dt);
      }

      // Hydrant refill
      for(const h of hydrants){
        const dx = h.x - player.x, dy = h.y - player.y;
        if(Math.hypot(dx,dy) < CELL*0.7){
          player.water = Math.min(player.maxWater, player.water + 25*dt);
        }
      }
      
      // Central hydrant refill
      if(centralHydrant){
        const dx = centralHydrant.x - player.x, dy = centralHydrant.y - player.y;
        if(Math.hypot(dx,dy) < CELL*0.7){
          player.water = Math.min(player.maxWater, player.water + 25*dt);
        }
      }
      
      // Lake Michigan water refill
      // Check if player is near the lake shore (last 2 columns)
      const playerCol = Math.floor((player.x - offsetX) / CELL);
      const playerRow = Math.floor((player.y - offsetY) / CELL);
      const lakeStartCol = Math.max(COLS - 2, 0);
      
      if(playerCol >= lakeStartCol && playerCol < COLS && playerRow >= 0 && playerRow < ROWS) {
        // Player is at the lake shore
        player.water = Math.min(player.maxWater, player.water + 15*dt); // Slower refill than hydrants
      }

      // Time & cooldown
      player.cooldown = Math.max(0, player.cooldown - dt);
      
      // Fire spawn timer - controls how often new fires appear (only for firefighter/oleary modes)
      if(playerRole !== 'cow') {
      fireSpawnTimer += dt;
      if(fireSpawnTimer >= L.time){
        fireSpawnTimer = 0;
        // Spawn a new fire at a random building
        let attempts = 0;
        const maxAttempts = 50;
        while(attempts < maxAttempts){
          attempts++;
          const r=1+2*Math.floor(Math.random()*Math.floor(ROWS/2));
          const c=1+2*Math.floor(Math.random()*Math.floor(COLS/2));
          // Ensure fire only spawns on buildings (grid[r][c] === 1) and not already on fire
          if(grid[r][c]===1 && fire[r][c]===0){
            // Check if this is the water tower location
            const towerCellC = Math.floor((waterTower.x - offsetX) / CELL);
            const towerCellR = Math.floor((waterTower.y - offsetY) / CELL);
            if(r !== towerCellR || c !== towerCellC) {
              fire[r][c]=1; // Start as smolder
              break;
              }
            }
          }
        }
      }

      // Check for building burn-out (every frame for precision)
      const currentTime = (performance.now() - levelStartTime) / 1000; // Elapsed time in seconds
      for(let r=0;r<ROWS;r++){
        for(let c=0;c<COLS;c++){
          if(fire[r][c]===2 && fireStartTime[r][c] > 0){
            // Check if building has been burning (7 seconds for levels 1-4, 10 seconds for level 5+)
            const burnDuration = currentTime - fireStartTime[r][c];
            const burnTime = currentLevel >= 4 ? 10.0 : 7.0; // Level 5+ (index 4+) = 10 seconds, levels 1-4 = 7 seconds
            if(burnDuration >= burnTime){
              fire[r][c]=3; 
              player.burned++;
              fireStartTime[r][c] = 0; // Reset
            }
          }
        }
      }

      // Spread
      spreadTimer += dt;
      if(spreadTimer >= 1){
        spreadTimer = 0;
        const toIgnite = [];
        for(let r=0;r<ROWS;r++){
          for(let c=0;c<COLS;c++){
            if(fire[r][c]===2){
              const neigh = neighborsRC(r,c);
              for(const [rr,cc] of neigh){
                // Check if this is the water tower location - fire cannot spread here
                const towerCellC = Math.floor((waterTower.x - offsetX) / CELL);
                const towerCellR = Math.floor((waterTower.y - offsetY) / CELL);
                if(rr === towerCellR && cc === towerCellC) continue; // Skip water tower
                
                if(grid[rr][cc]===1 && fire[rr][cc]===0){
                  // –£—Å–∏–ª–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –≤–µ—Ç—Ä–∞ –Ω–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–≥–Ω—è
                  const wx = windVec[0], wy = windVec[1];
                  const dirx = cc-c, diry = rr-r;
                  const bias = Math.max(0, wx*dirx + wy*diry); // -1..1 -> 0..1
                  const windMultiplier = windMag * 0.3; // –£—Å–∏–ª–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ —Å–∏–ª—ã –≤–µ—Ç—Ä–∞
                  const p = L.spread + bias*windMultiplier;
                  if(Math.random()<p){ toIgnite.push([rr,cc]); }
                }
              }
            }else if(fire[r][c]===1 && Math.random()<0.5){
              fire[r][c]=2;
              fireStartTime[r][c] = (performance.now() - levelStartTime) / 1000; // Record when fire started (in seconds)
            }
          }
        }
        for(const [rr,cc] of toIgnite) {
          fire[rr][cc]=2;
          fireStartTime[rr][cc] = (performance.now() - levelStartTime) / 1000; // Record when fire started (in seconds)
          // Play fire sound occasionally when fire spreads
          if(Math.random() < 0.3) { // 30% chance to play sound
            playSound('fire');
          }
        }
        // Embers - random fire spawns (only for firefighter/oleary modes, not for cow)
        if(playerRole !== 'cow' && Math.random()<L.ember){
          const r=1+2*Math.floor(Math.random()*Math.floor(ROWS/2));
          const c=1+2*Math.floor(Math.random()*Math.floor(COLS/2));
          // Ensure embers only spawn on buildings (grid[r][c] === 1)
          if(grid[r][c]===1 && fire[r][c]===0) fire[r][c]=1;
        }
      }

      // Update explosions
      for(let i = explosions.length - 1; i >= 0; i--){
        const exp = explosions[i];
        exp.life--;
        exp.radius += (exp.maxRadius - exp.radius) * 0.1;
        if(exp.life <= 0) {
          explosions.splice(i, 1);
        }
      }

      // Win/Lose conditions
      if(player.lives <= 0 || player.burned >= 15){
        running = false; 
        endMessage = player.lives <= 0 ? 'üíÄ Game Over - No Lives Left!' : 
                    'üî• Too Many Buildings Lost!';
      } else {
        // Check if player has extinguished the required number of buildings - transition immediately
        if(playerRole === 'cow') {
          // For cow mode: check if fire trucks have extinguished the required number
          if(fireTrucksExtinguished >= levels[currentLevel].fires){
            running = false; 
            endMessage = `üéâ Level Complete! Fire trucks extinguished: ${fireTrucksExtinguished}/${levels[currentLevel].fires}`; 
            setTimeout(advanceLevel, 1500); 
          }
        } else {
          // For firefighter/oleary modes: check player's extinguished count
        if(player.extinguished >= levels[currentLevel].fires){
          running = false; 
          endMessage = `üéâ Level Complete! Extinguished: ${player.extinguished}/${levels[currentLevel].fires}`; 
          setTimeout(advanceLevel, 1500); 
          }
        }
      }

      // Ships gradually burn down if not extinguished
      for(let ship of ships) {
        if(ship.fireIntensity > 0 && !ship.burned) {
          // Ships burn down slowly over time - —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å —Å–≥–æ—Ä–∞–Ω–∏—è
          ship.fireIntensity = Math.max(0, ship.fireIntensity - 0.02 * dt);
          
          // If ship burns completely, it turns to ash
          if(ship.fireIntensity <= 0) {
            ship.burned = true; // Ship is now ash
            player.score = Math.max(0, player.score - 20); // Penalty for letting ship burn
            player.combo = 0; // Reset combo
            player.burned++; // Count as burned building
            console.log(`Ship ${ship.id} burned down completely and turned to ash!`);
          }
        }
        
        // Ship movement from wind
        const windStrength = Math.sqrt(windVec[0]*windVec[0] + windVec[1]*windVec[1]);
        if(windStrength > 0.3) {
          // Wind affects ship position
          ship.swayX += windVec[0] * 0.02 * dt;
          ship.swayY += windVec[1] * 0.02 * dt;
          
          // Limit sway to prevent ships from moving too far
          ship.swayX = Math.max(-CELL*0.3, Math.min(CELL*0.3, ship.swayX));
          ship.swayY = Math.max(-CELL*0.3, Math.min(CELL*0.3, ship.swayY));
          
          // Apply sway to ship position
          ship.x = ship.baseX + ship.swayX;
          ship.y = ship.baseY + ship.swayY;
        } else {
          // Gradually return to base position when wind is calm
          ship.swayX *= 0.95;
          ship.swayY *= 0.95;
          ship.x = ship.baseX + ship.swayX;
          ship.y = ship.baseY + ship.swayY;
        }
      }

      setHUD();
    }

    function drawPlanLabels(){
      ctx.save();
      ctx.translate(offsetX, offsetY);
      
      // Get active streets for current level (1 street on level 1, 2 on level 2, etc.)
      const activeStreetCount = Math.min(currentLevel + 1, streetKeys.length);
      const activeStreets = streetKeys.slice(0, activeStreetCount);
      
      // Split streets between vertical and horizontal to avoid duplication
      const halfCount = Math.ceil(activeStreets.length / 2);
      const verticalStreets = activeStreets.slice(0, halfCount);
      const horizontalStreets = activeStreets.slice(halfCount);
      
      // Lake Michigan starts at the last 2 columns
      const lakeStartCol = Math.max(COLS - 2, 0);
      
      // Enhanced base grid lines with subtle glow
      ctx.strokeStyle='rgba(255,255,255,0.08)'; 
      ctx.lineWidth=1;
      ctx.shadowBlur = 1;
      ctx.shadowColor = 'rgba(255,255,255,0.1)';
      for(let i=0;i<=COLS;i++){ 
        ctx.beginPath(); 
        ctx.moveTo(i*CELL,0); 
        ctx.lineTo(i*CELL,ROWS*CELL); 
        ctx.stroke(); 
      }
      for(let j=0;j<=ROWS;j++){ 
        ctx.beginPath(); 
        ctx.moveTo(0,j*CELL); 
        ctx.lineTo(COLS*CELL,j*CELL); 
        ctx.stroke(); 
      }
      ctx.shadowBlur = 0;
      
      // Enhanced arterials with street names - —Ä–∞–∑–º–µ—â–∞–µ–º –¢–û–õ–¨–ö–û –Ω–∞ –∫–æ—Ä–∏—á–Ω–µ–≤—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∞—Ö (—É–ª–∏—Ü–∞—Ö)
      ctx.strokeStyle='rgba(255,200,120,0.25)'; 
      ctx.lineWidth=2;
      ctx.shadowBlur = 2;
      ctx.shadowColor = 'rgba(255,200,120,0.2)';
      
      // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —É–ª–∏—Ü—ã (—Å–µ–≤–µ—Ä-—é–≥) - —Ä–∞–∑–º–µ—â–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –¢–û–õ–¨–ö–û –Ω–∞ –∫–æ—Ä–∏—á–Ω–µ–≤—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∞—Ö
      for(let i=0;i<COLS;i+=2){ 
        ctx.beginPath(); ctx.moveTo(i*CELL,0); ctx.lineTo(i*CELL,ROWS*CELL); ctx.stroke();
        // Street names - —Ä–∞–∑–º–µ—â–∞–µ–º –¢–û–õ–¨–ö–û –Ω–∞ –∫–æ—Ä–∏—á–Ω–µ–≤—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∞—Ö (—á–µ—Ç–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã) –∏ –ù–ï –≤ –æ–∑–µ—Ä–µ
        const colIndex = Math.floor(i / 2);
        if(i < lakeStartCol && colIndex < verticalStreets.length) {
          const streetName = verticalStreets[colIndex];
          const streetData = getStreetInfo(streetName);
          
          // Enhanced font styling - smaller, thicker outline, more concentrated
          ctx.fillStyle='rgba(255,255,255,1)';
          ctx.font = `bold ${Math.max(6, Math.floor(CELL*0.25))}px 'Segoe UI', system-ui, Arial, sans-serif`;
          ctx.textAlign='center';
          ctx.textBaseline='middle';
          
          // Thicker outline for better visibility
          ctx.strokeStyle='rgba(0,0,0,1)';
          ctx.lineWidth=5;
          ctx.lineJoin='round';
          ctx.miterLimit=2;
          
          ctx.save();
          // –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ –≤—ã—Å–æ—Ç–µ –∫–∞—Ä—Ç—ã, —Ä–∞–∑–º–µ—â–∞–µ–º —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω
          const labelY = CELL * (ROWS/2);
          ctx.translate(i*CELL + CELL/2, labelY);
          ctx.rotate(-Math.PI/2);
          
          // Draw text with outline
          ctx.strokeText(streetData.name, 0, 0);
          ctx.fillText(streetData.name, 0, 0);
          ctx.restore();
        }
      }
      
      // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —É–ª–∏—Ü—ã (–≤–æ—Å—Ç–æ–∫-–∑–∞–ø–∞–¥) - —Ä–∞–∑–º–µ—â–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –¢–û–õ–¨–ö–û –Ω–∞ –∫–æ—Ä–∏—á–Ω–µ–≤—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∞—Ö
      for(let j=0;j<ROWS;j+=2){ 
        ctx.beginPath(); ctx.moveTo(0,j*CELL); ctx.lineTo(COLS*CELL,j*CELL); ctx.stroke();
        // Street names - —Ä–∞–∑–º–µ—â–∞–µ–º –¢–û–õ–¨–ö–û –Ω–∞ –∫–æ—Ä–∏—á–Ω–µ–≤—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∞—Ö (—á–µ—Ç–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏)
        const rowIndex = Math.floor(j / 2);
        if(rowIndex < horizontalStreets.length) {
          const streetName = horizontalStreets[rowIndex];
          const streetData = getStreetInfo(streetName);
          
          // Enhanced font styling - smaller, thicker outline, more concentrated
          ctx.fillStyle='rgba(255,255,255,1)';
          ctx.font = `bold ${Math.max(6, Math.floor(CELL*0.25))}px 'Segoe UI', system-ui, Arial, sans-serif`;
          ctx.textAlign='center';
          ctx.textBaseline='middle';
          
          // Thicker outline for better visibility
          ctx.strokeStyle='rgba(0,0,0,1)';
          ctx.lineWidth=5;
          ctx.lineJoin='round';
          ctx.miterLimit=2;
          
          // –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ —à–∏—Ä–∏–Ω–µ –∫–∞—Ä—Ç—ã, —Ä–∞–∑–º–µ—â–∞–µ–º —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω
          const labelX = CELL * Math.floor(lakeStartCol / 2); // –¶–µ–Ω—Ç—Ä —Å—É—à–∏ (–Ω–µ –æ–∑–µ—Ä–∞)
          
          // Draw text with outline
          ctx.strokeText(streetData.name, labelX, j*CELL + CELL/2);
          ctx.fillText(streetData.name, labelX, j*CELL + CELL/2);
        }
      }
      
      // Lake Michigan - —Ä–∞–∑–º–µ—â–∞–µ–º –ø–æ –≤–æ—Å—Ç–æ—á–Ω–æ–º—É –∫—Ä–∞—é –∫–∞—Ä—Ç—ã
      const lakeStartX = offsetX + CELL * lakeStartCol;
      const lakeEndX = offsetX + CELL * COLS;
      const lakeWidth = lakeEndX - lakeStartX;
      const lakeHeight = CELL * ROWS;
      
      // Draw lake animation video if available
      if(lakeVideo.readyState >= 2 && !lakeVideo.error) {
        // Video is loaded, draw it
        try {
          ctx.drawImage(lakeVideo, lakeStartX, offsetY, lakeWidth, lakeHeight);
        } catch(e) {
          // Fallback if video can't be drawn
          drawLakeFallback(ctx, lakeStartX, lakeEndX, offsetY, ROWS, CELL);
        }
      } else {
        // Fallback: draw lake with gradient and waves
        drawLakeFallback(ctx, lakeStartX, lakeEndX, offsetY, ROWS, CELL);
      }
      
      // Helper function for lake fallback drawing
      function drawLakeFallback(ctx, lakeStartX, lakeEndX, offsetY, ROWS, CELL) {
      ctx.beginPath();
      // –û–∑–µ—Ä–æ –ú–∏—á–∏–≥–∞–Ω –∑–∞–Ω–∏–º–∞–µ—Ç –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å –∫–∞—Ä—Ç—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Å—Ç–æ–ª–±—Ü–∞)
      ctx.moveTo(lakeStartX, offsetY);
      ctx.lineTo(lakeEndX, offsetY);
      ctx.lineTo(lakeEndX, offsetY + CELL*ROWS);
      ctx.lineTo(lakeStartX, offsetY + CELL*ROWS);
      ctx.lineTo(lakeStartX, offsetY);
      ctx.closePath();
      
      // –ì—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –æ–∑–µ—Ä–∞
      const lakeGradient = ctx.createLinearGradient(lakeStartX, 0, lakeEndX, 0);
      lakeGradient.addColorStop(0, 'rgba(30,144,255,0.4)'); // –ì–ª—É–±–æ–∫–∏–π —Å–∏–Ω–∏–π —É –±–µ—Ä–µ–≥–∞
      lakeGradient.addColorStop(1, 'rgba(70,130,180,0.6)'); // –°–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π –≤–¥–∞–ª–∏
      
      ctx.fillStyle = lakeGradient;
      ctx.fill();
      
      // –í–æ–ª–Ω—ã –Ω–∞ –æ–∑–µ—Ä–µ
      ctx.strokeStyle = 'rgba(100,180,255,0.3)';
      ctx.lineWidth = 1;
      for(let i = 0; i < 5; i++) {
        ctx.beginPath();
        const waveY = offsetY + CELL * (2 + i * 2);
        ctx.moveTo(lakeStartX, waveY);
        const midX = lakeStartX + (lakeEndX - lakeStartX) * 0.5;
        ctx.bezierCurveTo(midX, waveY-2, midX, waveY+2, lakeEndX, waveY);
        ctx.stroke();
        }
      }
      
      // Lake Michigan label (vertical) - drawn before ships so ships appear on top
      const lakeCenterX = offsetX + CELL * (lakeStartCol + 1); // Center of lake area
      const lakeCenterY = offsetY + CELL * Math.floor(ROWS / 2); // Middle of lake vertically
      ctx.save();
      ctx.translate(lakeCenterX, lakeCenterY);
      ctx.rotate(-Math.PI/2); // –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤
      
      const text = 'Lake Michigan';
      ctx.font = `bold ${Math.max(12, Math.floor(CELL*0.7))}px system-ui,Segoe UI,Arial`;
      ctx.textAlign='center';
      ctx.textBaseline='middle';
      
      // Draw dark outline/stroke for better contrast
      ctx.strokeStyle = 'rgba(0, 0, 0, 0.9)';
      ctx.lineWidth = 3;
      ctx.strokeText(text, 0, 0);
      
      // Draw the text in lighter color for better contrast
      ctx.fillStyle='rgba(240, 240, 255, 0.95)'; // Much lighter, almost white for better contrast
      ctx.fillText(text, 0, 0);
      ctx.restore();
      
      // Draw burning buildings (building-burning.png) above lake animation
      for(let r=0; r<ROWS; r++){
        for(let c=0; c<COLS; c++){
          if(grid[r][c] === 1 && (fire[r][c] === 2 || fire[r][c] === 3)) {
            const isBurning = fire[r][c] === 2 || fire[r][c] === 3;
            const useBurningImage = isBurning && buildingImagesLoaded.burning && buildingBurningImage.complete;
            
            if(useBurningImage) {
              const x = c*CELL;
              const y = r*CELL;
              
              // Wind effect on buildings
              const windStrength = Math.sqrt(windVec[0]*windVec[0] + windVec[1]*windVec[1]);
              let windOffsetX = 0;
              let windOffsetY = 0;
              
              if(windStrength > 0.3) {
                windOffsetX = windVec[0] * 0.3;
                windOffsetY = windVec[1] * 0.2;
              }
              
              // Draw burning building image above lake
              ctx.drawImage(buildingBurningImage, x+1 + windOffsetX, y+1 + windOffsetY, CELL-2, CELL-2);
            }
          }
        }
      }
      
      // –ì–æ—Ä—è—â–∏–µ –∫–æ—Ä–∞–±–ª–∏ –≤ –æ–∑–µ—Ä–µ –ú–∏—á–∏–≥–∞–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–≥—Ä–æ–≤–æ–π –º–∞—Å—Å–∏–≤) - drawn after label so ships appear on top
      
      ships.forEach(ship => {
        // Draw ship image based on burn state
        // If ship is burned (completely destroyed) -> use burning image (ship-burning.png)
        // If ship is still alive (even if on fire) -> use normal image
        const useBurningImage = ship.burned && shipImagesLoaded.burning && shipBurningImage.complete;
        const useNormalImage = !ship.burned && shipImagesLoaded.normal && shipNormalImage.complete;
        
        if(useBurningImage && ship.burned) {
          // Draw burned ship image (ship-burning.png) when ship is completely destroyed (preserve aspect ratio)
          const imgWidth = shipBurningImage.width || ship.size;
          const imgHeight = shipBurningImage.height || ship.size;
          const aspectRatio = imgWidth / imgHeight;
          const drawWidth = ship.size;
          const drawHeight = drawWidth / aspectRatio;
          ctx.drawImage(shipBurningImage, ship.x - drawWidth/2, ship.y - drawHeight/2, drawWidth, drawHeight);
          return; // Skip drawing normal ship and ash effects
        } else if(ship.burned) {
          // Fallback: if ship is burned but ship-burning.png not loaded, draw ash
          // Draw ash - dark gray/black particles
          ctx.fillStyle = 'rgba(40,40,40,0.7)';
          for(let i = 0; i < 8; i++) {
            const ashX = ship.x + (Math.random() - 0.5) * ship.size;
            const ashY = ship.y + (Math.random() - 0.5) * ship.size * 0.6;
            const ashSize = 2 + Math.random() * 3;
            ctx.beginPath();
            ctx.arc(ashX, ashY, ashSize, 0, Math.PI*2);
            ctx.fill();
          }
          
          // Draw some larger ash chunks
          ctx.fillStyle = 'rgba(30,30,30,0.8)';
          for(let i = 0; i < 3; i++) {
            const chunkX = ship.x + (Math.random() - 0.5) * ship.size * 0.8;
            const chunkY = ship.y + (Math.random() - 0.5) * ship.size * 0.5;
            const chunkSize = 4 + Math.random() * 4;
            ctx.beginPath();
            ctx.arc(chunkX, chunkY, chunkSize, 0, Math.PI*2);
            ctx.fill();
          }
          
          // Draw remaining ship structure (charred remains)
          ctx.fillStyle = 'rgba(20,20,20,0.6)';
          ctx.beginPath();
          ctx.moveTo(ship.x - ship.size/3, ship.y);
          ctx.lineTo(ship.x + ship.size/3, ship.y);
          ctx.lineTo(ship.x + ship.size/4, ship.y + ship.size/8);
          ctx.lineTo(ship.x - ship.size/4, ship.y + ship.size/8);
          ctx.closePath();
          ctx.fill();
          
          // Draw charred mast
          ctx.strokeStyle = 'rgba(15,15,15,0.7)';
          ctx.lineWidth = 2;
          ctx.beginPath();
          ctx.moveTo(ship.x, ship.y);
          ctx.lineTo(ship.x, ship.y - ship.size/3);
          ctx.stroke();
          
          return; // Skip drawing normal ship
        } else if(useNormalImage && !ship.burned) {
          // Draw normal ship image when ship is alive (even if burning) - preserve aspect ratio
          const imgWidth = shipNormalImage.width || ship.size;
          const imgHeight = shipNormalImage.height || ship.size;
          const aspectRatio = imgWidth / imgHeight;
          const drawWidth = ship.size;
          const drawHeight = ship.size / aspectRatio;
          ctx.drawImage(shipNormalImage, ship.x - drawWidth/2, ship.y - drawHeight/2, drawWidth, drawHeight);
        } else {
          // Fallback: draw ship with canvas (original code)
        // –ö–æ—Ä–ø—É—Å –∫–æ—Ä–∞–±–ª—è (–±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π)
        ctx.fillStyle = 'rgba(80,60,40,0.9)'; // –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π –∫–æ—Ä–ø—É—Å
        ctx.beginPath();
        // –ù–æ—Å –∫–æ—Ä–∞–±–ª—è
        ctx.moveTo(ship.x - ship.size/2, ship.y);
        ctx.lineTo(ship.x - ship.size/3, ship.y - ship.size/6);
        ctx.lineTo(ship.x + ship.size/3, ship.y - ship.size/6);
        ctx.lineTo(ship.x + ship.size/2, ship.y);
        ctx.lineTo(ship.x + ship.size/3, ship.y + ship.size/6);
        ctx.lineTo(ship.x - ship.size/3, ship.y + ship.size/6);
        ctx.closePath();
        ctx.fill();
        
        // –ü–∞–ª—É–±–∞
        ctx.fillStyle = 'rgba(100,80,60,0.8)';
        ctx.beginPath();
        ctx.moveTo(ship.x - ship.size/3, ship.y - ship.size/8);
        ctx.lineTo(ship.x + ship.size/3, ship.y - ship.size/8);
        ctx.lineTo(ship.x + ship.size/3, ship.y + ship.size/8);
        ctx.lineTo(ship.x - ship.size/3, ship.y + ship.size/8);
        ctx.closePath();
        ctx.fill();
        
        // –ú–∞—á—Ç–∞
        ctx.strokeStyle = 'rgba(60,40,30,0.9)';
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(ship.x, ship.y - ship.size/8);
        ctx.lineTo(ship.x, ship.y - ship.size/2);
        ctx.stroke();
        
        // –ü–∞—Ä—É—Å–∞ (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ)
        ctx.fillStyle = 'rgba(200,180,160,0.8)'; // –°–≤–µ—Ç–ª—ã–µ –ø–∞—Ä—É—Å–∞
        ctx.beginPath();
        ctx.moveTo(ship.x, ship.y - ship.size/8);
        ctx.lineTo(ship.x + ship.size/4, ship.y - ship.size/3);
        ctx.lineTo(ship.x, ship.y - ship.size/2);
        ctx.closePath();
        ctx.fill();
        
        // –í—Ç–æ—Ä–æ–π –ø–∞—Ä—É—Å
        ctx.beginPath();
        ctx.moveTo(ship.x, ship.y - ship.size/8);
        ctx.lineTo(ship.x - ship.size/4, ship.y - ship.size/3);
        ctx.lineTo(ship.x, ship.y - ship.size/2);
        ctx.closePath();
        ctx.fill();
        }
        
        // Fire effects on ship (always show when burning, even with burning image)
        if(ship.fireIntensity > 0) {
          const fireRadius = ship.size * ship.fireIntensity * 0.4;
          
          // Main fire glow (more visible)
          const fireGradient = ctx.createRadialGradient(ship.x, ship.y - ship.size/4, 0, ship.x, ship.y - ship.size/4, fireRadius);
          fireGradient.addColorStop(0, 'rgba(255,50,0,0.8)');
          fireGradient.addColorStop(0.3, 'rgba(255,100,0,0.6)');
          fireGradient.addColorStop(0.6, 'rgba(255,150,0,0.4)');
          fireGradient.addColorStop(1, 'rgba(255,200,100,0)');
          
          ctx.fillStyle = fireGradient;
          ctx.beginPath();
          ctx.arc(ship.x, ship.y - ship.size/4, fireRadius, 0, Math.PI*2);
          ctx.fill();
          
          // Outer glow effect for more visibility
          ctx.shadowBlur = 10;
          ctx.shadowColor = 'rgba(255,100,0,0.6)';
          ctx.fillStyle = fireGradient;
          ctx.beginPath();
          ctx.arc(ship.x, ship.y - ship.size/4, fireRadius * 0.8, 0, Math.PI*2);
          ctx.fill();
          ctx.shadowBlur = 0;
          
          // Bright sparks and embers (more visible)
          const time = performance.now() * 0.01;
          ctx.fillStyle = 'rgba(255,255,150,0.9)';
          for(let i = 0; i < 5; i++) {
            const sparkX = ship.x + (Math.random() - 0.5) * ship.size/2;
            const sparkY = ship.y - ship.size/4 + (Math.random() - 0.5) * ship.size/3;
            const sparkSize = 1.5 + Math.sin(time + i) * 0.5;
            ctx.beginPath();
            ctx.arc(sparkX, sparkY, sparkSize, 0, Math.PI*2);
            ctx.fill();
          }
          
          // Dynamic flames with wind effect
          const windEffect = windVec[0] * 0.3;
          for(let i = 0; i < 3; i++) {
            const flameX = ship.x + windEffect + (Math.random() - 0.5) * ship.size/3;
            const flameY = ship.y - ship.size/4 + (Math.random() - 0.5) * ship.size/4;
            const flameGradient = ctx.createRadialGradient(flameX, flameY, 0, flameX, flameY, 4 + Math.random() * 3);
            flameGradient.addColorStop(0, 'rgba(255,200,0,0.9)');
            flameGradient.addColorStop(0.5, 'rgba(255,100,0,0.6)');
            flameGradient.addColorStop(1, 'rgba(255,50,0,0)');
            ctx.fillStyle = flameGradient;
            ctx.beginPath();
            ctx.arc(flameX, flameY, 3 + Math.random() * 2, 0, Math.PI*2);
            ctx.fill();
          }
          
          // Smoke from burning ship (more visible)
          ctx.fillStyle = 'rgba(60,60,60,0.6)';
          for(let i = 0; i < 3; i++) {
            const smokeX = ship.x + (Math.random() - 0.5) * ship.size/3;
            const smokeY = ship.y - ship.size/2 - Math.random() * ship.size/2;
            const smokeSize = 3 + Math.random() * 2;
            ctx.beginPath();
            ctx.arc(smokeX, smokeY, smokeSize, 0, Math.PI*2);
            ctx.fill();
          }
        }
      });

      // District labels - —É–±—Ä–∞–Ω—ã –±–æ–ª—å—à–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —É–ª–∏—Ü
      ctx.restore();
    }

    function draw(){
      ctx.clearRect(0,0,W,H);
      drawPlanLabels();

      // Blocks & fire with 3D effect
      for(let r=0;r<ROWS;r++){
        for(let c=0;c<COLS;c++){
          const x=offsetX+c*CELL, y=offsetY+r*CELL;
          if(grid[r][c]===1){
            // Wind effect on buildings
            const windStrength = Math.sqrt(windVec[0]*windVec[0] + windVec[1]*windVec[1]);
            let windOffsetX = 0;
            let windOffsetY = 0;
            
            if(windStrength > 0.3) {
              // Buildings sway slightly in wind
              windOffsetX = windVec[0] * 0.3;
              windOffsetY = windVec[1] * 0.2;
            }
            
            // Building shadow (cast on ground)
            ctx.save();
            ctx.fillStyle = 'rgba(0,0,0,0.3)';
            ctx.beginPath();
            ctx.ellipse(x + CELL/2 + 2, y + CELL + 2, CELL*0.4, CELL*0.2, 0, 0, Math.PI*2);
            ctx.fill();
            ctx.restore();
            
            // Draw building image based on fire state
            const isBurning = fire[r][c] === 2 || fire[r][c] === 3; // Burning or burned
            const useBurningImage = isBurning && buildingImagesLoaded.burning && buildingBurningImage.complete;
            
            // Skip drawing burning building image here - will be drawn after lake animation
            if(useBurningImage) {
              // Don't draw here - will be drawn after lake in drawPlanLabels
            } else if(!isBurning) {
              // Draw normal building image - use variant based on buildingVariants array
              const variantIndex = buildingVariants[r] && buildingVariants[r][c] !== undefined ? buildingVariants[r][c] : 0;
              let imageDrawn = false;
              
              if(variantIndex >= 0 && variantIndex < buildingNormalImages.length) {
                const variantImage = buildingNormalImages[variantIndex];
                if(variantImage && buildingImagesLoaded.normal[variantIndex] && variantImage.complete) {
                  // Draw specific variant of normal building
                  ctx.drawImage(variantImage, x+1 + windOffsetX, y+1 + windOffsetY, CELL-2, CELL-2);
                  imageDrawn = true;
                }
              }
              
              // Fallback to canvas drawing if variant image not loaded
              if(!imageDrawn) {
                // Fallback: draw building with canvas (original code)
                const width = CELL - 2;
                const depth = CELL - 2;
            
            // Building base with gradient for depth
            let buildingGradient = ctx.createLinearGradient(x, y, x + CELL, y + CELL);
            
            if(fire[r][c] === 3) {
              buildingGradient.addColorStop(0, 'rgba(105,105,105,0.9)');
              buildingGradient.addColorStop(1, 'rgba(80,80,80,0.9)');
            } else {
              buildingGradient.addColorStop(0, 'rgba(139,69,19,0.95)');
              buildingGradient.addColorStop(0.5, 'rgba(101,67,33,0.9)');
              buildingGradient.addColorStop(1, 'rgba(139,69,19,0.95)');
            }
            
            ctx.fillStyle = buildingGradient;
            ctx.fillRect(x+1 + windOffsetX, y+1 + windOffsetY, CELL-2, CELL-2);
            
            // Enhanced 3D shadow effect
            let sideColor = '#654321';
            if(fire[r][c] === 3) {
              sideColor = '#696969';
            }
            
            ctx.fillStyle = sideColor;
            ctx.fillRect(x+2 + windOffsetX, y+2 + windOffsetY, CELL-2, CELL-2);
            
            // Top face (roof) with gradient
            let roofGradient = ctx.createLinearGradient(x, y-2, x + CELL, y-2);
            
            if(fire[r][c] === 1) {
              roofGradient.addColorStop(0, 'rgba(139,69,19,0.9)');
              roofGradient.addColorStop(1, 'rgba(101,67,33,0.9)');
            } else if(fire[r][c] === 2) {
              roofGradient.addColorStop(0, 'rgba(47,27,20,0.95)');
              roofGradient.addColorStop(1, 'rgba(20,10,5,0.95)');
            } else if(fire[r][c] === 3) {
              roofGradient.addColorStop(0, 'rgba(105,105,105,0.9)');
              roofGradient.addColorStop(1, 'rgba(80,80,80,0.9)');
            } else {
              roofGradient.addColorStop(0, 'rgba(101,67,33,0.9)');
              roofGradient.addColorStop(1, 'rgba(139,69,19,0.9)');
            }
            
            ctx.fillStyle = roofGradient;
            ctx.fillRect(x + windOffsetX, y-2 + windOffsetY, CELL, 4);
            
            // Enhanced windows with glow effect
            let windowColor = '#654321';
            if(fire[r][c] === 3) {
              windowColor = '#696969';
            } else if(fire[r][c] === 0) {
              // Normal windows with slight glow
              windowColor = 'rgba(255,200,100,0.3)';
            }
            
            ctx.fillStyle = windowColor;
            for(let wx = 0; wx < 3; wx++) {
              for(let wy = 0; wy < 2; wy++) {
                const wxPos = x + 4 + wx * (width/3) + windOffsetX;
                const wyPos = y + 4 + wy * (depth/2) + windOffsetY;
                ctx.fillRect(wxPos, wyPos, 4, 6);
                // Window glow for normal buildings
                if(fire[r][c] === 0) {
                  ctx.shadowBlur = 3;
                  ctx.shadowColor = 'rgba(255,200,100,0.5)';
                  ctx.fillRect(wxPos, wyPos, 4, 6);
                  ctx.shadowBlur = 0;
                }
              }
            }
            
            // Building outline for definition
            ctx.strokeStyle = fire[r][c] === 3 ? 'rgba(80,80,80,0.5)' : 'rgba(50,30,20,0.4)';
            ctx.lineWidth = 1;
            ctx.strokeRect(x+1 + windOffsetX, y+1 + windOffsetY, CELL-2, CELL-2);
              }
            }
          }
          if(fire[r][c]===1){
            // Enhanced smoldering stage - glowing embers (more transparent)
            const grd = ctx.createRadialGradient(x+CELL/2,y+CELL/2,2,x+CELL/2,y+CELL/2,CELL*0.7);
            grd.addColorStop(0,'rgba(255,100,0,0.3)'); 
            grd.addColorStop(0.4,'rgba(255,150,50,0.2)'); 
            grd.addColorStop(0.7,'rgba(255,200,100,0.1)'); 
            grd.addColorStop(1,'rgba(255,250,150,0)');
            ctx.fillStyle=grd; 
            ctx.fillRect(x,y,CELL,CELL);
            
            // Glowing embers with pulsing effect (more transparent)
            const time = performance.now() * 0.005;
            ctx.fillStyle=`rgba(255,${180 + Math.sin(time + r + c)*30},${80 + Math.cos(time + r + c)*40},0.4)`;
            for(let i=0; i<3; i++) {
              const sparkX = x + Math.random()*CELL;
              const sparkY = y + Math.random()*CELL;
              ctx.beginPath();
              ctx.arc(sparkX, sparkY, 1.5 + Math.sin(time + i)*0.5, 0, Math.PI*2);
              ctx.fill();
            }
          }else if(fire[r][c]===2){
            // Enhanced active fire - intense flames with glow (more transparent to show building image)
            const grd2 = ctx.createRadialGradient(x+CELL/2,y+CELL/2,3,x+CELL/2,y+CELL/2,CELL*0.8);
            grd2.addColorStop(0,'rgba(255,50,0,0.5)'); 
            grd2.addColorStop(0.2,'rgba(255,100,0,0.45)'); 
            grd2.addColorStop(0.4,'rgba(255,150,0,0.35)'); 
            grd2.addColorStop(0.6,'rgba(255,200,50,0.25)'); 
            grd2.addColorStop(0.8,'rgba(255,250,150,0.1)'); 
            grd2.addColorStop(1,'rgba(255,250,200,0)');
            ctx.fillStyle=grd2; 
            ctx.fillRect(x,y,CELL,CELL);
            
            // Outer glow effect (more transparent)
            ctx.shadowBlur = 8;
            ctx.shadowColor = 'rgba(255,100,0,0.3)';
            ctx.fillRect(x,y,CELL,CELL);
            ctx.shadowBlur = 0;
            
            // Bright sparks and embers (more transparent)
            const time = performance.now() * 0.01;
            ctx.fillStyle='rgba(255,255,200,0.5)';
            for(let i=0; i<6; i++) {
              const sparkX = x + Math.random()*CELL;
              const sparkY = y + Math.random()*CELL;
              const sparkSize = 1.5 + Math.sin(time + i)*0.8;
              ctx.beginPath();
              ctx.arc(sparkX, sparkY, sparkSize, 0, Math.PI*2);
              ctx.fill();
            }
            
            // Dynamic flames with wind effect (more transparent)
            const windEffect = windVec[0] * 0.4;
            for(let i=0; i<4; i++) {
              const flameGradient = ctx.createRadialGradient(
                x + CELL/2 + windEffect + (Math.random()-0.5)*CELL*0.6,
                y + Math.random()*CELL*0.5,
                0,
                x + CELL/2 + windEffect + (Math.random()-0.5)*CELL*0.6,
                y + Math.random()*CELL*0.5,
                4
              );
              flameGradient.addColorStop(0,'rgba(255,200,0,0.5)');
              flameGradient.addColorStop(0.5,'rgba(255,100,0,0.35)');
              flameGradient.addColorStop(1,'rgba(255,50,0,0)');
              ctx.fillStyle = flameGradient;
              const flameX = x + CELL/2 + windEffect + (Math.random()-0.5)*CELL*0.8;
              const flameY = y + Math.random()*CELL*0.6;
              ctx.beginPath();
              ctx.arc(flameX, flameY, 3 + Math.random()*2, 0, Math.PI*2);
              ctx.fill();
            }
          }else if(fire[r][c]===3){
            // Only draw ash/smoke effects if NOT using building-burning.png image
            const useBurningImage = buildingImagesLoaded.burning && buildingBurningImage.complete;
            if(!useBurningImage) {
              // Enhanced burned building - ash and smoke effects (fallback only)
            const ashGradient = ctx.createLinearGradient(x, y, x + CELL, y + CELL);
            ashGradient.addColorStop(0,'rgba(105,105,105,0.7)');
            ashGradient.addColorStop(0.5,'rgba(80,80,80,0.6)');
            ashGradient.addColorStop(1,'rgba(105,105,105,0.7)');
            ctx.fillStyle=ashGradient;
            ctx.fillRect(x,y,CELL,CELL);
            
            // Ash particles with wind
            const windAshEffect = windVec[0] * 0.3;
            ctx.fillStyle='rgba(70,70,70,0.9)';
            for(let i=0; i<8; i++) {
              const ashX = x + Math.random()*CELL*0.9 + windAshEffect;
              const ashY = y + Math.random()*CELL*0.9;
              ctx.beginPath();
              ctx.arc(ashX, ashY, 1.5, 0, Math.PI*2);
              ctx.fill();
            }
            
            // Enhanced smoke from burned building
            for(let i=0; i<4; i++) {
              const smokeGradient = ctx.createRadialGradient(
                x + CELL/2 + windVec[0] * 0.6,
                y - Math.random()*CELL*0.6,
                0,
                x + CELL/2 + windVec[0] * 0.6,
                y - Math.random()*CELL*0.6,
                5
              );
              smokeGradient.addColorStop(0,'rgba(60,60,60,0.6)');
              smokeGradient.addColorStop(0.5,'rgba(50,50,50,0.4)');
              smokeGradient.addColorStop(1,'rgba(40,40,40,0)');
              ctx.fillStyle = smokeGradient;
              const smokeX = x + CELL/2 + windVec[0] * 0.5;
              const smokeY = y - Math.random()*CELL*0.5;
              ctx.beginPath();
              ctx.arc(smokeX, smokeY, 4, 0, Math.PI*2);
              ctx.fill();
            }
            }
            // If using building-burning.png, skip ash/smoke effects to show the dark image clearly
          }
          
          // –≠—Ñ—Ñ–µ–∫—Ç –≤–µ—Ç—Ä–∞ –Ω–∞ –≤—Å–µ –∑–¥–∞–Ω–∏—è (–¥–∞–∂–µ –Ω–µ –≥–æ—Ä—è—â–∏–µ)
          if(grid[r][c] === 1) {
            const windStrength = Math.sqrt(windVec[0]*windVec[0] + windVec[1]*windVec[1]);
            if(windStrength > 0.5) {
              // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –≤–µ—Ç—Ä–∞ - –ª–µ–≥–∫–æ–µ —Å–º–µ—â–µ–Ω–∏–µ —Ç–µ–Ω–µ–π
              const windOffset = windVec[0] * 0.5;
              ctx.fillStyle='rgba(0,0,0,0.1)';
              ctx.fillRect(x + windOffset, y + windOffset, CELL-2, CELL-2);
            }
          }
        }
      }

      // Enhanced Water Tower - the only building that doesn't burn (painted red to distinguish it)
      if(waterTower.active) {
        ctx.save();
        
        // Minimalist Water Tower - simple red circle with yellow outline (matching preview map)
        // Red circle
        ctx.fillStyle = '#dc3c3c';
        ctx.beginPath();
        ctx.arc(waterTower.x, waterTower.y, waterTower.size, 0, Math.PI*2);
        ctx.fill();
        
        // Yellow outline
        ctx.strokeStyle = '#ffb703';
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.arc(waterTower.x, waterTower.y, waterTower.size, 0, Math.PI*2);
        ctx.stroke();
        
        // Label inside circle - smaller font to fit perfectly
        ctx.shadowBlur = 2;
        ctx.shadowColor = 'rgba(0,0,0,0.5)';
        ctx.fillStyle='#ffffff'; // White text for better contrast on red background
        ctx.font='bold ' + Math.max(8, CELL*0.18) + 'px system-ui';
        ctx.textAlign='center';
        ctx.textBaseline='middle'; // Center vertically
        ctx.fillText('Water Tower', waterTower.x, waterTower.y);
        ctx.shadowBlur = 0;
        ctx.restore();
      }

      // Simple Hydrants - red circle with yellow outline, centered
      for(const h of hydrants){
        const radius = Math.max(4, CELL*0.15);
        
        // Red circle
        ctx.fillStyle='#fb5607';
        ctx.beginPath();
        ctx.arc(h.x, h.y, radius, 0, Math.PI*2);
        ctx.fill();
        
        // Yellow outline
        ctx.strokeStyle='#ffb703';
        ctx.lineWidth=2;
        ctx.stroke();
      }
      
      // Central hydrant - same style as preview map (simple red circle, no outline)
      if(centralHydrant){
        const radius = Math.max(4, CELL*0.15);
        ctx.fillStyle='#fb5607';
        ctx.beginPath();
        ctx.arc(centralHydrant.x, centralHydrant.y, radius, 0, Math.PI*2);
        ctx.fill();
      }

      // Enhanced Power-ups with pulsing glow
      for(const pu of powerUps){
        const alpha = Math.sin(pu.life * 0.1) * 0.3 + 0.7;
        const pulse = Math.sin(pu.life * 0.15) * 0.2 + 1;
        ctx.save();
        ctx.globalAlpha = alpha;
        
        let color, glowColor;
        switch(pu.type){
          case 'waterBoost':
            color = '#4ea8de';
            glowColor = 'rgba(78,168,222,0.6)';
            break;
          case 'fireResist':
            color = '#52b788';
            glowColor = 'rgba(82,183,136,0.6)';
            break;
          case 'speedBoost':
            color = '#ffb703';
            glowColor = 'rgba(255,183,3,0.6)';
            break;
          case 'extinguisher':
            color = '#ff6b6b';
            glowColor = 'rgba(255,107,107,0.6)';
            break;
          case 'shield':
            color = '#9c88ff';
            glowColor = 'rgba(156,136,255,0.6)';
            break;
        }
        
        const size = Math.max(4, CELL*0.15) * pulse;
        
        // Outer glow
        ctx.shadowBlur = 10;
        ctx.shadowColor = glowColor;
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.arc(pu.x, pu.y, size, 0, Math.PI*2);
        ctx.fill();
        
        // Inner highlight
        const powerGradient = ctx.createRadialGradient(pu.x, pu.y, 0, pu.x, pu.y, size);
        powerGradient.addColorStop(0,'rgba(255,255,255,0.8)');
        powerGradient.addColorStop(0.3,color);
        powerGradient.addColorStop(1,color);
        ctx.fillStyle = powerGradient;
        ctx.shadowBlur = 0;
        ctx.beginPath();
        ctx.arc(pu.x, pu.y, size, 0, Math.PI*2);
        ctx.fill();
        
        // Border
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 2;
        ctx.stroke();
        ctx.restore();
      }

      // Enhanced Civilians with better visuals
      for(const civ of civilians){
        if(civ.rescued) continue;
        ctx.save();
        
        const size = civ.type === 'child' ? Math.max(3, CELL*0.1) : Math.max(4, CELL*0.12);
        const baseColor = civ.type === 'child' ? '#ffb3ba' : '#b3d9ff';
        
        if(civ.panic > 30) {
          ctx.globalAlpha = 0.5 + Math.sin(civ.panic * 0.2) * 0.3;
        }
        
        // Shadow
        ctx.fillStyle='rgba(0,0,0,0.3)';
        ctx.beginPath();
        ctx.arc(civ.x + 1, civ.y + 1, size, 0, Math.PI*2);
        ctx.fill();
        
        // Body with gradient
        const civGradient = ctx.createRadialGradient(civ.x, civ.y, 0, civ.x, civ.y, size);
        if(civ.type === 'child') {
          civGradient.addColorStop(0,'rgba(255,220,220,1)');
          civGradient.addColorStop(0.7,'rgba(255,179,186,0.95)');
          civGradient.addColorStop(1,'rgba(255,150,160,0.9)');
        } else {
          civGradient.addColorStop(0,'rgba(220,240,255,1)');
          civGradient.addColorStop(0.7,'rgba(179,217,255,0.95)');
          civGradient.addColorStop(1,'rgba(150,200,255,0.9)');
        }
        ctx.fillStyle = civGradient;
        ctx.beginPath();
        ctx.arc(civ.x, civ.y, size, 0, Math.PI*2);
        ctx.fill();
        
        // Glow effect when panicking
        if(civ.panic > 30) {
          ctx.shadowBlur = 4;
          ctx.shadowColor = civ.type === 'child' ? 'rgba(255,179,186,0.5)' : 'rgba(179,217,255,0.5)';
          ctx.strokeStyle = '#fff';
          ctx.lineWidth = 1.5;
          ctx.stroke();
          ctx.shadowBlur = 0;
        } else {
          ctx.strokeStyle = '#fff';
          ctx.lineWidth = 1;
          ctx.stroke();
        }
        ctx.restore();
      }

      // Explosions
      for(const exp of explosions){
        ctx.save();
        ctx.globalAlpha = exp.life / 60;
        const gradient = ctx.createRadialGradient(exp.x, exp.y, 0, exp.x, exp.y, exp.radius);
        gradient.addColorStop(0, 'rgba(255,100,0,0.8)');
        gradient.addColorStop(0.5, 'rgba(255,200,0,0.4)');
        gradient.addColorStop(1, 'rgba(255,100,0,0)');
        ctx.fillStyle = gradient;
        ctx.beginPath();
        ctx.arc(exp.x, exp.y, exp.radius, 0, Math.PI*2);
        ctx.fill();
        ctx.restore();
      }

      // Player - different appearance based on role
      const ang = Math.atan2(mouse.y - player.y, mouse.x - player.x);
      if(playerRole === 'cow') {
        // Cow character - use PNG image
        ctx.save();
        ctx.translate(player.x, player.y);
        ctx.rotate(ang);
        
        if(imagesLoaded.cow && cowImage.complete) {
          // Draw cow image
          const imgSize = CELL * 1.2; // Size of the image
          ctx.drawImage(cowImage, -imgSize/2, -imgSize/2, imgSize, imgSize);
        } else {
          // Fallback: simple placeholder if image not loaded
        ctx.fillStyle='rgba(50,35,25,0.95)';
        ctx.beginPath();
        ctx.ellipse(0, 0, CELL*0.55, CELL*0.4, 0, 0, Math.PI*2);
          ctx.fill();
        }
        
        ctx.restore();
        
        // Direction indicator for cow
        ctx.strokeStyle='#ffb703';
        ctx.lineWidth=2;
        ctx.beginPath();
        ctx.moveTo(player.x, player.y);
        ctx.lineTo(player.x + Math.cos(ang)*CELL*0.6, player.y + Math.sin(ang)*CELL*0.6);
        ctx.stroke();
      } else if(playerRole === 'oleary') {
        // O'Leary character - use PNG image
        ctx.save();
        ctx.translate(player.x, player.y);
        ctx.rotate(ang);
        
        if(imagesLoaded.oleary && mrsOlearyImage.complete) {
          // Draw Mrs. O'Leary image
          const imgSize = CELL * 1.0; // Size of the image
          ctx.drawImage(mrsOlearyImage, -imgSize/2, -imgSize/2, imgSize, imgSize);
        } else {
          // Fallback: simple placeholder if image not loaded
        ctx.fillStyle='rgba(120,80,100,0.95)';
        ctx.beginPath();
        ctx.moveTo(0, CELL*0.1);
        ctx.lineTo(-CELL*0.22, CELL*0.35);
        ctx.lineTo(CELL*0.22, CELL*0.35);
        ctx.closePath();
        ctx.fill();
        
        // Head
        ctx.fillStyle='rgba(255,220,180,0.95)';
        ctx.beginPath();
        ctx.arc(0, -CELL*0.12, CELL*0.16, 0, Math.PI*2);
        ctx.fill();
        }
        
        ctx.restore();
        
        // Direction indicator for O'Leary
        ctx.strokeStyle='#ffb703';
        ctx.lineWidth=2;
        ctx.beginPath();
        ctx.moveTo(player.x, player.y);
        ctx.lineTo(player.x + Math.cos(ang)*CELL*0.6, player.y + Math.sin(ang)*CELL*0.6);
        ctx.stroke();
      } else {
        // Firefighter - fire truck/vehicle design
        ctx.save();
        ctx.translate(player.x, player.y);
        ctx.rotate(ang);
        
        if(fireTruckImageLoaded && fireTruckImage.complete) {
          // Draw fire truck image (preserve aspect ratio)
          const imgWidth = fireTruckImage.width || CELL * 1.2;
          const imgHeight = fireTruckImage.height || CELL * 0.7;
          const aspectRatio = imgWidth / imgHeight;
          const drawWidth = CELL * 1.2;
          const drawHeight = drawWidth / aspectRatio;
          ctx.drawImage(fireTruckImage, -drawWidth/2, -drawHeight/2, drawWidth, drawHeight);
        } else {
          // Fallback: draw fire truck with canvas (original code)
        // Fire truck body (red rectangle)
        ctx.fillStyle='rgba(220,20,20,0.95)';
        ctx.fillRect(-CELL*0.35, -CELL*0.2, CELL*0.7, CELL*0.4);
        
        // White stripe on truck
        ctx.fillStyle='rgba(255,255,255,0.9)';
        ctx.fillRect(-CELL*0.3, -CELL*0.15, CELL*0.6, CELL*0.1);
        
        // Cab/windshield (darker red)
        ctx.fillStyle='rgba(180,10,10,0.95)';
        ctx.fillRect(-CELL*0.35, -CELL*0.2, CELL*0.25, CELL*0.4);
        
        // Wheels
        ctx.fillStyle='rgba(30,30,30,0.95)';
        ctx.beginPath();
        ctx.arc(-CELL*0.2, CELL*0.25, CELL*0.12, 0, Math.PI*2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(CELL*0.2, CELL*0.25, CELL*0.12, 0, Math.PI*2);
        ctx.fill();
        
        // Wheel rims
        ctx.fillStyle='rgba(200,200,200,0.8)';
        ctx.beginPath();
        ctx.arc(-CELL*0.2, CELL*0.25, CELL*0.08, 0, Math.PI*2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(CELL*0.2, CELL*0.25, CELL*0.08, 0, Math.PI*2);
        ctx.fill();
        
        // Fire hose/nozzle on top
        ctx.fillStyle='rgba(50,50,50,0.9)';
        ctx.fillRect(CELL*0.15, -CELL*0.25, CELL*0.15, CELL*0.1);
        ctx.fillStyle='rgba(100,150,255,0.8)';
        ctx.beginPath();
        ctx.arc(CELL*0.3, -CELL*0.2, CELL*0.08, 0, Math.PI*2);
        ctx.fill();
        }
        
        ctx.restore();
        
        // Direction indicator
        ctx.strokeStyle='#8ecae6';
        ctx.lineWidth=2;
        ctx.beginPath();
        ctx.moveTo(player.x, player.y);
        ctx.lineTo(player.x + Math.cos(ang)*CELL*0.7, player.y + Math.sin(ang)*CELL*0.7);
        ctx.stroke();
      }

      // Draw automatic fire trucks (only when player is cow)
      if(playerRole === 'cow' && autoFireTrucks.length > 0) {
        for(let truck of autoFireTrucks) {
          ctx.save();
          ctx.translate(truck.x, truck.y);
          
          // Calculate angle towards target
          const dx = truck.targetX - truck.x;
          const dy = truck.targetY - truck.y;
          const truckAngle = Math.atan2(dy, dx);
          ctx.rotate(truckAngle);
          
          // Draw fire truck (similar to player firefighter truck)
          if(fireTruckImageLoaded && fireTruckImage.complete) {
            const imgWidth = fireTruckImage.width || CELL * 1.0;
            const imgHeight = fireTruckImage.height || CELL * 0.6;
            const aspectRatio = imgWidth / imgHeight;
            const drawWidth = CELL * 1.0;
            const drawHeight = drawWidth / aspectRatio;
            ctx.drawImage(fireTruckImage, -drawWidth/2, -drawHeight/2, drawWidth, drawHeight);
          } else {
            // Fallback: draw fire truck with canvas
            ctx.fillStyle='rgba(200,30,30,0.95)';
            ctx.fillRect(-CELL*0.3, -CELL*0.18, CELL*0.6, CELL*0.36);
            
            // White stripe
            ctx.fillStyle='rgba(255,255,255,0.9)';
            ctx.fillRect(-CELL*0.25, -CELL*0.12, CELL*0.5, CELL*0.08);
            
            // Cab
            ctx.fillStyle='rgba(160,20,20,0.95)';
            ctx.fillRect(-CELL*0.3, -CELL*0.18, CELL*0.2, CELL*0.36);
            
            // Wheels
            ctx.fillStyle='rgba(30,30,30,0.95)';
            ctx.beginPath();
            ctx.arc(-CELL*0.15, CELL*0.2, CELL*0.1, 0, Math.PI*2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(CELL*0.15, CELL*0.2, CELL*0.1, 0, Math.PI*2);
            ctx.fill();
            
            // Wheel rims
            ctx.fillStyle='rgba(200,200,200,0.8)';
            ctx.beginPath();
            ctx.arc(-CELL*0.15, CELL*0.2, CELL*0.07, 0, Math.PI*2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(CELL*0.15, CELL*0.2, CELL*0.07, 0, Math.PI*2);
            ctx.fill();
          }
          
          ctx.restore();
          
          // Draw water spray from truck only when actively extinguishing
          if(truck.canExtinguish && truck.targetFire && truck.water > 0 && truck.cooldown <= 0.05) {
            const fireX = truck.targetFire.x;
            const fireY = truck.targetFire.y;
            const fireDist = Math.hypot(truck.x - fireX, truck.y - fireY);
            if(fireDist < CELL * 4) {
              const r = truck.targetFire.r;
              const c = truck.targetFire.c;
              
              // Only show water spray if fire is actually burning
              if(fire[r] && fire[r][c] && (fire[r][c] === 1 || fire[r][c] === 2)) {
                const sprayAngle = Math.atan2(fireY - truck.y, fireX - truck.x);
                const range = CELL * 3.5;
              
              // Draw water spray
              ctx.save();
              for(let i = 0; i < 12; i++){
                const t = i / 12;
                const sprayX = truck.x + Math.cos(sprayAngle) * (range * t);
                const sprayY = truck.y + Math.sin(sprayAngle) * (range * t);
                const spread = t * CELL * 0.15;
                const offsetX = (Math.random() - 0.5) * spread;
                const offsetY = (Math.random() - 0.5) * spread;
                
                ctx.fillStyle = `rgba(100,200,255,${0.6 - t * 0.4})`;
                ctx.beginPath();
                ctx.arc(sprayX + offsetX, sprayY + offsetY, 2 + Math.random() * 2, 0, Math.PI*2);
                ctx.fill();
              }
              
              // Main stream
              const streamGradient = ctx.createLinearGradient(
                truck.x, truck.y,
                truck.x + Math.cos(sprayAngle) * range,
                truck.y + Math.sin(sprayAngle) * range
              );
              streamGradient.addColorStop(0, 'rgba(150,200,255,0.6)');
              streamGradient.addColorStop(0.5, 'rgba(100,180,255,0.4)');
              streamGradient.addColorStop(1, 'rgba(80,160,255,0.2)');
              
              ctx.strokeStyle = streamGradient;
              ctx.lineWidth = 5;
              ctx.lineCap = 'round';
              ctx.beginPath();
              ctx.moveTo(truck.x, truck.y);
              ctx.lineTo(truck.x + Math.cos(sprayAngle) * range, truck.y + Math.sin(sprayAngle) * range);
              ctx.stroke();
              ctx.restore();
              }
            }
          }
        }
      }

      // Water spray visualization (only for firefighter and oleary)
      if(playerRole !== 'cow' && mouse.down && player.cooldown<=0 && player.water>0){
        const hasExtinguisher = player.powerUps.some(pu => pu.type === 'extinguisher');
        const range = hasExtinguisher ? CELL * 5.5 : CELL * 3.8;
        const sprayAngle = Math.atan2(mouse.y - player.y, mouse.x - player.x);
        
        // Draw water spray stream
        ctx.save();
        if(hasExtinguisher){
          // Extinguisher: white/blue foam spray - more powerful and visible
          for(let i = 0; i < 25; i++){
            const t = i / 25;
            const sprayX = player.x + Math.cos(sprayAngle) * (range * t);
            const sprayY = player.y + Math.sin(sprayAngle) * (range * t);
            const spread = t * CELL * 0.3; // Wider spread
            const offsetX = (Math.random() - 0.5) * spread;
            const offsetY = (Math.random() - 0.5) * spread;
            
            // White foam particles
            ctx.fillStyle = `rgba(255,255,255,${0.9 - t * 0.5})`;
            ctx.beginPath();
            ctx.arc(sprayX + offsetX, sprayY + offsetY, 3 + Math.random() * 3, 0, Math.PI*2);
            ctx.fill();
            
            // Blue water particles
            ctx.fillStyle = `rgba(100,200,255,${0.7 - t * 0.4})`;
            ctx.beginPath();
            ctx.arc(sprayX + offsetX * 0.7, sprayY + offsetY * 0.7, 2 + Math.random() * 2, 0, Math.PI*2);
            ctx.fill();
          }
          
          // Main powerful stream
          const streamGradient = ctx.createLinearGradient(
            player.x, player.y,
            player.x + Math.cos(sprayAngle) * range,
            player.y + Math.sin(sprayAngle) * range
          );
          streamGradient.addColorStop(0, 'rgba(255,255,255,0.8)');
          streamGradient.addColorStop(0.3, 'rgba(200,230,255,0.7)');
          streamGradient.addColorStop(0.7, 'rgba(150,200,255,0.5)');
          streamGradient.addColorStop(1, 'rgba(100,180,255,0.2)');
          
          ctx.strokeStyle = streamGradient;
          ctx.lineWidth = 8;
          ctx.lineCap = 'round';
          ctx.beginPath();
          ctx.moveTo(player.x, player.y);
          ctx.lineTo(player.x + Math.cos(sprayAngle) * range, player.y + Math.sin(sprayAngle) * range);
          ctx.stroke();
          
          // Glow effect for extinguisher
          ctx.shadowBlur = 15;
          ctx.shadowColor = 'rgba(200,230,255,0.8)';
          ctx.strokeStyle = streamGradient;
          ctx.lineWidth = 12;
          ctx.stroke();
          ctx.shadowBlur = 0;
        } else {
          // Normal water: blue stream
          for(let i = 0; i < 15; i++){
            const t = i / 15;
            const sprayX = player.x + Math.cos(sprayAngle) * (range * t);
            const sprayY = player.y + Math.sin(sprayAngle) * (range * t);
            const spread = t * CELL * 0.2;
            const offsetX = (Math.random() - 0.5) * spread;
            const offsetY = (Math.random() - 0.5) * spread;
            
            ctx.fillStyle = `rgba(100,180,255,${0.6 - t * 0.4})`;
            ctx.beginPath();
            ctx.arc(sprayX + offsetX, sprayY + offsetY, 2 + Math.random() * 2, 0, Math.PI*2);
            ctx.fill();
          }
          
          // Main water stream
          const waterGradient = ctx.createLinearGradient(
            player.x, player.y,
            player.x + Math.cos(sprayAngle) * range,
            player.y + Math.sin(sprayAngle) * range
          );
          waterGradient.addColorStop(0, 'rgba(100,180,255,0.6)');
          waterGradient.addColorStop(0.5, 'rgba(80,160,240,0.4)');
          waterGradient.addColorStop(1, 'rgba(60,140,220,0.2)');
          
          ctx.strokeStyle = waterGradient;
          ctx.lineWidth = 4;
          ctx.lineCap = 'round';
          ctx.beginPath();
          ctx.moveTo(player.x, player.y);
          ctx.lineTo(player.x + Math.cos(sprayAngle) * range, player.y + Math.sin(sprayAngle) * range);
          ctx.stroke();
        }
        ctx.restore();
      }
      
      // Cooldown indicator (when water is being used)
      if(mouse.down && player.cooldown>0){
        ctx.strokeStyle='rgba(120,180,255,.85)'; ctx.lineWidth=3; ctx.setLineDash([6,6]);
        ctx.beginPath(); ctx.moveTo(player.x, player.y);
        ctx.lineTo(player.x + Math.cos(ang)*CELL*3.8, player.y + Math.sin(ang)*CELL*3.8); ctx.stroke();
        ctx.setLineDash([]);
      }
      
      // Visual indicator for active extinguisher power-up
      const hasExtinguisher = player.powerUps.some(pu => pu.type === 'extinguisher');
      if(hasExtinguisher){
        ctx.save();
        // Pulsing glow around player
        const pulse = Math.sin(Date.now() * 0.01) * 0.3 + 0.7;
        ctx.shadowBlur = 20;
        ctx.shadowColor = 'rgba(255,255,255,0.6)';
        ctx.strokeStyle = `rgba(255,255,255,${pulse * 0.8})`;
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.arc(player.x, player.y, CELL * 0.5, 0, Math.PI*2);
        ctx.stroke();
        ctx.shadowBlur = 0;
        
        // Extinguisher icon above player (white foam/water symbol)
        ctx.fillStyle = '#ffffff';
        ctx.font = 'bold ' + Math.max(14, CELL*0.3) + 'px system-ui';
        ctx.textAlign = 'center';
        ctx.shadowBlur = 8;
        ctx.shadowColor = 'rgba(100,200,255,0.8)';
        ctx.fillText('üíß', player.x, player.y - CELL * 0.6);
        ctx.shadowBlur = 0;
        ctx.restore();
      }

      // Darken background when pre-round modal is visible
      if(preRoundModal && preRoundModal.style.display === 'flex') {
        ctx.fillStyle='rgba(0,0,0,0.7)'; 
        ctx.fillRect(0,0,W,H);
      }

      if(!running){
        ctx.fillStyle='rgba(0,0,0,0.55)'; ctx.fillRect(0,0,W,H);
        ctx.fillStyle='#ffd166'; ctx.font='bold 26px system-ui, Segoe UI, Arial'; ctx.textAlign='center';
        ctx.fillText(endMessage, W/2, H/2);
      }
    }

    function loop(ts){
      const dt = Math.min(0.05, (ts - last)/1000); last = ts;
      if(gameStarted) {
        step(dt); draw();
      }
      requestAnimationFrame(loop);
    }
    // Don't auto-start - wait for user to click "Start Game"
    // startLevel(0); 
    requestAnimationFrame(loop);
  })();

  // üß† Quiz: 30 questions (3 rounds) RU/EN/IT
  (function(){
    const rounds = [
      // Round 1 ‚Äî Basics
      [
        {q:{en:"When did the Great Chicago Fire start?",ru:"–ö–æ–≥–¥–∞ –Ω–∞—á–∞–ª—Å—è –í–µ–ª–∏–∫–∏–π –ø–æ–∂–∞—Ä –ß–∏–∫–∞–≥–æ?",it:"Quando inizi√≤ il Grande Incendio di Chicago?",tr:"B√ºy√ºk Chicago Yangƒ±nƒ± ne zaman ba≈üladƒ±?"},
         a:[{en:"Evening of Oct 8, 1871",ru:"–í–µ—á–µ—Ä–æ–º 8 –æ–∫—Ç—è–±—Ä—è 1871",it:"Sera dell'8 ottobre 1871",tr:"8 Ekim 1871 ak≈üamƒ±"},
            {en:"Morning of Oct 7, 1871",ru:"–£—Ç—Ä–æ–º 7 –æ–∫—Ç—è–±—Ä—è 1871",it:"Mattina del 7 ottobre 1871",tr:"7 Ekim 1871 sabahƒ±"},
            {en:"Noon of Oct 9, 1871",ru:"–ü–æ–ª–¥–µ–Ω—å 9 –æ–∫—Ç—è–±—Ä—è 1871",it:"Mezzogiorno del 9 ottobre 1871",tr:"9 Ekim 1871 √∂ƒüle"},
            {en:"Night of Oct 10, 1871",ru:"–ù–æ—á—å—é 10 –æ–∫—Ç—è–±—Ä—è 1871",it:"Notte del 10 ottobre 1871",tr:"10 Ekim 1871 gecesi"}], c:0},
        {q:{en:"Where is the traditional origin site?",ru:"–ì–¥–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç –º–µ—Å—Ç–æ –Ω–∞—á–∞–ª–∞ –ø–æ–∂–∞—Ä–∞?",it:"Dove si indica tradizionalmente l'origine?",tr:"Geleneksel ba≈ülangƒ±√ß yeri nerede?"},
         a:[{en:"DeKoven Street",ru:"–£–ª–∏—Ü–∞ DeKoven",it:"Via DeKoven",tr:"DeKoven Sokaƒüƒ±"},
            {en:"Michigan Avenue",ru:"–ê–≤–µ–Ω—é –ú–∏—á–∏–≥–∞–Ω",it:"Viale Michigan",tr:"Michigan Bulvarƒ±"},
            {en:"State Street",ru:"–°—Ç—Ä–∏—Ç –°—Ç–µ–π—Ç",it:"State Street",tr:"State Sokaƒüƒ±"},
            {en:"Wacker Drive",ru:"–£–æ–∫–µ—Ä-–¥—Ä–∞–π–≤",it:"Wacker Drive",tr:"Wacker Drive"}], c:0},
        {q:{en:"Which myth blames a cow for starting the fire?",ru:"–ö–∞–∫–æ–π –º–∏—Ñ –æ–±–≤–∏–Ω—è–µ—Ç –∫–æ—Ä–æ–≤—É –≤ –Ω–∞—á–∞–ª–µ –ø–æ–∂–∞—Ä–∞?",it:"Quale mito incolpa una mucca dell'incendio?",tr:"Hangi efsane yangƒ±nƒ± ba≈ülatmak i√ßin bir ineƒüi su√ßluyor?"},
         a:[{en:"Mrs. O'Leary's cow",ru:"–ö–æ—Ä–æ–≤–∞ –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏",it:"La mucca della signora O'Leary",tr:"Bayan O'Leary'nin ineƒüi"},
            {en:"Lincoln's cow",ru:"–ö–æ—Ä–æ–≤–∞ –õ–∏–Ω–∫–æ–ª—å–Ω–∞",it:"La mucca di Lincoln",tr:"Lincoln'√ºn ineƒüi"},
            {en:"Stockyards cow",ru:"–ö–æ—Ä–æ–≤–∞ —Å–æ —Å–∫–æ—Ç–Ω—ã—Ö –¥–≤–æ—Ä–æ–≤",it:"Mucca dei macelli",tr:"Mezbaha ineƒüi"},
            {en:"City Hall cow",ru:"–ö–æ—Ä–æ–≤–∞ –∏–∑ –º—ç—Ä–∏–∏",it:"Mucca del municipio",tr:"Belediye binasƒ± ineƒüi"}], c:0},
        {q:{en:"Which structure survived and became iconic?",ru:"–ö–∞–∫–æ–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏–µ –≤—ã–∂–∏–ª–æ –∏ —Å—Ç–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–º?",it:"Quale struttura sopravvisse diventando iconica?",tr:"Hangi yapƒ± hayatta kaldƒ± ve ikonik hale geldi?"},
         a:[{en:"Water Tower",ru:"–í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–∞—è –±–∞—à–Ω—è",it:"Water Tower",tr:"Su Kulesi"},
            {en:"Old Courthouse dome",ru:"–ö—É–ø–æ–ª —Å—É–¥–∞",it:"Cupola del tribunale",tr:"Eski Adalet Sarayƒ± kubbesi"},
            {en:"Tribune Building",ru:"–ó–¥–∞–Ω–∏–µ Tribune",it:"Edificio del Tribune",tr:"Tribune Binasƒ±"},
            {en:"City Hall",ru:"–ú—ç—Ä–∏—è",it:"Municipio",tr:"Belediye Binasƒ±"}], c:0},
        {q:{en:"Strong winds primarily blew from:",ru:"–°–∏–ª—å–Ω—ã–π –≤–µ—Ç–µ—Ä –¥—É–ª –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å:",it:"Il vento soffiava principalmente da:",tr:"G√º√ßl√º r√ºzgarlar √∂ncelikle hangi y√∂nden esti:"},
         a:[{en:"Southwest",ru:"–Æ–≥–æ-–∑–∞–ø–∞–¥–∞",it:"Sud-ovest",tr:"G√ºneybatƒ±"},
            {en:"Northeast",ru:"–°–µ–≤–µ—Ä–æ-–≤–æ—Å—Ç–æ–∫–∞",it:"Nord-est",tr:"Kuzeydoƒüu"},
            {en:"Northwest",ru:"–°–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–∞",it:"Nord-ovest",tr:"Kuzeybatƒ±"},
            {en:"Southeast",ru:"–Æ–≥–æ-–≤–æ—Å—Ç–æ–∫–∞",it:"Sud-est",tr:"G√ºneydoƒüu"}], c:0},
        {q:{en:"Approximate buildings destroyed:",ru:"–ü—Ä–∏–º–µ—Ä–Ω–æ–µ —á–∏—Å–ª–æ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω—ã—Ö –∑–¥–∞–Ω–∏–π:",it:"Numero approssimativo di edifici distrutti:",tr:"Yakla≈üƒ±k yƒ±kƒ±lan bina sayƒ±sƒ±:"},
         a:[{en:"~17,000",ru:"~17 000",it:"~17.000",tr:"~17.000"},
            {en:"~1,700",ru:"~1 700",it:"~1.700",tr:"~1.700"},
            {en:"~70,000",ru:"~70 000",it:"~70.000",tr:"~70.000"},
            {en:"~700",ru:"~700",it:"~700",tr:"~700"}], c:0},
        {q:{en:"Homeless after the fire:",ru:"–õ–∏—à–∏–≤—à–∏—Ö—Å—è –∂–∏–ª—å—è:",it:"Senza tetto dopo l'incendio:",tr:"Yangƒ±ndan sonra evsiz kalan:"},
         a:[{en:"‚â•100,000",ru:"‚â•100 000",it:"‚â•100.000",tr:"‚â•100.000"},
            {en:"~10,000",ru:"~10 000",it:"~10.000",tr:"~10.000"},
            {en:"~500,000",ru:"~500 000",it:"~500.000",tr:"~500.000"},
            {en:"~5,000",ru:"~5 000",it:"~5.000",tr:"~5.000"}], c:0},
        {q:{en:"Which district did the fire cross to on Oct 9?",ru:"–ö–∞–∫–æ–π —Ä–∞–π–æ–Ω –æ–≥–æ–Ω—å –ø–µ—Ä–µ—Å—ë–∫ 9 –æ–∫—Ç—è–±—Ä—è?",it:"Quale lato attravers√≤ il fuoco il 9 ottobre?",tr:"Yangƒ±n 9 Ekim'de hangi b√∂lgeyi ge√ßti?"},
         a:[{en:"North Side",ru:"–°–µ–≤–µ—Ä–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É",it:"Lato Nord",tr:"Kuzey Yakasƒ±"},
            {en:"South Side",ru:"–Æ–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É",it:"Lato Sud",tr:"G√ºney Yakasƒ±"},
            {en:"West Ridge",ru:"–í–µ—Å—Ç-–†–∏–¥–∂",it:"West Ridge",tr:"West Ridge"},
            {en:"Hyde Park",ru:"–•–∞–π–¥-–ü–∞—Ä–∫",it:"Hyde Park",tr:"Hyde Park"}], c:0},
        {q:{en:"Which facility's failure crippled firefighting?",ru:"–û—Ç–∫–∞–∑ –∫–∞–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –æ—Å–ª–æ–∂–Ω–∏–ª —Ç—É—à–µ–Ω–∏–µ?",it:"Il guasto di quale impianto ostacol√≤ lo spegnimento?",tr:"Hangi tesisin arƒ±zasƒ± yangƒ±n s√∂nd√ºrmeyi engelledi?"},
         a:[{en:"Pumping Station",ru:"–ù–∞—Å–æ—Å–Ω–æ–π —Å—Ç–∞–Ω—Ü–∏–∏",it:"Stazione di pompaggio",tr:"Pompa ƒ∞stasyonu"},
            {en:"Rail depot",ru:"–ñ/–¥ –¥–µ–ø–æ",it:"Deposito ferroviario",tr:"Demiryolu deposu"},
            {en:"Telegraph office",ru:"–¢–µ–ª–µ–≥—Ä–∞—Ñ–∞",it:"Ufficio telegrafico",tr:"Telgraf ofisi"},
            {en:"Gasworks",ru:"–ì–∞–∑–æ–≤–æ–≥–æ –∑–∞–≤–æ–¥–∞",it:"Gasometro",tr:"Gaz fabrikasƒ±"}], c:0},
        {q:{en:"When did the fire subside?",ru:"–ö–æ–≥–¥–∞ –ø–ª–∞–º—è –ø–æ—à–ª–æ –Ω–∞ —Å–ø–∞–¥?",it:"Quando l'incendio diminu√¨?",tr:"Yangƒ±n ne zaman azaldƒ±?"},
         a:[{en:"Early Oct 10",ru:"–†–∞–Ω–Ω–∏–º —É—Ç—Ä–æ–º 10 –æ–∫—Ç—è–±—Ä—è",it:"Mattino del 10 ottobre",tr:"10 Ekim erken sabah"},
            {en:"Late Oct 9",ru:"–ü–æ–∑–¥–Ω–æ 9 –æ–∫—Ç—è–±—Ä—è",it:"Tardi il 9 ottobre",tr:"9 Ekim ge√ß"},
            {en:"Oct 11 noon",ru:"–ü–æ–ª–¥–µ–Ω—å 11 –æ–∫—Ç—è–±—Ä—è",it:"Mezzogiorno del 11 ottobre",tr:"11 Ekim √∂ƒüle"},
            {en:"Oct 8 morning",ru:"–£—Ç—Ä–æ 8 –æ–∫—Ç—è–±—Ä—è",it:"Mattina dell'8 ottobre",tr:"8 Ekim sabah"}], c:0},
      ],
      // Round 2 ‚Äî Media & Memory
      [
        {q:{en:"What media often dramatized the origin?",ru:"–ö–∞–∫–∞—è –º–µ–¥–∏–∞–æ–±—Ä–∞–∑–Ω–æ—Å—Ç—å —á–∞—Å—Ç–æ –¥—Ä–∞–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–æ–∂–∞—Ä–∞?",it:"Quale immagine mediatica drammatizz√≤ spesso l'origine?",tr:"Hangi medya genellikle k√∂keni dramatize etti?"},
         a:[{en:"Illustrations of Mrs. O'Leary's barn",ru:"–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ —Å–∞—Ä–∞—è –º–∏—Å—Å–∏—Å –û'–õ–∏—Ä–∏",it:"Illustrazioni della stalla della signora O'Leary",tr:"Bayan O'Leary'nin ahƒ±rƒ±nƒ±n ill√ºstrasyonlarƒ±"},
            {en:"Maps only",ru:"–¢–æ–ª—å–∫–æ –∫–∞—Ä—Ç—ã",it:"Solo mappe",tr:"Sadece haritalar"},
            {en:"Architectural plans",ru:"–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–ª–∞–Ω—ã",it:"Piani architettonici",tr:"Mimari planlar"},
            {en:"Rail timetables",ru:"–ñ/–¥ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è",it:"Orari ferroviari",tr:"Demiryolu tarifeleri"}], c:0},
        {q:{en:"A common photo subject after the fire:",ru:"–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Å—é–∂–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞:",it:"Soggetto fotografico comune dopo l'incendio:",tr:"Yangƒ±ndan sonra yaygƒ±n fotoƒüraf konusu:"},
         a:[{en:"Ruins and rubble",ru:"–†—É–∏–Ω—ã –∏ –∑–∞–≤–∞–ª—ã",it:"Rovine e macerie",tr:"Harabeler ve moloz"},
            {en:"Airplanes",ru:"–°–∞–º–æ–ª—ë—Ç—ã",it:"Aerei",tr:"U√ßaklar"},
            {en:"Subways",ru:"–ú–µ—Ç—Ä–æ",it:"Metropolitane",tr:"Metrolar"},
            {en:"Skyscrapers from 1700s",ru:"–ù–µ–±–æ—Å–∫—Ä—ë–±—ã 1700-—Ö",it:"Grattacieli del 1700",tr:"1700'lerden g√∂kdelenler"}], c:0},
        {q:{en:"Which later building symbolized rebuilding spirit?",ru:"–ö–∞–∫–æ–µ –ø–æ–∑–¥–Ω–µ–π—à–µ–µ –∑–¥–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä–æ–≤–∞–ª–æ –¥—É—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è?",it:"Quale edificio successivo simboleggi√≤ la ricostruzione?",tr:"Hangi sonraki bina yeniden in≈üa ruhunu simgeledi?"},
         a:[{en:"Reliance Building",ru:"Reliance Building",it:"Reliance Building",tr:"Reliance Binasƒ±"},
            {en:"Parthenon",ru:"–ü–∞—Ä—Ñ–µ–Ω–æ–Ω",it:"Partenone",tr:"Parthenon"},
            {en:"Eiffel Tower",ru:"–≠–π—Ñ–µ–ª–µ–≤–∞ –±–∞—à–Ω—è",it:"Torre Eiffel",tr:"Eyfel Kulesi"},
            {en:"Alhambra",ru:"–ê–ª—å–≥–∞–º–±—Ä–∞",it:"Alhambra",tr:"Alhambra"}], c:0},
        {q:{en:"Which institution today curates many visuals?",ru:"–ö–∞–∫–æ–π –∏–Ω—Å—Ç–∏—Ç—É—Ç —Å–µ–≥–æ–¥–Ω—è –∫—É—Ä–∏—Ä—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤?",it:"Quale istituzione cura oggi molti materiali?",tr:"Hangi kurum bug√ºn bir√ßok g√∂rseli k√ºrat√∂rl√ºk ediyor?"},
         a:[{en:"Chicago History Museum",ru:"–ú—É–∑–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –ß–∏–∫–∞–≥–æ",it:"Chicago History Museum",tr:"Chicago Tarih M√ºzesi"},
            {en:"Louvre",ru:"–õ—É–≤—Ä",it:"Louvre",tr:"Louvre"},
            {en:"Uffizi",ru:"–£—Ñ—Ñ–∏—Ü–∏",it:"Uffizi",tr:"Uffizi"},
            {en:"Smithsonian Air & Space",ru:"–°–º–∏—Ç—Å–æ–Ω–æ–≤—Å–∫–∏–π Air & Space",it:"Smithsonian Air & Space",tr:"Smithsonian Hava ve Uzay"}], c:0},
        {q:{en:"Press vs. map comparison shows:",ru:"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ ¬´–ø—Ä–µ—Å—Å–∞ ‚Üî –∫–∞—Ä—Ç–∞¬ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:",it:"Il confronto \"stampa vs mappa\" mostra:",tr:"Basƒ±n vs harita kar≈üƒ±la≈ütƒ±rmasƒ± g√∂steriyor:"},
         a:[{en:"Difference between narrative and extent",ru:"–†–∞–∑—Ä—ã–≤ –º–µ–∂–¥—É –Ω–∞—Ä—Ä–∞—Ç–∏–≤–æ–º –∏ –æ—Ö–≤–∞—Ç–æ–º",it:"Differenza tra racconto ed estensione",tr:"Anlatƒ± ve kapsam arasƒ±ndaki fark"},
            {en:"Only identical coverage",ru:"–¢–æ–ª—å–∫–æ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –æ—Ö–≤–∞—Ç",it:"Copertura identica",tr:"Sadece √∂zde≈ü kapsam"},
            {en:"Shipping schedules",ru:"–°—É–¥–æ—Ö–æ–¥–Ω—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è",it:"Orari marittimi",tr:"Nakliye tarifeleri"},
            {en:"Architect salaries",ru:"–ó–∞—Ä–ø–ª–∞—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤",it:"Stipendi degli architetti",tr:"Mimar maa≈ülarƒ±"}], c:0},
        {q:{en:"Relic House refers to:",ru:"¬´Relic House¬ª –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫:",it:"Relic House si riferisce a:",tr:"Relic House ≈üuna atƒ±fta bulunur:"},
         a:[{en:"A building of salvaged fragments",ru:"–ó–¥–∞–Ω–∏–µ –∏–∑ —Å–ø–∞—Å—ë–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤",it:"Edificio con frammenti recuperati",tr:"Kurtarƒ±lan par√ßalardan yapƒ±lmƒ±≈ü bina"},
            {en:"A courthouse",ru:"–°—É–¥–µ–±–Ω–æ–µ –∑–¥–∞–Ω–∏–µ",it:"Tribunale",tr:"Adalet sarayƒ±"},
            {en:"A train depot",ru:"–ñ/–¥ –¥–µ–ø–æ",it:"Deposito ferroviario",tr:"Tren deposu"},
            {en:"A ship",ru:"–ö–æ—Ä–∞–±–ª—å",it:"Nave",tr:"Gemi"}], c:0},
        {q:{en:"Insurance debates after the fire concerned:",ru:"–ü–æ—Å–ª–µ–ø–æ–∂–∞—Ä–Ω—ã–µ –¥–∏—Å–∫—É—Å—Å–∏–∏ —Å—Ç—Ä–∞—Ö–æ–≤—â–∏–∫–æ–≤ –∫–∞—Å–∞–ª–∏—Å—å:",it:"Dibattiti assicurativi dopo l'incendio riguardavano:",tr:"Yangƒ±ndan sonraki sigorta tartƒ±≈ümalarƒ± ≈üunlarƒ± ilgilendiriyordu:"},
         a:[{en:"Payouts & building codes",ru:"–í—ã–ø–ª–∞—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–æ—Ä–º",it:"Risarcimenti e codici edilizi",tr:"√ñdemeler ve in≈üaat kodlarƒ±"},
            {en:"Art exhibits",ru:"–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã—Å—Ç–∞–≤–æ–∫",it:"Mostre d'arte",tr:"Sanat sergileri"},
            {en:"Baseball rules",ru:"–ü—Ä–∞–≤–∏–ª –±–µ–π—Å–±–æ–ª–∞",it:"Regole del baseball",tr:"Beyzbol kurallarƒ±"},
            {en:"Opera schedules",ru:"–ê—Ñ–∏—à–∏ –æ–ø–µ—Ä—ã",it:"Programmi d'opera",tr:"Opera programlarƒ±"}], c:0},
        {q:{en:"A key memory theme was:",ru:"–ö–ª—é—á–µ–≤–æ–π –º–æ—Ç–∏–≤ –ø–∞–º—è—Ç–∏:",it:"Tema chiave della memoria:",tr:"Ana hafƒ±za temasƒ± ≈üuydu:"},
         a:[{en:"Resilience & rebuilding",ru:"–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",it:"Resilienza e ricostruzione",tr:"Dayanƒ±klƒ±lƒ±k ve yeniden in≈üa"},
            {en:"Abandoning the city",ru:"–û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞",it:"Abbandono della citt√†",tr:"≈ûehri terk etme"},
            {en:"Space travel",ru:"–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—ë—Ç—ã",it:"Viaggi nello spazio",tr:"Uzay yolculuƒüu"},
            {en:"Renaissance art",ru:"–ò—Å–∫—É—Å—Å—Ç–≤–æ –†–µ–Ω–µ—Å—Å–∞–Ω—Å–∞",it:"Arte rinascimentale",tr:"R√∂nesans sanatƒ±"}], c:0},
        {q:{en:"Which myth detail was later questioned?",ru:"–ö–∞–∫—É—é –¥–µ—Ç–∞–ª—å –º–∏—Ñ–∞ –ø–æ–∑–∂–µ –æ—Å–ø–∞—Ä–∏–≤–∞–ª–∏?",it:"Quale dettaglio del mito √® stato messo in discussione?",tr:"Hangi efsane detayƒ± daha sonra sorgulandƒ±?"},
         a:[{en:"Whether a cow started it",ru:"–ù–∞—á–∞–ª–∞—Å—å –ª–∏ –≤—Å—ë –∏–∑‚Äë–∑–∞ –∫–æ—Ä–æ–≤—ã",it:"Se fu davvero una mucca",tr:"Bir ineƒüin ba≈ülatƒ±p ba≈ülatmadƒ±ƒüƒ±"},
            {en:"If water is wet",ru:"–ú–æ–∫—Ä–∞—è –ª–∏ –≤–æ–¥–∞",it:"Se l'acqua √® bagnata",tr:"Suyun ƒ±slak olup olmadƒ±ƒüƒ±"},
            {en:"If Chicago is a planet",ru:"–ß–∏–∫–∞–≥–æ ‚Äî –ø–ª–∞–Ω–µ—Ç–∞?",it:"Chicago √® un pianeta?",tr:"Chicago'nun gezegen olup olmadƒ±ƒüƒ±"},
            {en:"If 1871 existed",ru:"–°—É—â–µ—Å—Ç–≤–æ–≤–∞–ª –ª–∏ 1871 –≥–æ–¥",it:"Se il 1871 sia esistito",tr:"1871'in var olup olmadƒ±ƒüƒ±"}], c:0},
        {q:{en:"What did many early images emphasize?",ru:"–ß—Ç–æ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–ª–∏ –º–Ω–æ–≥–∏–µ —Ä–∞–Ω–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è?",it:"Cosa enfatizzavano molte immagini iniziali?",tr:"Bir√ßok erken g√∂r√ºnt√º neyi vurguladƒ±?"},
         a:[{en:"Drama and spectacle",ru:"–î—Ä–∞–º—É –∏ –∑—Ä–µ–ª–∏—â–Ω–æ—Å—Ç—å",it:"Dramma e spettacolo",tr:"Drama ve g√∂steri"},
            {en:"Suburban calm",ru:"–ü—Ä–∏–≥–æ—Ä–æ–¥–Ω–æ–µ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ",it:"Calma suburbana",tr:"Banliy√∂ sakinliƒüi"},
            {en:"Snow storms",ru:"–°–Ω–µ–∂–Ω—ã–µ –±—É—Ä–∏",it:"Tempeste di neve",tr:"Kar fƒ±rtƒ±nalarƒ±"},
            {en:"Harbor fishing",ru:"–†—ã–±–∞–ª–∫—É –≤ –≥–∞–≤–∞–Ω–∏",it:"Pesca nel porto",tr:"Liman balƒ±k√ßƒ±lƒ±ƒüƒ±"}], c:0},
      ],
      // Round 3 ‚Äî City & Aftermath
      [
        {q:{en:"Which area formed the fire's 'Burnt District'?",ru:"–ö–∞–∫–∞—è –∑–æ–Ω–∞ —Å—Ç–∞–ª–∞ ¬´–≤—ã–∂–∂–µ–Ω–Ω—ã–º —Ä–∞–π–æ–Ω–æ–º¬ª?",it:"Quale zona fu il \"Burnt District\"?",tr:"Hangi alan yangƒ±nƒ±n 'Yanmƒ±≈ü B√∂lgesi'ni olu≈üturdu?"},
         a:[{en:"Large central swath incl. Loop",ru:"–ë–æ–ª—å—à–∞—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–æ–ª–æ—Å–∞ (–≤–∫–ª. Loop)",it:"Ampia fascia centrale incl. Loop",tr:"Loop dahil b√ºy√ºk merkezi ≈üerit"},
            {en:"Only far South Side",ru:"–¢–æ–ª—å–∫–æ –¥–∞–ª—å–Ω–∏–π –Æ–≥",it:"Solo estrema South Side",tr:"Sadece uzak G√ºney Yakasƒ±"},
            {en:"Only O'Hare",ru:"–¢–æ–ª—å–∫–æ O'Hare",it:"Solo O'Hare",tr:"Sadece O'Hare"},
            {en:"Only Hyde Park",ru:"–¢–æ–ª—å–∫–æ –•–∞–π–¥-–ü–∞—Ä–∫",it:"Solo Hyde Park",tr:"Sadece Hyde Park"}], c:0},
        {q:{en:"Aftermath reforms pushed for:",ru:"–ü–æ—Å–ª–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã –ø—Ä–æ–¥–≤–∏–≥–∞–ª–∏:",it:"Le riforme spinsero per:",tr:"Sonrasƒ± reformlarƒ± ≈üunlarƒ± destekledi:"},
         a:[{en:"Stricter building materials",ru:"–ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã",it:"Materiali pi√π rigidi",tr:"Daha sƒ±kƒ± in≈üaat malzemeleri"},
            {en:"Lower taxes only",ru:"–¢–æ–ª—å–∫–æ —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤",it:"Solo tasse pi√π basse",tr:"Sadece daha d√º≈ü√ºk vergiler"},
            {en:"Banning all wood globally",ru:"–ó–∞–ø—Ä–µ—Ç –≤—Å–µ–≥–æ –¥–µ—Ä–µ–≤–∞ –≤ –º–∏—Ä–µ",it:"Divieto del legno nel mondo",tr:"D√ºnya √ßapƒ±nda t√ºm ah≈üabƒ± yasaklama"},
            {en:"Demolishing the Water Tower",ru:"–°–Ω–æ—Å –±–∞—à–Ω–∏",it:"Demolizione della torre",tr:"Su Kulesini yƒ±kma"}], c:0},
        {q:{en:"Which map feature did people compare to media?",ru:"–ö–∞–∫—É—é –∫–∞—Ä—Ç—É —Å—Ä–∞–≤–Ω–∏–≤–∞–ª–∏ —Å –º–µ–¥–∏–∞?",it:"Quale mappa venne confrontata ai media?",tr:"ƒ∞nsanlar hangi harita √∂zelliƒüini medya ile kar≈üƒ±la≈ütƒ±rdƒ±?"},
         a:[{en:"Extent of burn (damage map)",ru:"–ö–∞—Ä—Ç—É –æ—Ö–≤–∞—Ç–∞ –≤—ã–≥–æ—Ä–∞–Ω–∏—è",it:"Mappa dell'estensione del danno",tr:"Yanma kapsamƒ± (hasar haritasƒ±)"},
            {en:"Streetcar routes only",ru:"–¢–æ–ª—å–∫–æ —Ç—Ä–∞–º–≤–∞–π–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã",it:"Solo tram",tr:"Sadece tramvay rotalarƒ±"},
            {en:"County borders",ru:"–ì—Ä–∞–Ω–∏—Ü—ã –æ–∫—Ä—É–≥–∞",it:"Confini di contea",tr:"ƒ∞l√ße sƒ±nƒ±rlarƒ±"},
            {en:"Elevation contours",ru:"–ò–∑–æ–≥–∏–ø—Å—ã",it:"Curve di livello",tr:"Y√ºkseklik konturlarƒ±"}], c:0},
        {q:{en:"How did the fire influence skyscraper era?",ru:"–ö–∞–∫ –ø–æ–∂–∞—Ä –ø–æ–≤–ª–∏—è–ª –Ω–∞ —ç–ø–æ—Ö—É –Ω–µ–±–æ—Å–∫—Ä—ë–±–æ–≤?",it:"Come influenz√≤ l'era dei grattacieli?",tr:"Yangƒ±n g√∂kdelen √ßaƒüƒ±nƒ± nasƒ±l etkiledi?"},
         a:[{en:"Spurred safer steel/stone construction",ru:"–ü–æ–¥—Ç–æ–ª–∫–Ω—É–ª –∫ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∫–∞—Ä–∫–∞—Å–∞–º",it:"Spinse strutture in acciaio/pietra pi√π sicure",tr:"Daha g√ºvenli √ßelik/ta≈ü yapƒ±larƒ± te≈üvik etti"},
            {en:"Ended all tall building projects",ru:"–ü—Ä–µ–∫—Ä–∞—Ç–∏–ª –≤—ã—Å–æ—Ç–Ω–æ–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ",it:"Pose fine ai grattacieli",tr:"T√ºm y√ºksek bina projelerini sonlandƒ±rdƒ±"},
            {en:"Led to wooden towers",ru:"–ü—Ä–∏–≤—ë–ª –∫ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–º –±–∞—à–Ω—è–º",it:"Port√≤ a torri di legno",tr:"Ah≈üap kulelere yol a√ßtƒ±"},
            {en:"Banned elevators",ru:"–ó–∞–ø—Ä–µ—Ç–∏–ª –ª–∏—Ñ—Ç—ã",it:"Band√¨ gli ascensori",tr:"Asans√∂rleri yasakladƒ±"}], c:0},
        {q:{en:"Which street corner became a ruin icon?",ru:"–ö–∞–∫–æ–π —É–≥–æ–ª —Å—Ç–∞–ª –∏–∫–æ–Ω–æ–π —Ä—É–∏–Ω?",it:"Quale incrocio divenne un'icona di rovine?",tr:"Hangi sokak k√∂≈üesi harabe simgesi haline geldi?"},
         a:[{en:"State & Madison",ru:"State & Madison",it:"State & Madison",tr:"State & Madison"},
            {en:"5th & Main",ru:"5th & Main",it:"5th & Main",tr:"5th & Main"},
            {en:"Broadway & 7th",ru:"Broadway & 7th",it:"Broadway & 7th",tr:"Broadway & 7th"},
            {en:"Fleet & King",ru:"Fleet & King",it:"Fleet & King",tr:"Fleet & King"}], c:0},
        {q:{en:"Relief efforts included:",ru:"–ü–æ–º–æ—â—å –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏–º –≤–∫–ª—é—á–∞–ª–∞:",it:"Gli aiuti includevano:",tr:"Yardƒ±m √ßabalarƒ± ≈üunlarƒ± i√ßeriyordu:"},
         a:[{en:"Donations & temporary shelters",ru:"–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏—é—Ç—ã",it:"Donazioni e rifugi temporanei",tr:"Baƒüƒ±≈ülar ve ge√ßici barƒ±naklar"},
            {en:"Only fireworks",ru:"–¢–æ–ª—å–∫–æ —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∏",it:"Solo fuochi d'artificio",tr:"Sadece havai fi≈üekler"},
            {en:"Balloon mail",ru:"–ü–æ—á—Ç—É –Ω–∞ —à–∞—Ä–∞—Ö",it:"Posta in pallone",tr:"Balon postasƒ±"},
            {en:"Ice deliveries",ru:"–î–æ—Å—Ç–∞–≤–∫—É –ª—å–¥–∞",it:"Consegna di ghiaccio",tr:"Buz teslimatlarƒ±"}], c:0},
        {q:{en:"Which landmark marks the origin today?",ru:"–ß—Ç–æ –æ—Ç–º–µ—á–∞–µ—Ç –º–µ—Å—Ç–æ –Ω–∞—á–∞–ª–∞ —Å–µ–≥–æ–¥–Ω—è?",it:"Cosa segna oggi il luogo d'origine?",tr:"Hangi simgesel yer bug√ºn k√∂keni i≈üaretliyor?"},
         a:[{en:"Chicago Fire Academy site",ru:"–ü–ª–æ—â–∞–¥–∫–∞ Chicago Fire Academy",it:"Sede della Chicago Fire Academy",tr:"Chicago Yangƒ±n Akademisi sitesi"},
            {en:"Millennium Park bean",ru:"–ë–æ–± –≤ Millennium Park",it:"Bean al Millennium Park",tr:"Milenyum Park fasulyesi"},
            {en:"Wrigley Field",ru:"–°—Ç–∞–¥–∏–æ–Ω Wrigley",it:"Wrigley Field",tr:"Wrigley Stadyumu"},
            {en:"Willis Tower skydeck",ru:"Skydeck Willis Tower",it:"Skydeck Willis Tower",tr:"Willis Kulesi g√∂zlem g√ºvertesi"}], c:0},
        {q:{en:"What fueled the fire's spread in 1871 drought?",ru:"–ß—Ç–æ –ø–æ–¥–ø–∏—Ç—ã–≤–∞–ª–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –∑–∞—Å—É—Ö–∏ 1871?",it:"Cosa aliment√≤ la diffusione durante la siccit√† del 1871?",tr:"1871 kuraklƒ±ƒüƒ±nda yangƒ±nƒ±n yayƒ±lmasƒ±nƒ± ne besledi?"},
         a:[{en:"Dry wooden buildings & debris",ru:"–°—É—Ö–∏–µ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–µ –ø–æ—Å—Ç—Ä–æ–π–∫–∏ –∏ –º—É—Å–æ—Ä",it:"Edifici in legno asciutti e detriti",tr:"Kuru ah≈üap binalar ve moloz"},
            {en:"Marble roofs",ru:"–ú—Ä–∞–º–æ—Ä–Ω—ã–µ –∫—Ä—ã—à–∏",it:"Tetti di marmo",tr:"Mermer √ßatƒ±lar"},
            {en:"Frequent snow",ru:"–ß–∞—Å—Ç—ã–µ —Å–Ω–µ–≥–æ–ø–∞–¥—ã",it:"Neve frequente",tr:"Sƒ±k kar yaƒüƒ±≈üƒ±"},
            {en:"Stone streets only",ru:"–¢–æ–ª—å–∫–æ –∫–∞–º–µ–Ω–Ω—ã–µ —É–ª–∏—Ü—ã",it:"Solo strade in pietra",tr:"Sadece ta≈ü sokaklar"}], c:0},
        {q:{en:"Which side did winds often push flames toward first?",ru:"–ö—É–¥–∞ –≤–µ—Ç–µ—Ä —á–∞—Å—Ç–æ —Ç—è–Ω—É–ª –æ–≥–æ–Ω—å —Å–ø–µ—Ä–≤–∞?",it:"Verso quale lato spinse spesso le fiamme inizialmente?",tr:"R√ºzgarlar genellikle alevleri √∂nce hangi y√∂ne itti?"},
         a:[{en:"Toward the Loop/downtown",ru:"–ö Loop/—Ü–µ–Ω—Ç—Ä—É",it:"Verso il Loop/centro",tr:"Loop/≈üehir merkezine doƒüru"},
            {en:"Into Lake Michigan",ru:"–í –æ–∑–µ—Ä–æ –ú–∏—á–∏–≥–∞–Ω",it:"Nel Lago Michigan",tr:"Michigan G√∂l√º'ne"},
            {en:"To suburbs only",ru:"–¢–æ–ª—å–∫–æ –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥—ã",it:"Solo periferia",tr:"Sadece banliy√∂lere"},
            {en:"To Indiana dunes",ru:"–ö –¥—é–Ω–∞–º –ò–Ω–¥–∏–∞–Ω—ã",it:"Verso le dune dell'Indiana",tr:"Indiana kumullarƒ±na"}], c:0},
        {q:{en:"After the fire, the city image shifted to:",ru:"–ü–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞ –æ–±—Ä–∞–∑ –≥–æ—Ä–æ–¥–∞ —Å–º–µ—Å—Ç–∏–ª—Å—è –∫:",it:"Dopo l'incendio, l'immagine della citt√† divenne:",tr:"Yangƒ±ndan sonra ≈üehir imajƒ± ≈üu y√∂ne kaydƒ±:"},
         a:[{en:"Resilience & modern growth",ru:"–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏",it:"Resilienza e crescita moderna",tr:"Dayanƒ±klƒ±lƒ±k ve modern b√ºy√ºme"},
            {en:"Permanent decline",ru:"–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–º—É —É–ø–∞–¥–∫—É",it:"Declino permanente",tr:"Kalƒ±cƒ± d√º≈ü√º≈ü"},
            {en:"Agrarian retreat",ru:"–í–æ–∑–≤—Ä–∞—Ç—É –∫ –∞–≥—Ä–∞—Ä–Ω–æ—Å—Ç–∏",it:"Ritorno agrario",tr:"Tarƒ±msal geri √ßekilme"},
            {en:"Monastic silence",ru:"–ú–æ–Ω–∞—à–µ—Å–∫–æ–π —Ç–∏—à–∏–Ω–µ",it:"Silenzio monastico",tr:"Manastƒ±r sessizliƒüi"}], c:0},
      ],
      // Round 4 ‚Äî Streets & Their Historical Significance
      [
        {q:{en:"Which street is known as 'the street where Hell began'?",ru:"–ö–∞–∫–∞—è —É–ª–∏—Ü–∞ –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ '—É–ª–∏—Ü–∞, –≥–¥–µ —Ä–æ–¥–∏–ª—Å—è –∞–¥'?",it:"Quale strada √® conosciuta come 'la strada dove nacque l'inferno'?",tr:"Hangi sokak 'cehennemin ba≈üladƒ±ƒüƒ± sokak' olarak bilinir?"},
         a:[{en:"DeKoven Street",ru:"DeKoven Street",it:"Via DeKoven",tr:"DeKoven Sokaƒüƒ±"},
            {en:"LaSalle Street",ru:"LaSalle Street",it:"Via LaSalle",tr:"LaSalle Sokaƒüƒ±"},
            {en:"Michigan Avenue",ru:"Michigan Avenue",it:"Viale Michigan",tr:"Michigan Bulvarƒ±"},
            {en:"State Street",ru:"State Street",it:"State Street",tr:"State Sokaƒüƒ±"}], c:0},
        {q:{en:"Where was the O'Leary barn located?",ru:"–ì–¥–µ –Ω–∞—Ö–æ–¥–∏–ª—Å—è —Å–∞—Ä–∞–π –û'–õ–∏—Ä–∏?",it:"Dove si trovava il fienile degli O'Leary?",tr:"O'Leary ahƒ±rƒ± neredeydi?"},
         a:[{en:"137 DeKoven Street",ru:"137 DeKoven Street",it:"137 Via DeKoven",tr:"137 DeKoven Sokaƒüƒ±"},
            {en:"Michigan Avenue",ru:"Michigan Avenue",it:"Viale Michigan",tr:"Michigan Bulvarƒ±"},
            {en:"State Street",ru:"State Street",it:"State Street",tr:"State Sokaƒüƒ±"},
            {en:"Clark Street",ru:"Clark Street",it:"Via Clark",tr:"Clark Sokaƒüƒ±"}], c:0},
        {q:{en:"Which street was called 'the financial graveyard'?",ru:"–ö–∞–∫–∞—è —É–ª–∏—Ü–∞ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å '—Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –∫–ª–∞–¥–±–∏—â–µ'?",it:"Quale strada fu chiamata 'il cimitero finanziario'?",tr:"Hangi sokak 'finansal mezarlƒ±k' olarak adlandƒ±rƒ±ldƒ±?"},
         a:[{en:"LaSalle Street",ru:"LaSalle Street",it:"Via LaSalle",tr:"LaSalle Sokaƒüƒ±"},
            {en:"DeKoven Street",ru:"DeKoven Street",it:"Via DeKoven",tr:"DeKoven Sokaƒüƒ±"},
            {en:"Chicago Avenue",ru:"Chicago Avenue",it:"Viale Chicago",tr:"Chicago Bulvarƒ±"},
            {en:"Kinzie Street",ru:"Kinzie Street",it:"Via Kinzie",tr:"Kinzie Sokaƒüƒ±"}], c:0},
        {q:{en:"What was destroyed on LaSalle Street during the fire?",ru:"–ß—Ç–æ –±—ã–ª–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–æ –Ω–∞ LaSalle Street –≤–æ –≤—Ä–µ–º—è –ø–æ–∂–∞—Ä–∞?",it:"Cosa fu distrutto su LaSalle Street durante l'incendio?",tr:"Yangƒ±n sƒ±rasƒ±nda LaSalle Sokaƒüƒ±'nda ne yok edildi?"},
         a:[{en:"Banks, exchanges, and insurance companies",ru:"–ë–∞–Ω–∫–∏, –±–∏—Ä–∂–∏ –∏ —Å—Ç—Ä–∞—Ö–æ–≤—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏",it:"Banche, borse e compagnie assicurative",tr:"Bankalar, borsalar ve sigorta ≈üirketleri"},
            {en:"Only residential buildings",ru:"–¢–æ–ª—å–∫–æ –∂–∏–ª—ã–µ –∑–¥–∞–Ω–∏—è",it:"Solo edifici residenziali",tr:"Sadece konut binalarƒ±"},
            {en:"Only warehouses",ru:"–¢–æ–ª—å–∫–æ —Å–∫–ª–∞–¥—ã",it:"Solo magazzini",tr:"Sadece depolar"},
            {en:"Only churches",ru:"–¢–æ–ª—å–∫–æ —Ü–µ—Ä–∫–≤–∏",it:"Solo chiese",tr:"Sadece kiliseler"}], c:0},
        {q:{en:"Which street was described as having 'a continuous wall of flame'?",ru:"–ö–∞–∫–∞—è —É–ª–∏—Ü–∞ –±—ã–ª–∞ –æ–ø–∏—Å–∞–Ω–∞ –∫–∞–∫ –∏–º–µ—é—â–∞—è '—Å–ø–ª–æ—à–Ω—É—é —Å—Ç–µ–Ω—É –ø–ª–∞–º–µ–Ω–∏'?",it:"Quale strada fu descritta come avente 'un muro continuo di fiamme'?",tr:"Hangi sokak 's√ºrekli bir alev duvarƒ±' olarak tanƒ±mlandƒ±?"},
         a:[{en:"Dearborn Street",ru:"Dearborn Street",it:"Via Dearborn",tr:"Dearborn Sokaƒüƒ±"},
            {en:"DeKoven Street",ru:"DeKoven Street",it:"Via DeKoven",tr:"DeKoven Sokaƒüƒ±"},
            {en:"Chicago Avenue",ru:"Chicago Avenue",it:"Viale Chicago",tr:"Chicago Bulvarƒ±"},
            {en:"Clark Street",ru:"Clark Street",it:"Via Clark",tr:"Clark Sokaƒüƒ±"}], c:0},
        {q:{en:"Which street was called 'the street of violet smoke'?",ru:"–ö–∞–∫–∞—è —É–ª–∏—Ü–∞ –Ω–∞–∑—ã–≤–∞–ª–∞—Å—å '—É–ª–∏—Ü–∞ —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–≥–æ –¥—ã–º–∞'?",it:"Quale strada fu chiamata 'la strada del fumo viola'?",tr:"Hangi sokak 'mor duman sokaƒüƒ±' olarak adlandƒ±rƒ±ldƒ±?"},
         a:[{en:"Clark Street",ru:"Clark Street",it:"Via Clark",tr:"Clark Sokaƒüƒ±"},
            {en:"LaSalle Street",ru:"LaSalle Street",it:"Via LaSalle",tr:"LaSalle Sokaƒüƒ±"},
            {en:"Michigan Avenue",ru:"Michigan Avenue",it:"Viale Michigan",tr:"Michigan Bulvarƒ±"},
            {en:"State Street",ru:"State Street",it:"State Street",tr:"State Sokaƒüƒ±"}], c:0},
        {q:{en:"What happened on Kinzie Street during the fire?",ru:"–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞ Kinzie Street –≤–æ –≤—Ä–µ–º—è –ø–æ–∂–∞—Ä–∞?",it:"Cosa accadde su Kinzie Street durante l'incendio?",tr:"Yangƒ±n sƒ±rasƒ±nda Kinzie Sokaƒüƒ±'nda ne oldu?"},
         a:[{en:"The fire crossed the river via this bridge",ru:"–û–≥–æ–Ω—å –ø–µ—Ä–µ—Å—ë–∫ —Ä–µ–∫—É –ø–æ —ç—Ç–æ–º—É –º–æ—Å—Ç—É",it:"L'incendio attravers√≤ il fiume tramite questo ponte",tr:"Yangƒ±n bu k√∂pr√º √ºzerinden nehri ge√ßti"},
            {en:"The fire started there",ru:"–¢–∞–º –Ω–∞—á–∞–ª—Å—è –ø–æ–∂–∞—Ä",it:"L'incendio inizi√≤ l√¨",tr:"Yangƒ±n orada ba≈üladƒ±"},
            {en:"The fire was stopped there",ru:"–¢–∞–º –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ø–æ–∂–∞—Ä",it:"L'incendio fu fermato l√¨",tr:"Yangƒ±n orada durduruldu"},
            {en:"Nothing significant happened",ru:"–ù–∏—á–µ–≥–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ",it:"Non accadde nulla di significativo",tr:"√ñnemli bir ≈üey olmadƒ±"}], c:0},
        {q:{en:"Which avenue was home to Tremont House and Palmer House?",ru:"–ù–∞ –∫–∞–∫–æ–º –∞–≤–µ–Ω—é –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å Tremont House –∏ Palmer House?",it:"Su quale viale si trovavano Tremont House e Palmer House?",tr:"Tremont House ve Palmer House hangi bulvardaydƒ±?"},
         a:[{en:"Wabash/Michigan Avenues",ru:"Wabash/Michigan Avenues",it:"Viali Wabash/Michigan",tr:"Wabash/Michigan Bulvarlarƒ±"},
            {en:"State Street",ru:"State Street",it:"State Street",tr:"State Sokaƒüƒ±"},
            {en:"LaSalle Street",ru:"LaSalle Street",it:"Via LaSalle",tr:"LaSalle Sokaƒüƒ±"},
            {en:"Chicago Avenue",ru:"Chicago Avenue",it:"Viale Chicago",tr:"Chicago Bulvarƒ±"}], c:0},
        {q:{en:"Which street was the location of the Water Tower, one of the few surviving buildings?",ru:"–ù–∞ –∫–∞–∫–æ–π —É–ª–∏—Ü–µ –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å Water Tower, –æ–¥–Ω–æ –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö —É—Ü–µ–ª–µ–≤—à–∏—Ö –∑–¥–∞–Ω–∏–π?",it:"Su quale strada si trovava la Water Tower, uno dei pochi edifici sopravvissuti?",tr:"Water Tower, hayatta kalan birka√ß binadan biri, hangi sokaktaydƒ±?"},
         a:[{en:"Chicago Avenue",ru:"Chicago Avenue",it:"Viale Chicago",tr:"Chicago Bulvarƒ±"},
            {en:"DeKoven Street",ru:"DeKoven Street",it:"Via DeKoven",tr:"DeKoven Sokaƒüƒ±"},
            {en:"LaSalle Street",ru:"LaSalle Street",it:"Via LaSalle",tr:"LaSalle Sokaƒüƒ±"},
            {en:"State Street",ru:"State Street",it:"State Street",tr:"State Sokaƒüƒ±"}], c:0},
        {q:{en:"Where was the vast refugee camp located after the fire?",ru:"–ì–¥–µ –Ω–∞—Ö–æ–¥–∏–ª—Å—è –æ–≥—Ä–æ–º–Ω—ã–π –ª–∞–≥–µ—Ä—å –±–µ–∂–µ–Ω—Ü–µ–≤ –ø–æ—Å–ª–µ –ø–æ–∂–∞—Ä–∞?",it:"Dove si trovava il vasto campo profughi dopo l'incendio?",tr:"Yangƒ±ndan sonra geni≈ü m√ºlteci kampƒ± neredeydi?"},
         a:[{en:"North/Lincoln Avenues",ru:"North/Lincoln Avenues",it:"Viali North/Lincoln",tr:"North/Lincoln Bulvarlarƒ±"},
            {en:"DeKoven Street",ru:"DeKoven Street",it:"Via DeKoven",tr:"DeKoven Sokaƒüƒ±"},
            {en:"Michigan Avenue",ru:"Michigan Avenue",it:"Viale Michigan",tr:"Michigan Bulvarƒ±"},
            {en:"State Street",ru:"State Street",it:"State Street",tr:"State Sokaƒüƒ±"}], c:0},
      ]
    ];

    // Render a round of 10 questions
    const qsEl = document.getElementById('quizStage');
    const msgEl = document.getElementById('quizMsg');
    const roundLabel = document.getElementById('roundLabel');
    const btnPrev = document.getElementById('btnPrevRound');
    const btnNext = document.getElementById('btnNextRound');
    const btnSubmit = document.getElementById('btnSubmitRound');
    const btnRestartQuiz = document.getElementById('btnRestartQuiz');

    let roundIdx = parseInt(localStorage.getItem('quiz_round_idx')||'0',10);
    let unlocked = JSON.parse(localStorage.getItem('quiz_unlocked')||'[true,false,false,false]');
    if(unlocked.length<4) unlocked=[true,false,false,false];

    function tObj(o){const l=document.documentElement.getAttribute('data-lang')||'ru'; return o[l]||o['en'];}

    function renderRound(){
      qsEl.innerHTML='';
      const arr = rounds[roundIdx];
      roundLabel.textContent = `Round ${roundIdx+1}`;
      arr.forEach((item,qi)=>{
        const card=document.createElement('div'); card.className='qcard';
        const q=document.createElement('div'); q.textContent = `${qi+1}. ${tObj(item.q)}`;
        card.appendChild(q);
        const ch=document.createElement('div'); ch.className='choices';
        item.a.forEach((opt,oi)=>{
          const b=document.createElement('button'); b.textContent=tObj(opt);
          b.addEventListener('click',()=>{
            // toggle selection (single-choice)
            [...ch.children].forEach(bb=>bb.classList.remove('selected'));
            b.classList.add('selected'); b.dataset.sel='1';
          });
          ch.appendChild(b);
        });
        card.appendChild(ch);
        qsEl.appendChild(card);
      });
      msgEl.textContent = unlocked[roundIdx] ? '' : 'üîí Locked. Score ‚â•7/10 in previous round.';
      btnSubmit.disabled = !unlocked[roundIdx];
    }

    function scoreRound(){
      const arr = rounds[roundIdx];
      let correct=0;
      [...qsEl.children].forEach((card,i)=>{
        const buttons = card.querySelectorAll('.choices button');
        buttons.forEach((b,bi)=>{
          if(b.classList.contains('selected')){
            if(bi===arr[i].c){ correct++; b.classList.add('correct'); }
            else { b.classList.add('wrong'); }
          }
          // show correct
          if(bi===arr[i].c) b.classList.add('correct');
          b.disabled = true;
        });
      });
      return correct;
    }

    btnPrev.addEventListener('click',()=>{ if(roundIdx>0){ roundIdx--; localStorage.setItem('quiz_round_idx',roundIdx); renderRound(); }});
    btnNext.addEventListener('click',()=>{ if(roundIdx<3 && unlocked[roundIdx+1]){ roundIdx++; localStorage.setItem('quiz_round_idx',roundIdx); renderRound(); }});
    btnRestartQuiz.addEventListener('click',()=>{
      localStorage.removeItem('quiz_round_idx');
      localStorage.removeItem('quiz_unlocked');
      roundIdx = 0;
      unlocked = [true,false,false,false];
      renderRound();
      msgEl.textContent = '';
    });
    btnSubmit.addEventListener('click',()=>{
      const correct = scoreRound();
      const passed = correct>=7;
      const l = document.documentElement.getAttribute('data-lang')||'en';
      msgEl.textContent = (l==='ru') ? `–†–µ–∑—É–ª—å—Ç–∞—Ç: ${correct}/10. ${passed?'‚úÖ –û—Ç–∫—Ä—ã—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥.':'–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.'}` :
                         (l==='it') ? `Risultato: ${correct}/10. ${passed?'‚úÖ Turno successivo sbloccato.':'Riprova.'}` :
                                      `Score: ${correct}/10. ${passed?'‚úÖ Next round unlocked.':'Try again.'}`;
      if(passed && roundIdx<3){ unlocked[roundIdx+1]=true; localStorage.setItem('quiz_unlocked', JSON.stringify(unlocked)); }
    });

    renderRound();
  })();

  // üî• Moscow Fire Animation Rotator (5 animations)
  (function(){
    const animationContainer = document.getElementById('moscowFireAnimationContainer');
    const video = document.getElementById('moscowFireAnimation');
    const counter = document.getElementById('moscowFireAnimationCounter');
    if(!animationContainer || !video || !counter) return;
    
    // List of 5 animation files - PUT YOUR ANIMATION FILES IN: videos/moscow-fire/
    const animations = [
      'videos/moscow-fire/animation1.mp4',
      'videos/moscow-fire/animation2.mp4',
      'videos/moscow-fire/animation3.mp4',
      'videos/moscow-fire/animation4.mp4',
      'videos/moscow-fire/animation5.mp4'
    ];
    
    let currentIndex = 0;
    const animationDuration = 8000; // 8 seconds per animation (adjust as needed)
    
    function updateCounter(index){
      counter.textContent = `${index + 1} / ${animations.length}`;
    }
    
    function loadAnimation(index){
      if(index >= animations.length) index = 0;
      if(index < 0) index = animations.length - 1;
      
      currentIndex = index;
      const src = animations[index];
      
      // Clear existing sources
      video.innerHTML = '';
      
      // Add new source
      const source = document.createElement('source');
      source.src = src;
      source.type = 'video/mp4';
      video.appendChild(source);
      
      // Load and play
      video.load();
      video.play().catch(e => {
        console.log('Video autoplay prevented:', e);
        // If autoplay fails, try again after user interaction
        setTimeout(() => video.play().catch(() => {}), 100);
      });
      
      updateCounter(index);
    }
    
    // When video ends, switch to next
    video.addEventListener('ended', function(){
      loadAnimation(currentIndex + 1);
    });
    
    // Also use timer as backup (in case video doesn't fire 'ended' event)
    setInterval(function(){
      if(video.ended || (video.paused && video.currentTime > 0)){
        loadAnimation(currentIndex + 1);
      }
    }, animationDuration);
    
    // Initial load
    loadAnimation(0);
  })();

  // üì§ Fire Submission Form Handler
  (function(){
    const form = document.getElementById('fireSubmissionForm');
    if(!form) return;
    
    form.addEventListener('submit', function(e){
      e.preventDefault();
      
      const data = {
        name: document.getElementById('fireName').value,
        year: document.getElementById('fireYear').value,
        language: document.getElementById('fireLanguage').value,
        description: document.getElementById('fireDescription').value,
        sources: document.getElementById('fireSources').value,
        contact: document.getElementById('submitterContact').value,
        timestamp: new Date().toISOString()
      };
      
      // Store in localStorage (in real implementation, this would be sent to a server)
      const submissions = JSON.parse(localStorage.getItem('fire_submissions') || '[]');
      submissions.push(data);
      localStorage.setItem('fire_submissions', JSON.stringify(submissions));
      
      // Show success message
      const lang = document.documentElement.getAttribute('data-lang') || 'en';
      const messages = {
        ru: '–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç –µ—ë –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.',
        en: 'Thank you! Your information has been submitted for review. The administrator will review it before publication.',
        it: 'Grazie! Le tue informazioni sono state inviate per la revisione. L\'amministratore le esaminer√† prima della pubblicazione.',
        tr: 'Te≈üekk√ºrler! Bilgileriniz inceleme i√ßin g√∂nderildi. Y√∂netici yayƒ±nlanmadan √∂nce inceleyecektir.'
      };
      
      alert(messages[lang] || messages['en']);
      
      // Reset form
      form.reset();
    });
  })();

  // üé¨ Video Gallery Continuous Animation Controller
  (function() {
    const videoCards = document.querySelectorAll('#photo-library .card');
    const videos = document.querySelectorAll('#photo-library video');
    
    // Ensure all videos play continuously
    videos.forEach((video, index) => {
      video.addEventListener('loadstart', () => {
        video.play().catch(e => console.log('Video autoplay prevented:', e));
      });
      
      video.addEventListener('ended', () => {
        video.currentTime = 0;
        video.play().catch(e => console.log('Video replay prevented:', e));
      });
      
      video.addEventListener('pause', () => {
        setTimeout(() => {
          video.play().catch(e => console.log('Video resume prevented:', e));
        }, 100);
      });
      
      // Staggered animation delays for visual variety
      video.style.animationDelay = `${index * 0.5}s`;
    });
    
    // Add hover effects for enhanced interactivity
    videoCards.forEach((card, index) => {
      card.addEventListener('mouseenter', () => {
        const video = card.querySelector('video');
        if (video) {
          video.style.filter = 'brightness(1.1) contrast(1.2) saturate(1.2)';
          video.style.transform = 'scale(1.05)';
        }
        card.style.transform = 'scale(1.03)';
        card.style.zIndex = '10';
      });
      
      card.addEventListener('mouseleave', () => {
        const video = card.querySelector('video');
        if (video) {
          video.style.filter = '';
          video.style.transform = '';
        }
        card.style.transform = '';
        card.style.zIndex = '';
      });
    });
    
    // Intersection Observer for performance optimization
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const video = entry.target.querySelector('video');
        if (entry.isIntersecting) {
          if (video) {
            video.play().catch(e => console.log('Video play on intersection prevented:', e));
          }
        } else {
          if (video) {
            video.pause();
          }
        }
      });
    }, { threshold: 0.5 });
    
    videoCards.forEach(card => observer.observe(card));
    
    console.log('üé¨ Video Gallery Continuous Animation initialized');
  })();

  // üîç Lightbox for All Images
  (function(){
    const lightbox = document.createElement('div');
    lightbox.className = 'lightbox';
    lightbox.innerHTML = '<button class="lightbox-close" aria-label="Close">&times;</button><img src="" alt="">';
    document.body.appendChild(lightbox);
    const img = lightbox.querySelector('img');
    const closeBtn = lightbox.querySelector('.lightbox-close');
    
    // Add click handlers to all images in .ph containers
    document.querySelectorAll('.ph img, .ph video').forEach(media => {
      media.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        let src;
        if(media.tagName === 'VIDEO') {
          src = media.poster || media.currentSrc;
        } else {
          src = media.src;
        }
        img.src = src;
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
    });
    
    function closeLightbox() {
      lightbox.classList.remove('active');
      document.body.style.overflow = '';
    }
    
    closeBtn.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => {
      if(e.target === lightbox) closeLightbox();
    });
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && lightbox.classList.contains('active')) closeLightbox();
    });
  })();

  // üìú Scroll Animation for All Cards
  (function(){
    // Function to check visibility and show elements
    window.showAnimatedElements = function() {
      const animatedElements = document.querySelectorAll('.animated');
      animatedElements.forEach((el) => {
        const rect = el.getBoundingClientRect();
        const isVisible = rect.top < window.innerHeight + 200 && rect.bottom > -200;
        
        if (isVisible && !el.classList.contains('visible')) {
          el.classList.add('visible');
        }
      });
    };
    
    // Run check multiple times to catch all elements
    setTimeout(window.showAnimatedElements, 100);
    setTimeout(window.showAnimatedElements, 300);
    setTimeout(window.showAnimatedElements, 500);
    
    // Also check on language change
    const langObserver = new MutationObserver(() => {
      setTimeout(window.showAnimatedElements, 100);
      // Update pre-round modal language if it's visible
      if(typeof updatePreRoundModalLanguage === 'function') {
        updatePreRoundModalLanguage();
      }
    });
    langObserver.observe(document.documentElement, { 
      attributes: true, 
      attributeFilter: ['data-lang'] 
    });
    
    // Intersection Observer for scroll animations
    const animatedElements = document.querySelectorAll('.animated');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if(entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.01, rootMargin: '100px' });
    
    animatedElements.forEach(el => observer.observe(el));
  })();
</script>
</body>
</html>


